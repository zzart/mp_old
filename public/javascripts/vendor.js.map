{"version":3,"file":"public/javascripts/vendor.js","sources":["vendor/scripts/console-helper.js","vendor/scripts/log4javascript.js","vendor/scripts/jquery-1.10.2.min.js","vendor/scripts/jquery.mobile.setup.js","vendor/scripts/jquery.mobile-1.4.0-rc.1.js","vendor/scripts/underscore-1.4.3.js","vendor/scripts/backbone-1.10.js","vendor/scripts/chaplin-0.11.js","vendor/scripts/backbone-forms.js","vendor/scripts/mp-editors.js","vendor/scripts/default-forms-template.js","vendor/scripts/jquery.tablesorter.min.js","vendor/scripts/hmac-sha256.js","vendor/scripts/enc-base64-min.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CClRA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCh5cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCrsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CC7iDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCp/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CC74EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CCrGA;AACA;AACA;AACA;A,CCHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A,CClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A","sourcesContent":["// Make it safe to do console.log() always.\n(function (con) {\n  var method;\n  var dummy = function() {};\n  var methods = ('assert,count,debug,dir,dirxml,error,exception,group,' +\n     'groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,' + \n     'time,timeEnd,trace,warn').split(',');\n  while (method = methods.pop()) {\n    con[method] = con[method] || dummy;\n  }\n})(window.console = window.console || {});\n","/**\r\n * Copyright 2013 Tim Down.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n\r\nif(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}\r\nreturn this.length;};}\r\nif(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}\r\nthis.length=this.length-1;return firstItem;}};}\r\nif(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}\r\nvar itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}\r\nreturn itemsDeleted;};}\r\nvar log4javascript=(function(){function isUndefined(obj){return typeof obj==\"undefined\";}\r\nfunction EventSupport(){}\r\nEventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(eventTypesParam){if(eventTypesParam instanceof Array){this.eventTypes=eventTypesParam;this.eventListeners={};for(var i=0,len=this.eventTypes.length;i<len;i++){this.eventListeners[this.eventTypes[i]]=[];}}else{handleError(\"log4javascript.EventSupport [\"+this+\"]: setEventTypes: eventTypes parameter must be an Array\");}},addEventListener:function(eventType,listener){if(typeof listener==\"function\"){if(!array_contains(this.eventTypes,eventType)){handleError(\"log4javascript.EventSupport [\"+this+\"]: addEventListener: no event called '\"+eventType+\"'\");}\r\nthis.eventListeners[eventType].push(listener);}else{handleError(\"log4javascript.EventSupport [\"+this+\"]: addEventListener: listener must be a function\");}},removeEventListener:function(eventType,listener){if(typeof listener==\"function\"){if(!array_contains(this.eventTypes,eventType)){handleError(\"log4javascript.EventSupport [\"+this+\"]: removeEventListener: no event called '\"+eventType+\"'\");}\r\narray_remove(this.eventListeners[eventType],listener);}else{handleError(\"log4javascript.EventSupport [\"+this+\"]: removeEventListener: listener must be a function\");}},dispatchEvent:function(eventType,eventArgs){if(array_contains(this.eventTypes,eventType)){var listeners=this.eventListeners[eventType];for(var i=0,len=listeners.length;i<len;i++){listeners[i](this,eventType,eventArgs);}}else{handleError(\"log4javascript.EventSupport [\"+this+\"]: dispatchEvent: no event called '\"+eventType+\"'\");}}};var applicationStartDate=new Date();var uniqueId=\"log4javascript_\"+applicationStartDate.getTime()+\"_\"+\r\nMath.floor(Math.random()*100000000);var emptyFunction=function(){};var newLine=\"\\r\\n\";var pageLoaded=false;function Log4JavaScript(){}\r\nLog4JavaScript.prototype=new EventSupport();log4javascript=new Log4JavaScript();log4javascript.version=\"1.4.6\";log4javascript.edition=\"log4javascript\";function toStr(obj){if(obj&&obj.toString){return obj.toString();}else{return String(obj);}}\r\nfunction getExceptionMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}else{return toStr(ex);}}\r\nfunction getUrlFileName(url){var lastSlashIndex=Math.max(url.lastIndexOf(\"/\"),url.lastIndexOf(\"\\\\\"));return url.substr(lastSlashIndex+1);}\r\nfunction getExceptionStringRep(ex){if(ex){var exStr=\"Exception: \"+getExceptionMessage(ex);try{if(ex.lineNumber){exStr+=\" on line number \"+ex.lineNumber;}\r\nif(ex.fileName){exStr+=\" in file \"+getUrlFileName(ex.fileName);}}catch(localEx){logLog.warn(\"Unable to obtain file and line information for error\");}\r\nif(showStackTraces&&ex.stack){exStr+=newLine+\"Stack trace:\"+newLine+ex.stack;}\r\nreturn exStr;}\r\nreturn null;}\r\nfunction bool(obj){return Boolean(obj);}\r\nfunction trim(str){return str.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\");}\r\nfunction splitIntoLines(text){var text2=text.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\");return text2.split(\"\\n\");}\r\nvar urlEncode=(typeof window.encodeURIComponent!=\"undefined\")?function(str){return encodeURIComponent(str);}:function(str){return escape(str).replace(/\\+/g,\"%2B\").replace(/\"/g,\"%22\").replace(/'/g,\"%27\").replace(/\\//g,\"%2F\").replace(/=/g,\"%3D\");};var urlDecode=(typeof window.decodeURIComponent!=\"undefined\")?function(str){return decodeURIComponent(str);}:function(str){return unescape(str).replace(/%2B/g,\"+\").replace(/%22/g,\"\\\"\").replace(/%27/g,\"'\").replace(/%2F/g,\"/\").replace(/%3D/g,\"=\");};function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}\r\nif(index>=0){arr.splice(index,1);return true;}else{return false;}}\r\nfunction array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}\r\nreturn false;}\r\nfunction extractBooleanFromParam(param,defaultValue){if(isUndefined(param)){return defaultValue;}else{return bool(param);}}\r\nfunction extractStringFromParam(param,defaultValue){if(isUndefined(param)){return defaultValue;}else{return String(param);}}\r\nfunction extractIntFromParam(param,defaultValue){if(isUndefined(param)){return defaultValue;}else{try{var value=parseInt(param,10);return isNaN(value)?defaultValue:value;}catch(ex){logLog.warn(\"Invalid int param \"+param,ex);return defaultValue;}}}\r\nfunction extractFunctionFromParam(param,defaultValue){if(typeof param==\"function\"){return param;}else{return defaultValue;}}\r\nfunction isError(err){return(err instanceof Error);}\r\nif(!Function.prototype.apply){Function.prototype.apply=function(obj,args){var methodName=\"__apply__\";if(typeof obj[methodName]!=\"undefined\"){methodName+=String(Math.random()).substr(2);}\r\nobj[methodName]=this;var argsStrings=[];for(var i=0,len=args.length;i<len;i++){argsStrings[i]=\"args[\"+i+\"]\";}\r\nvar script=\"obj.\"+methodName+\"(\"+argsStrings.join(\",\")+\")\";var returnValue=eval(script);delete obj[methodName];return returnValue;};}\r\nif(!Function.prototype.call){Function.prototype.call=function(obj){var args=[];for(var i=1,len=arguments.length;i<len;i++){args[i-1]=arguments[i];}\r\nreturn this.apply(obj,args);};}\r\nfunction getListenersPropertyName(eventName){return\"__log4javascript_listeners__\"+eventName;}\r\nfunction addEvent(node,eventName,listener,useCapture,win){win=win?win:window;if(node.addEventListener){node.addEventListener(eventName,listener,useCapture);}else if(node.attachEvent){node.attachEvent(\"on\"+eventName,listener);}else{var propertyName=getListenersPropertyName(eventName);if(!node[propertyName]){node[propertyName]=[];node[\"on\"+eventName]=function(evt){evt=getEvent(evt,win);var listenersPropertyName=getListenersPropertyName(eventName);var listeners=this[listenersPropertyName].concat([]);var currentListener;while((currentListener=listeners.shift())){currentListener.call(this,evt);}};}\r\nnode[propertyName].push(listener);}}\r\nfunction removeEvent(node,eventName,listener,useCapture){if(node.removeEventListener){node.removeEventListener(eventName,listener,useCapture);}else if(node.detachEvent){node.detachEvent(\"on\"+eventName,listener);}else{var propertyName=getListenersPropertyName(eventName);if(node[propertyName]){array_remove(node[propertyName],listener);}}}\r\nfunction getEvent(evt,win){win=win?win:window;return evt?evt:win.event;}\r\nfunction stopEventPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!=\"undefined\"){evt.cancelBubble=true;}\r\nevt.returnValue=false;}\r\nvar logLog={quietMode:false,debugMessages:[],setQuietMode:function(quietMode){this.quietMode=bool(quietMode);},numberOfErrors:0,alertAllErrors:false,setAlertAllErrors:function(alertAllErrors){this.alertAllErrors=alertAllErrors;},debug:function(message){this.debugMessages.push(message);},displayDebug:function(){alert(this.debugMessages.join(newLine));},warn:function(message,exception){},error:function(message,exception){if(++this.numberOfErrors==1||this.alertAllErrors){if(!this.quietMode){var alertMessage=\"log4javascript error: \"+message;if(exception){alertMessage+=newLine+newLine+\"Original error: \"+getExceptionStringRep(exception);}\r\nalert(alertMessage);}}}};log4javascript.logLog=logLog;log4javascript.setEventTypes([\"load\",\"error\"]);function handleError(message,exception){logLog.error(message,exception);log4javascript.dispatchEvent(\"error\",{\"message\":message,\"exception\":exception});}\r\nlog4javascript.handleError=handleError;var enabled=!((typeof log4javascript_disabled!=\"undefined\")&&log4javascript_disabled);log4javascript.setEnabled=function(enable){enabled=bool(enable);};log4javascript.isEnabled=function(){return enabled;};var useTimeStampsInMilliseconds=true;log4javascript.setTimeStampsInMilliseconds=function(timeStampsInMilliseconds){useTimeStampsInMilliseconds=bool(timeStampsInMilliseconds);};log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds;};log4javascript.evalInScope=function(expr){return eval(expr);};var showStackTraces=false;log4javascript.setShowStackTraces=function(show){showStackTraces=bool(show);};var Level=function(level,name){this.level=level;this.name=name;};Level.prototype={toString:function(){return this.name;},equals:function(level){return this.level==level.level;},isGreaterOrEqual:function(level){return this.level>=level.level;}};Level.ALL=new Level(Number.MIN_VALUE,\"ALL\");Level.TRACE=new Level(10000,\"TRACE\");Level.DEBUG=new Level(20000,\"DEBUG\");Level.INFO=new Level(30000,\"INFO\");Level.WARN=new Level(40000,\"WARN\");Level.ERROR=new Level(50000,\"ERROR\");Level.FATAL=new Level(60000,\"FATAL\");Level.OFF=new Level(Number.MAX_VALUE,\"OFF\");log4javascript.Level=Level;function Timer(name,level){this.name=name;this.level=isUndefined(level)?Level.INFO:level;this.start=new Date();}\r\nTimer.prototype.getElapsedTime=function(){return new Date().getTime()-this.start.getTime();};var anonymousLoggerName=\"[anonymous]\";var defaultLoggerName=\"[default]\";var nullLoggerName=\"[null]\";var rootLoggerName=\"root\";function Logger(name){this.name=name;this.parent=null;this.children=[];var appenders=[];var loggerLevel=null;var isRoot=(this.name===rootLoggerName);var isNull=(this.name===nullLoggerName);var appenderCache=null;var appenderCacheInvalidated=false;this.addChild=function(childLogger){this.children.push(childLogger);childLogger.parent=this;childLogger.invalidateAppenderCache();};var additive=true;this.getAdditivity=function(){return additive;};this.setAdditivity=function(additivity){var valueChanged=(additive!=additivity);additive=additivity;if(valueChanged){this.invalidateAppenderCache();}};this.addAppender=function(appender){if(isNull){handleError(\"Logger.addAppender: you may not add an appender to the null logger\");}else{if(appender instanceof log4javascript.Appender){if(!array_contains(appenders,appender)){appenders.push(appender);appender.setAddedToLogger(this);this.invalidateAppenderCache();}}else{handleError(\"Logger.addAppender: appender supplied ('\"+\r\ntoStr(appender)+\"') is not a subclass of Appender\");}}};this.removeAppender=function(appender){array_remove(appenders,appender);appender.setRemovedFromLogger(this);this.invalidateAppenderCache();};this.removeAllAppenders=function(){var appenderCount=appenders.length;if(appenderCount>0){for(var i=0;i<appenderCount;i++){appenders[i].setRemovedFromLogger(this);}\r\nappenders.length=0;this.invalidateAppenderCache();}};this.getEffectiveAppenders=function(){if(appenderCache===null||appenderCacheInvalidated){var parentEffectiveAppenders=(isRoot||!this.getAdditivity())?[]:this.parent.getEffectiveAppenders();appenderCache=parentEffectiveAppenders.concat(appenders);appenderCacheInvalidated=false;}\r\nreturn appenderCache;};this.invalidateAppenderCache=function(){appenderCacheInvalidated=true;for(var i=0,len=this.children.length;i<len;i++){this.children[i].invalidateAppenderCache();}};this.log=function(level,params){if(enabled&&level.isGreaterOrEqual(this.getEffectiveLevel())){var exception;var finalParamIndex=params.length-1;var lastParam=params[finalParamIndex];if(params.length>1&&isError(lastParam)){exception=lastParam;finalParamIndex--;}\r\nvar messages=[];for(var i=0;i<=finalParamIndex;i++){messages[i]=params[i];}\r\nvar loggingEvent=new LoggingEvent(this,new Date(),level,messages,exception);this.callAppenders(loggingEvent);}};this.callAppenders=function(loggingEvent){var effectiveAppenders=this.getEffectiveAppenders();for(var i=0,len=effectiveAppenders.length;i<len;i++){effectiveAppenders[i].doAppend(loggingEvent);}};this.setLevel=function(level){if(isRoot&&level===null){handleError(\"Logger.setLevel: you cannot set the level of the root logger to null\");}else if(level instanceof Level){loggerLevel=level;}else{handleError(\"Logger.setLevel: level supplied to logger \"+\r\nthis.name+\" is not an instance of log4javascript.Level\");}};this.getLevel=function(){return loggerLevel;};this.getEffectiveLevel=function(){for(var logger=this;logger!==null;logger=logger.parent){var level=logger.getLevel();if(level!==null){return level;}}};this.group=function(name,initiallyExpanded){if(enabled){var effectiveAppenders=this.getEffectiveAppenders();for(var i=0,len=effectiveAppenders.length;i<len;i++){effectiveAppenders[i].group(name,initiallyExpanded);}}};this.groupEnd=function(){if(enabled){var effectiveAppenders=this.getEffectiveAppenders();for(var i=0,len=effectiveAppenders.length;i<len;i++){effectiveAppenders[i].groupEnd();}}};var timers={};this.time=function(name,level){if(enabled){if(isUndefined(name)){handleError(\"Logger.time: a name for the timer must be supplied\");}else if(level&&!(level instanceof Level)){handleError(\"Logger.time: level supplied to timer \"+\r\nname+\" is not an instance of log4javascript.Level\");}else{timers[name]=new Timer(name,level);}}};this.timeEnd=function(name){if(enabled){if(isUndefined(name)){handleError(\"Logger.timeEnd: a name for the timer must be supplied\");}else if(timers[name]){var timer=timers[name];var milliseconds=timer.getElapsedTime();this.log(timer.level,[\"Timer \"+toStr(name)+\" completed in \"+milliseconds+\"ms\"]);delete timers[name];}else{logLog.warn(\"Logger.timeEnd: no timer found with name \"+name);}}};this.assert=function(expr){if(enabled&&!expr){var args=[];for(var i=1,len=arguments.length;i<len;i++){args.push(arguments[i]);}\r\nargs=(args.length>0)?args:[\"Assertion Failure\"];args.push(newLine);args.push(expr);this.log(Level.ERROR,args);}};this.toString=function(){return\"Logger[\"+this.name+\"]\";};}\r\nLogger.prototype={trace:function(){this.log(Level.TRACE,arguments);},debug:function(){this.log(Level.DEBUG,arguments);},info:function(){this.log(Level.INFO,arguments);},warn:function(){this.log(Level.WARN,arguments);},error:function(){this.log(Level.ERROR,arguments);},fatal:function(){this.log(Level.FATAL,arguments);},isEnabledFor:function(level){return level.isGreaterOrEqual(this.getEffectiveLevel());},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE);},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG);},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO);},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN);},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR);},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL);}};Logger.prototype.trace.isEntryPoint=true;Logger.prototype.debug.isEntryPoint=true;Logger.prototype.info.isEntryPoint=true;Logger.prototype.warn.isEntryPoint=true;Logger.prototype.error.isEntryPoint=true;Logger.prototype.fatal.isEntryPoint=true;var loggers={};var loggerNames=[];var ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG;var rootLogger=new Logger(rootLoggerName);rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL);log4javascript.getRootLogger=function(){return rootLogger;};log4javascript.getLogger=function(loggerName){if(!(typeof loggerName==\"string\")){loggerName=anonymousLoggerName;logLog.warn(\"log4javascript.getLogger: non-string logger name \"+\r\ntoStr(loggerName)+\" supplied, returning anonymous logger\");}\r\nif(loggerName==rootLoggerName){handleError(\"log4javascript.getLogger: root logger may not be obtained by name\");}\r\nif(!loggers[loggerName]){var logger=new Logger(loggerName);loggers[loggerName]=logger;loggerNames.push(loggerName);var lastDotIndex=loggerName.lastIndexOf(\".\");var parentLogger;if(lastDotIndex>-1){var parentLoggerName=loggerName.substring(0,lastDotIndex);parentLogger=log4javascript.getLogger(parentLoggerName);}else{parentLogger=rootLogger;}\r\nparentLogger.addChild(logger);}\r\nreturn loggers[loggerName];};var defaultLogger=null;log4javascript.getDefaultLogger=function(){if(!defaultLogger){defaultLogger=log4javascript.getLogger(defaultLoggerName);var a=new log4javascript.PopUpAppender();defaultLogger.addAppender(a);}\r\nreturn defaultLogger;};var nullLogger=null;log4javascript.getNullLogger=function(){if(!nullLogger){nullLogger=new Logger(nullLoggerName);nullLogger.setLevel(Level.OFF);}\r\nreturn nullLogger;};log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL);loggers={};};var LoggingEvent=function(logger,timeStamp,level,messages,exception){this.logger=logger;this.timeStamp=timeStamp;this.timeStampInMilliseconds=timeStamp.getTime();this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1000);this.milliseconds=this.timeStamp.getMilliseconds();this.level=level;this.messages=messages;this.exception=exception;};LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):\"\";},getCombinedMessages:function(){return(this.messages.length==1)?this.messages[0]:this.messages.join(newLine);},toString:function(){return\"LoggingEvent[\"+this.level+\"]\";}};log4javascript.LoggingEvent=LoggingEvent;var Layout=function(){};Layout.prototype={defaults:{loggerKey:\"logger\",timeStampKey:\"timestamp\",millisecondsKey:\"milliseconds\",levelKey:\"level\",messageKey:\"message\",exceptionKey:\"exception\",urlKey:\"url\"},loggerKey:\"logger\",timeStampKey:\"timestamp\",millisecondsKey:\"milliseconds\",levelKey:\"level\",messageKey:\"message\",exceptionKey:\"exception\",urlKey:\"url\",batchHeader:\"\",batchFooter:\"\",batchSeparator:\"\",returnsPostData:false,overrideTimeStampsSetting:false,useTimeStampsInMilliseconds:null,format:function(){handleError(\"Layout.format: layout supplied has no format() method\");},ignoresThrowable:function(){handleError(\"Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method\");},getContentType:function(){return\"text/plain\";},allowBatching:function(){return true;},setTimeStampsInMilliseconds:function(timeStampsInMilliseconds){this.overrideTimeStampsSetting=true;this.useTimeStampsInMilliseconds=bool(timeStampsInMilliseconds);},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds;},getTimeStampValue:function(loggingEvent){return this.isTimeStampsInMilliseconds()?loggingEvent.timeStampInMilliseconds:loggingEvent.timeStampInSeconds;},getDataValues:function(loggingEvent,combineMessages){var dataValues=[[this.loggerKey,loggingEvent.logger.name],[this.timeStampKey,this.getTimeStampValue(loggingEvent)],[this.levelKey,loggingEvent.level.name],[this.urlKey,window.location.href],[this.messageKey,combineMessages?loggingEvent.getCombinedMessages():loggingEvent.messages]];if(!this.isTimeStampsInMilliseconds()){dataValues.push([this.millisecondsKey,loggingEvent.milliseconds]);}\r\nif(loggingEvent.exception){dataValues.push([this.exceptionKey,getExceptionStringRep(loggingEvent.exception)]);}\r\nif(this.hasCustomFields()){for(var i=0,len=this.customFields.length;i<len;i++){var val=this.customFields[i].value;if(typeof val===\"function\"){val=val(this,loggingEvent);}\r\ndataValues.push([this.customFields[i].name,val]);}}\r\nreturn dataValues;},setKeys:function(loggerKey,timeStampKey,levelKey,messageKey,exceptionKey,urlKey,millisecondsKey){this.loggerKey=extractStringFromParam(loggerKey,this.defaults.loggerKey);this.timeStampKey=extractStringFromParam(timeStampKey,this.defaults.timeStampKey);this.levelKey=extractStringFromParam(levelKey,this.defaults.levelKey);this.messageKey=extractStringFromParam(messageKey,this.defaults.messageKey);this.exceptionKey=extractStringFromParam(exceptionKey,this.defaults.exceptionKey);this.urlKey=extractStringFromParam(urlKey,this.defaults.urlKey);this.millisecondsKey=extractStringFromParam(millisecondsKey,this.defaults.millisecondsKey);},setCustomField:function(name,value){var fieldUpdated=false;for(var i=0,len=this.customFields.length;i<len;i++){if(this.customFields[i].name===name){this.customFields[i].value=value;fieldUpdated=true;}}\r\nif(!fieldUpdated){this.customFields.push({\"name\":name,\"value\":value});}},hasCustomFields:function(){return(this.customFields.length>0);},toString:function(){handleError(\"Layout.toString: all layouts must override this method\");}};log4javascript.Layout=Layout;var Appender=function(){};Appender.prototype=new EventSupport();Appender.prototype.layout=new PatternLayout();Appender.prototype.threshold=Level.ALL;Appender.prototype.loggers=[];Appender.prototype.doAppend=function(loggingEvent){if(enabled&&loggingEvent.level.level>=this.threshold.level){this.append(loggingEvent);}};Appender.prototype.append=function(loggingEvent){};Appender.prototype.setLayout=function(layout){if(layout instanceof Layout){this.layout=layout;}else{handleError(\"Appender.setLayout: layout supplied to \"+\r\nthis.toString()+\" is not a subclass of Layout\");}};Appender.prototype.getLayout=function(){return this.layout;};Appender.prototype.setThreshold=function(threshold){if(threshold instanceof Level){this.threshold=threshold;}else{handleError(\"Appender.setThreshold: threshold supplied to \"+\r\nthis.toString()+\" is not a subclass of Level\");}};Appender.prototype.getThreshold=function(){return this.threshold;};Appender.prototype.setAddedToLogger=function(logger){this.loggers.push(logger);};Appender.prototype.setRemovedFromLogger=function(logger){array_remove(this.loggers,logger);};Appender.prototype.group=emptyFunction;Appender.prototype.groupEnd=emptyFunction;Appender.prototype.toString=function(){handleError(\"Appender.toString: all appenders must override this method\");};log4javascript.Appender=Appender;function SimpleLayout(){this.customFields=[];}\r\nSimpleLayout.prototype=new Layout();SimpleLayout.prototype.format=function(loggingEvent){return loggingEvent.level.name+\" - \"+loggingEvent.getCombinedMessages();};SimpleLayout.prototype.ignoresThrowable=function(){return true;};SimpleLayout.prototype.toString=function(){return\"SimpleLayout\";};log4javascript.SimpleLayout=SimpleLayout;function NullLayout(){this.customFields=[];}\r\nNullLayout.prototype=new Layout();NullLayout.prototype.format=function(loggingEvent){return loggingEvent.messages;};NullLayout.prototype.ignoresThrowable=function(){return true;};NullLayout.prototype.toString=function(){return\"NullLayout\";};log4javascript.NullLayout=NullLayout;function XmlLayout(combineMessages){this.combineMessages=extractBooleanFromParam(combineMessages,true);this.customFields=[];}\r\nXmlLayout.prototype=new Layout();XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages;};XmlLayout.prototype.getContentType=function(){return\"text/xml\";};XmlLayout.prototype.escapeCdata=function(str){return str.replace(/\\]\\]>/,\"]]>]]&gt;<![CDATA[\");};XmlLayout.prototype.format=function(loggingEvent){var layout=this;var i,len;function formatMessage(message){message=(typeof message===\"string\")?message:toStr(message);return\"<log4javascript:message><![CDATA[\"+\r\nlayout.escapeCdata(message)+\"]]></log4javascript:message>\";}\r\nvar str=\"<log4javascript:event logger=\\\"\"+loggingEvent.logger.name+\"\\\" timestamp=\\\"\"+this.getTimeStampValue(loggingEvent)+\"\\\"\";if(!this.isTimeStampsInMilliseconds()){str+=\" milliseconds=\\\"\"+loggingEvent.milliseconds+\"\\\"\";}\r\nstr+=\" level=\\\"\"+loggingEvent.level.name+\"\\\">\"+newLine;if(this.combineMessages){str+=formatMessage(loggingEvent.getCombinedMessages());}else{str+=\"<log4javascript:messages>\"+newLine;for(i=0,len=loggingEvent.messages.length;i<len;i++){str+=formatMessage(loggingEvent.messages[i])+newLine;}\r\nstr+=\"</log4javascript:messages>\"+newLine;}\r\nif(this.hasCustomFields()){for(i=0,len=this.customFields.length;i<len;i++){str+=\"<log4javascript:customfield name=\\\"\"+\r\nthis.customFields[i].name+\"\\\"><![CDATA[\"+\r\nthis.customFields[i].value.toString()+\"]]></log4javascript:customfield>\"+newLine;}}\r\nif(loggingEvent.exception){str+=\"<log4javascript:exception><![CDATA[\"+\r\ngetExceptionStringRep(loggingEvent.exception)+\"]]></log4javascript:exception>\"+newLine;}\r\nstr+=\"</log4javascript:event>\"+newLine+newLine;return str;};XmlLayout.prototype.ignoresThrowable=function(){return false;};XmlLayout.prototype.toString=function(){return\"XmlLayout\";};log4javascript.XmlLayout=XmlLayout;function escapeNewLines(str){return str.replace(/\\r\\n|\\r|\\n/g,\"\\\\r\\\\n\");}\r\nfunction JsonLayout(readable,combineMessages){this.readable=extractBooleanFromParam(readable,false);this.combineMessages=extractBooleanFromParam(combineMessages,true);this.batchHeader=this.readable?\"[\"+newLine:\"[\";this.batchFooter=this.readable?\"]\"+newLine:\"]\";this.batchSeparator=this.readable?\",\"+newLine:\",\";this.setKeys();this.colon=this.readable?\": \":\":\";this.tab=this.readable?\"\\t\":\"\";this.lineBreak=this.readable?newLine:\"\";this.customFields=[];}\r\nJsonLayout.prototype=new Layout();JsonLayout.prototype.isReadable=function(){return this.readable;};JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages;};JsonLayout.prototype.format=function(loggingEvent){var layout=this;var dataValues=this.getDataValues(loggingEvent,this.combineMessages);var str=\"{\"+this.lineBreak;var i,len;function formatValue(val,prefix,expand){var formattedValue;var valType=typeof val;if(val instanceof Date){formattedValue=String(val.getTime());}else if(expand&&(val instanceof Array)){formattedValue=\"[\"+layout.lineBreak;for(var i=0,len=val.length;i<len;i++){var childPrefix=prefix+layout.tab;formattedValue+=childPrefix+formatValue(val[i],childPrefix,false);if(i<val.length-1){formattedValue+=\",\";}\r\nformattedValue+=layout.lineBreak;}\r\nformattedValue+=prefix+\"]\";}else if(valType!==\"number\"&&valType!==\"boolean\"){formattedValue=\"\\\"\"+escapeNewLines(toStr(val).replace(/\\\"/g,\"\\\\\\\"\"))+\"\\\"\";}else{formattedValue=val;}\r\nreturn formattedValue;}\r\nfor(i=0,len=dataValues.length-1;i<=len;i++){str+=this.tab+\"\\\"\"+dataValues[i][0]+\"\\\"\"+this.colon+formatValue(dataValues[i][1],this.tab,true);if(i<len){str+=\",\";}\r\nstr+=this.lineBreak;}\r\nstr+=\"}\"+this.lineBreak;return str;};JsonLayout.prototype.ignoresThrowable=function(){return false;};JsonLayout.prototype.toString=function(){return\"JsonLayout\";};JsonLayout.prototype.getContentType=function(){return\"application/json\";};log4javascript.JsonLayout=JsonLayout;function HttpPostDataLayout(){this.setKeys();this.customFields=[];this.returnsPostData=true;}\r\nHttpPostDataLayout.prototype=new Layout();HttpPostDataLayout.prototype.allowBatching=function(){return false;};HttpPostDataLayout.prototype.format=function(loggingEvent){var dataValues=this.getDataValues(loggingEvent);var queryBits=[];for(var i=0,len=dataValues.length;i<len;i++){var val=(dataValues[i][1]instanceof Date)?String(dataValues[i][1].getTime()):dataValues[i][1];queryBits.push(urlEncode(dataValues[i][0])+\"=\"+urlEncode(val));}\r\nreturn queryBits.join(\"&\");};HttpPostDataLayout.prototype.ignoresThrowable=function(loggingEvent){return false;};HttpPostDataLayout.prototype.toString=function(){return\"HttpPostDataLayout\";};log4javascript.HttpPostDataLayout=HttpPostDataLayout;function formatObjectExpansion(obj,depth,indentation){var objectsExpanded=[];function doFormat(obj,depth,indentation){var i,j,len,childDepth,childIndentation,childLines,expansion,childExpansion;if(!indentation){indentation=\"\";}\r\nfunction formatString(text){var lines=splitIntoLines(text);for(var j=1,jLen=lines.length;j<jLen;j++){lines[j]=indentation+lines[j];}\r\nreturn lines.join(newLine);}\r\nif(obj===null){return\"null\";}else if(typeof obj==\"undefined\"){return\"undefined\";}else if(typeof obj==\"string\"){return formatString(obj);}else if(typeof obj==\"object\"&&array_contains(objectsExpanded,obj)){try{expansion=toStr(obj);}catch(ex){expansion=\"Error formatting property. Details: \"+getExceptionStringRep(ex);}\r\nreturn expansion+\" [already expanded]\";}else if((obj instanceof Array)&&depth>0){objectsExpanded.push(obj);expansion=\"[\"+newLine;childDepth=depth-1;childIndentation=indentation+\"  \";childLines=[];for(i=0,len=obj.length;i<len;i++){try{childExpansion=doFormat(obj[i],childDepth,childIndentation);childLines.push(childIndentation+childExpansion);}catch(ex){childLines.push(childIndentation+\"Error formatting array member. Details: \"+\r\ngetExceptionStringRep(ex)+\"\");}}\r\nexpansion+=childLines.join(\",\"+newLine)+newLine+indentation+\"]\";return expansion;}else if(Object.prototype.toString.call(obj)==\"[object Date]\"){return obj.toString();}else if(typeof obj==\"object\"&&depth>0){objectsExpanded.push(obj);expansion=\"{\"+newLine;childDepth=depth-1;childIndentation=indentation+\"  \";childLines=[];for(i in obj){try{childExpansion=doFormat(obj[i],childDepth,childIndentation);childLines.push(childIndentation+i+\": \"+childExpansion);}catch(ex){childLines.push(childIndentation+i+\": Error formatting property. Details: \"+\r\ngetExceptionStringRep(ex));}}\r\nexpansion+=childLines.join(\",\"+newLine)+newLine+indentation+\"}\";return expansion;}else{return formatString(toStr(obj));}}\r\nreturn doFormat(obj,depth,indentation);}\r\nvar SimpleDateFormat;(function(){var regex=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/;var monthNames=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];var dayNames=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];var TEXT2=0,TEXT3=1,NUMBER=2,YEAR=3,MONTH=4,TIMEZONE=5;var types={G:TEXT2,y:YEAR,M:MONTH,w:NUMBER,W:NUMBER,D:NUMBER,d:NUMBER,F:NUMBER,E:TEXT3,a:TEXT2,H:NUMBER,k:NUMBER,K:NUMBER,h:NUMBER,m:NUMBER,s:NUMBER,S:NUMBER,Z:TIMEZONE};var ONE_DAY=24*60*60*1000;var ONE_WEEK=7*ONE_DAY;var DEFAULT_MINIMAL_DAYS_IN_FIRST_WEEK=1;var newDateAtMidnight=function(year,month,day){var d=new Date(year,month,day,0,0,0);d.setMilliseconds(0);return d;};Date.prototype.getDifference=function(date){return this.getTime()-date.getTime();};Date.prototype.isBefore=function(d){return this.getTime()<d.getTime();};Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds());};Date.prototype.getTimeSince=function(d){return this.getUTCTime()-d.getUTCTime();};Date.prototype.getPreviousSunday=function(){var midday=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0);var previousSunday=new Date(midday.getTime()-this.getDay()*ONE_DAY);return newDateAtMidnight(previousSunday.getFullYear(),previousSunday.getMonth(),previousSunday.getDate());};Date.prototype.getWeekInYear=function(minimalDaysInFirstWeek){if(isUndefined(this.minimalDaysInFirstWeek)){minimalDaysInFirstWeek=DEFAULT_MINIMAL_DAYS_IN_FIRST_WEEK;}\r\nvar previousSunday=this.getPreviousSunday();var startOfYear=newDateAtMidnight(this.getFullYear(),0,1);var numberOfSundays=previousSunday.isBefore(startOfYear)?0:1+Math.floor(previousSunday.getTimeSince(startOfYear)/ONE_WEEK);var numberOfDaysInFirstWeek=7-startOfYear.getDay();var weekInYear=numberOfSundays;if(numberOfDaysInFirstWeek<minimalDaysInFirstWeek){weekInYear--;}\r\nreturn weekInYear;};Date.prototype.getWeekInMonth=function(minimalDaysInFirstWeek){if(isUndefined(this.minimalDaysInFirstWeek)){minimalDaysInFirstWeek=DEFAULT_MINIMAL_DAYS_IN_FIRST_WEEK;}\r\nvar previousSunday=this.getPreviousSunday();var startOfMonth=newDateAtMidnight(this.getFullYear(),this.getMonth(),1);var numberOfSundays=previousSunday.isBefore(startOfMonth)?0:1+Math.floor(previousSunday.getTimeSince(startOfMonth)/ONE_WEEK);var numberOfDaysInFirstWeek=7-startOfMonth.getDay();var weekInMonth=numberOfSundays;if(numberOfDaysInFirstWeek>=minimalDaysInFirstWeek){weekInMonth++;}\r\nreturn weekInMonth;};Date.prototype.getDayInYear=function(){var startOfYear=newDateAtMidnight(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(startOfYear)/ONE_DAY);};SimpleDateFormat=function(formatString){this.formatString=formatString;};SimpleDateFormat.prototype.setMinimalDaysInFirstWeek=function(days){this.minimalDaysInFirstWeek=days;};SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?DEFAULT_MINIMAL_DAYS_IN_FIRST_WEEK:this.minimalDaysInFirstWeek;};var padWithZeroes=function(str,len){while(str.length<len){str=\"0\"+str;}\r\nreturn str;};var formatText=function(data,numberOfLetters,minLength){return(numberOfLetters>=4)?data:data.substr(0,Math.max(minLength,numberOfLetters));};var formatNumber=function(data,numberOfLetters){var dataString=\"\"+data;return padWithZeroes(dataString,numberOfLetters);};SimpleDateFormat.prototype.format=function(date){var formattedString=\"\";var result;var searchString=this.formatString;while((result=regex.exec(searchString))){var quotedString=result[1];var patternLetters=result[2];var otherLetters=result[3];var otherCharacters=result[4];if(quotedString){if(quotedString==\"''\"){formattedString+=\"'\";}else{formattedString+=quotedString.substring(1,quotedString.length-1);}}else if(otherLetters){}else if(otherCharacters){formattedString+=otherCharacters;}else if(patternLetters){var patternLetter=patternLetters.charAt(0);var numberOfLetters=patternLetters.length;var rawData=\"\";switch(patternLetter){case\"G\":rawData=\"AD\";break;case\"y\":rawData=date.getFullYear();break;case\"M\":rawData=date.getMonth();break;case\"w\":rawData=date.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case\"W\":rawData=date.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case\"D\":rawData=date.getDayInYear();break;case\"d\":rawData=date.getDate();break;case\"F\":rawData=1+Math.floor((date.getDate()-1)/7);break;case\"E\":rawData=dayNames[date.getDay()];break;case\"a\":rawData=(date.getHours()>=12)?\"PM\":\"AM\";break;case\"H\":rawData=date.getHours();break;case\"k\":rawData=date.getHours()||24;break;case\"K\":rawData=date.getHours()%12;break;case\"h\":rawData=(date.getHours()%12)||12;break;case\"m\":rawData=date.getMinutes();break;case\"s\":rawData=date.getSeconds();break;case\"S\":rawData=date.getMilliseconds();break;case\"Z\":rawData=date.getTimezoneOffset();break;}\r\nswitch(types[patternLetter]){case TEXT2:formattedString+=formatText(rawData,numberOfLetters,2);break;case TEXT3:formattedString+=formatText(rawData,numberOfLetters,3);break;case NUMBER:formattedString+=formatNumber(rawData,numberOfLetters);break;case YEAR:if(numberOfLetters<=3){var dataString=\"\"+rawData;formattedString+=dataString.substr(2,2);}else{formattedString+=formatNumber(rawData,numberOfLetters);}\r\nbreak;case MONTH:if(numberOfLetters>=3){formattedString+=formatText(monthNames[rawData],numberOfLetters,numberOfLetters);}else{formattedString+=formatNumber(rawData+1,numberOfLetters);}\r\nbreak;case TIMEZONE:var isPositive=(rawData>0);var prefix=isPositive?\"-\":\"+\";var absData=Math.abs(rawData);var hours=\"\"+Math.floor(absData/60);hours=padWithZeroes(hours,2);var minutes=\"\"+(absData%60);minutes=padWithZeroes(minutes,2);formattedString+=prefix+hours+minutes;break;}}\r\nsearchString=searchString.substr(result.index+result[0].length);}\r\nreturn formattedString;};})();log4javascript.SimpleDateFormat=SimpleDateFormat;function PatternLayout(pattern){if(pattern){this.pattern=pattern;}else{this.pattern=PatternLayout.DEFAULT_CONVERSION_PATTERN;}\r\nthis.customFields=[];}\r\nPatternLayout.TTCC_CONVERSION_PATTERN=\"%r %p %c - %m%n\";PatternLayout.DEFAULT_CONVERSION_PATTERN=\"%m%n\";PatternLayout.ISO8601_DATEFORMAT=\"yyyy-MM-dd HH:mm:ss,SSS\";PatternLayout.DATETIME_DATEFORMAT=\"dd MMM yyyy HH:mm:ss,SSS\";PatternLayout.ABSOLUTETIME_DATEFORMAT=\"HH:mm:ss,SSS\";PatternLayout.prototype=new Layout();PatternLayout.prototype.format=function(loggingEvent){var regex=/%(-?[0-9]+)?(\\.?[0-9]+)?([acdfmMnpr%])(\\{([^\\}]+)\\})?|([^%]+)/;var formattedString=\"\";var result;var searchString=this.pattern;while((result=regex.exec(searchString))){var matchedString=result[0];var padding=result[1];var truncation=result[2];var conversionCharacter=result[3];var specifier=result[5];var text=result[6];if(text){formattedString+=\"\"+text;}else{var replacement=\"\";switch(conversionCharacter){case\"a\":case\"m\":var depth=0;if(specifier){depth=parseInt(specifier,10);if(isNaN(depth)){handleError(\"PatternLayout.format: invalid specifier '\"+\r\nspecifier+\"' for conversion character '\"+conversionCharacter+\"' - should be a number\");depth=0;}}\r\nvar messages=(conversionCharacter===\"a\")?loggingEvent.messages[0]:loggingEvent.messages;for(var i=0,len=messages.length;i<len;i++){if(i>0&&(replacement.charAt(replacement.length-1)!==\" \")){replacement+=\" \";}\r\nif(depth===0){replacement+=messages[i];}else{replacement+=formatObjectExpansion(messages[i],depth);}}\r\nbreak;case\"c\":var loggerName=loggingEvent.logger.name;if(specifier){var precision=parseInt(specifier,10);var loggerNameBits=loggingEvent.logger.name.split(\".\");if(precision>=loggerNameBits.length){replacement=loggerName;}else{replacement=loggerNameBits.slice(loggerNameBits.length-precision).join(\".\");}}else{replacement=loggerName;}\r\nbreak;case\"d\":var dateFormat=PatternLayout.ISO8601_DATEFORMAT;if(specifier){dateFormat=specifier;if(dateFormat==\"ISO8601\"){dateFormat=PatternLayout.ISO8601_DATEFORMAT;}else if(dateFormat==\"ABSOLUTE\"){dateFormat=PatternLayout.ABSOLUTETIME_DATEFORMAT;}else if(dateFormat==\"DATE\"){dateFormat=PatternLayout.DATETIME_DATEFORMAT;}}\r\nreplacement=(new SimpleDateFormat(dateFormat)).format(loggingEvent.timeStamp);break;case\"f\":if(this.hasCustomFields()){var fieldIndex=0;if(specifier){fieldIndex=parseInt(specifier,10);if(isNaN(fieldIndex)){handleError(\"PatternLayout.format: invalid specifier '\"+\r\nspecifier+\"' for conversion character 'f' - should be a number\");}else if(fieldIndex===0){handleError(\"PatternLayout.format: invalid specifier '\"+\r\nspecifier+\"' for conversion character 'f' - must be greater than zero\");}else if(fieldIndex>this.customFields.length){handleError(\"PatternLayout.format: invalid specifier '\"+\r\nspecifier+\"' for conversion character 'f' - there aren't that many custom fields\");}else{fieldIndex=fieldIndex-1;}}\r\nvar val=this.customFields[fieldIndex].value;if(typeof val==\"function\"){val=val(this,loggingEvent);}\r\nreplacement=val;}\r\nbreak;case\"n\":replacement=newLine;break;case\"p\":replacement=loggingEvent.level.name;break;case\"r\":replacement=\"\"+loggingEvent.timeStamp.getDifference(applicationStartDate);break;case\"%\":replacement=\"%\";break;default:replacement=matchedString;break;}\r\nvar l;if(truncation){l=parseInt(truncation.substr(1),10);var strLen=replacement.length;if(l<strLen){replacement=replacement.substring(strLen-l,strLen);}}\r\nif(padding){if(padding.charAt(0)==\"-\"){l=parseInt(padding.substr(1),10);while(replacement.length<l){replacement+=\" \";}}else{l=parseInt(padding,10);while(replacement.length<l){replacement=\" \"+replacement;}}}\r\nformattedString+=replacement;}\r\nsearchString=searchString.substr(result.index+result[0].length);}\r\nreturn formattedString;};PatternLayout.prototype.ignoresThrowable=function(){return true;};PatternLayout.prototype.toString=function(){return\"PatternLayout\";};log4javascript.PatternLayout=PatternLayout;function AlertAppender(){}\r\nAlertAppender.prototype=new Appender();AlertAppender.prototype.layout=new SimpleLayout();AlertAppender.prototype.append=function(loggingEvent){var formattedMessage=this.getLayout().format(loggingEvent);if(this.getLayout().ignoresThrowable()){formattedMessage+=loggingEvent.getThrowableStrRep();}\r\nalert(formattedMessage);};AlertAppender.prototype.toString=function(){return\"AlertAppender\";};log4javascript.AlertAppender=AlertAppender;function BrowserConsoleAppender(){}\r\nBrowserConsoleAppender.prototype=new log4javascript.Appender();BrowserConsoleAppender.prototype.layout=new NullLayout();BrowserConsoleAppender.prototype.threshold=Level.DEBUG;BrowserConsoleAppender.prototype.append=function(loggingEvent){var appender=this;var getFormattedMessage=function(){var layout=appender.getLayout();var formattedMessage=layout.format(loggingEvent);if(layout.ignoresThrowable()&&loggingEvent.exception){formattedMessage+=loggingEvent.getThrowableStrRep();}\r\nreturn formattedMessage;};if((typeof opera!=\"undefined\")&&opera.postError){opera.postError(getFormattedMessage());}else if(window.console&&window.console.log){var formattedMesage=getFormattedMessage();if(window.console.debug&&Level.DEBUG.isGreaterOrEqual(loggingEvent.level)){window.console.debug(formattedMesage);}else if(window.console.info&&Level.INFO.equals(loggingEvent.level)){window.console.info(formattedMesage);}else if(window.console.warn&&Level.WARN.equals(loggingEvent.level)){window.console.warn(formattedMesage);}else if(window.console.error&&loggingEvent.level.isGreaterOrEqual(Level.ERROR)){window.console.error(formattedMesage);}else{window.console.log(formattedMesage);}}};BrowserConsoleAppender.prototype.group=function(name){if(window.console&&window.console.group){window.console.group(name);}};BrowserConsoleAppender.prototype.groupEnd=function(){if(window.console&&window.console.groupEnd){window.console.groupEnd();}};BrowserConsoleAppender.prototype.toString=function(){return\"BrowserConsoleAppender\";};log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xmlHttpFactories=[function(){return new XMLHttpRequest();},function(){return new ActiveXObject(\"Msxml2.XMLHTTP\");},function(){return new ActiveXObject(\"Microsoft.XMLHTTP\");}];var getXmlHttp=function(errorHandler){var xmlHttp=null,factory;for(var i=0,len=xmlHttpFactories.length;i<len;i++){factory=xmlHttpFactories[i];try{xmlHttp=factory();getXmlHttp=factory;return xmlHttp;}catch(e){}}\r\nif(errorHandler){errorHandler();}else{handleError(\"getXmlHttp: unable to obtain XMLHttpRequest object\");}};function isHttpRequestSuccessful(xmlHttp){return isUndefined(xmlHttp.status)||xmlHttp.status===0||(xmlHttp.status>=200&&xmlHttp.status<300)||xmlHttp.status==1223;}\r\nfunction AjaxAppender(url){var appender=this;var isSupported=true;if(!url){handleError(\"AjaxAppender: URL must be specified in constructor\");isSupported=false;}\r\nvar timed=this.defaults.timed;var waitForResponse=this.defaults.waitForResponse;var batchSize=this.defaults.batchSize;var timerInterval=this.defaults.timerInterval;var requestSuccessCallback=this.defaults.requestSuccessCallback;var failCallback=this.defaults.failCallback;var postVarName=this.defaults.postVarName;var sendAllOnUnload=this.defaults.sendAllOnUnload;var contentType=this.defaults.contentType;var sessionId=null;var queuedLoggingEvents=[];var queuedRequests=[];var headers=[];var sending=false;var initialized=false;function checkCanConfigure(configOptionName){if(initialized){handleError(\"AjaxAppender: configuration option '\"+\r\nconfigOptionName+\"' may not be set after the appender has been initialized\");return false;}\r\nreturn true;}\r\nthis.getSessionId=function(){return sessionId;};this.setSessionId=function(sessionIdParam){sessionId=extractStringFromParam(sessionIdParam,null);this.layout.setCustomField(\"sessionid\",sessionId);};this.setLayout=function(layoutParam){if(checkCanConfigure(\"layout\")){this.layout=layoutParam;if(sessionId!==null){this.setSessionId(sessionId);}}};this.isTimed=function(){return timed;};this.setTimed=function(timedParam){if(checkCanConfigure(\"timed\")){timed=bool(timedParam);}};this.getTimerInterval=function(){return timerInterval;};this.setTimerInterval=function(timerIntervalParam){if(checkCanConfigure(\"timerInterval\")){timerInterval=extractIntFromParam(timerIntervalParam,timerInterval);}};this.isWaitForResponse=function(){return waitForResponse;};this.setWaitForResponse=function(waitForResponseParam){if(checkCanConfigure(\"waitForResponse\")){waitForResponse=bool(waitForResponseParam);}};this.getBatchSize=function(){return batchSize;};this.setBatchSize=function(batchSizeParam){if(checkCanConfigure(\"batchSize\")){batchSize=extractIntFromParam(batchSizeParam,batchSize);}};this.isSendAllOnUnload=function(){return sendAllOnUnload;};this.setSendAllOnUnload=function(sendAllOnUnloadParam){if(checkCanConfigure(\"sendAllOnUnload\")){sendAllOnUnload=extractBooleanFromParam(sendAllOnUnloadParam,sendAllOnUnload);}};this.setRequestSuccessCallback=function(requestSuccessCallbackParam){requestSuccessCallback=extractFunctionFromParam(requestSuccessCallbackParam,requestSuccessCallback);};this.setFailCallback=function(failCallbackParam){failCallback=extractFunctionFromParam(failCallbackParam,failCallback);};this.getPostVarName=function(){return postVarName;};this.setPostVarName=function(postVarNameParam){if(checkCanConfigure(\"postVarName\")){postVarName=extractStringFromParam(postVarNameParam,postVarName);}};this.getHeaders=function(){return headers;};this.addHeader=function(name,value){if(name.toLowerCase()==\"content-type\"){contentType=value;}else{headers.push({name:name,value:value});}};function sendAll(){if(isSupported&&enabled){sending=true;var currentRequestBatch;if(waitForResponse){if(queuedRequests.length>0){currentRequestBatch=queuedRequests.shift();sendRequest(preparePostData(currentRequestBatch),sendAll);}else{sending=false;if(timed){scheduleSending();}}}else{while((currentRequestBatch=queuedRequests.shift())){sendRequest(preparePostData(currentRequestBatch));}\r\nsending=false;if(timed){scheduleSending();}}}}\r\nthis.sendAll=sendAll;function sendAllRemaining(){var sendingAnything=false;if(isSupported&&enabled){var actualBatchSize=appender.getLayout().allowBatching()?batchSize:1;var currentLoggingEvent;var batchedLoggingEvents=[];while((currentLoggingEvent=queuedLoggingEvents.shift())){batchedLoggingEvents.push(currentLoggingEvent);if(queuedLoggingEvents.length>=actualBatchSize){queuedRequests.push(batchedLoggingEvents);batchedLoggingEvents=[];}}\r\nif(batchedLoggingEvents.length>0){queuedRequests.push(batchedLoggingEvents);}\r\nsendingAnything=(queuedRequests.length>0);waitForResponse=false;timed=false;sendAll();}\r\nreturn sendingAnything;}\r\nthis.sendAllRemaining=sendAllRemaining;function preparePostData(batchedLoggingEvents){var formattedMessages=[];var currentLoggingEvent;var postData=\"\";while((currentLoggingEvent=batchedLoggingEvents.shift())){var currentFormattedMessage=appender.getLayout().format(currentLoggingEvent);if(appender.getLayout().ignoresThrowable()){currentFormattedMessage+=currentLoggingEvent.getThrowableStrRep();}\r\nformattedMessages.push(currentFormattedMessage);}\r\nif(batchedLoggingEvents.length==1){postData=formattedMessages.join(\"\");}else{postData=appender.getLayout().batchHeader+\r\nformattedMessages.join(appender.getLayout().batchSeparator)+\r\nappender.getLayout().batchFooter;}\r\nif(contentType==appender.defaults.contentType){postData=appender.getLayout().returnsPostData?postData:urlEncode(postVarName)+\"=\"+urlEncode(postData);if(postData.length>0){postData+=\"&\";}\r\npostData+=\"layout=\"+urlEncode(appender.getLayout().toString());}\r\nreturn postData;}\r\nfunction scheduleSending(){window.setTimeout(sendAll,timerInterval);}\r\nfunction xmlHttpErrorHandler(){var msg=\"AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled\";handleError(msg);isSupported=false;if(failCallback){failCallback(msg);}}\r\nfunction sendRequest(postData,successCallback){try{var xmlHttp=getXmlHttp(xmlHttpErrorHandler);if(isSupported){if(xmlHttp.overrideMimeType){xmlHttp.overrideMimeType(appender.getLayout().getContentType());}\r\nxmlHttp.onreadystatechange=function(){if(xmlHttp.readyState==4){if(isHttpRequestSuccessful(xmlHttp)){if(requestSuccessCallback){requestSuccessCallback(xmlHttp);}\r\nif(successCallback){successCallback(xmlHttp);}}else{var msg=\"AjaxAppender.append: XMLHttpRequest request to URL \"+\r\nurl+\" returned status code \"+xmlHttp.status;handleError(msg);if(failCallback){failCallback(msg);}}\r\nxmlHttp.onreadystatechange=emptyFunction;xmlHttp=null;}};xmlHttp.open(\"POST\",url,true);try{for(var i=0,header;header=headers[i++];){xmlHttp.setRequestHeader(header.name,header.value);}\r\nxmlHttp.setRequestHeader(\"Content-Type\",contentType);}catch(headerEx){var msg=\"AjaxAppender.append: your browser's XMLHttpRequest implementation\"+\" does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled\";handleError(msg);isSupported=false;if(failCallback){failCallback(msg);}\r\nreturn;}\r\nxmlHttp.send(postData);}}catch(ex){var errMsg=\"AjaxAppender.append: error sending log message to \"+url;handleError(errMsg,ex);isSupported=false;if(failCallback){failCallback(errMsg+\". Details: \"+getExceptionStringRep(ex));}}}\r\nthis.append=function(loggingEvent){if(isSupported){if(!initialized){init();}\r\nqueuedLoggingEvents.push(loggingEvent);var actualBatchSize=this.getLayout().allowBatching()?batchSize:1;if(queuedLoggingEvents.length>=actualBatchSize){var currentLoggingEvent;var batchedLoggingEvents=[];while((currentLoggingEvent=queuedLoggingEvents.shift())){batchedLoggingEvents.push(currentLoggingEvent);}\r\nqueuedRequests.push(batchedLoggingEvents);if(!timed&&(!waitForResponse||(waitForResponse&&!sending))){sendAll();}}}};function init(){initialized=true;if(sendAllOnUnload){var oldBeforeUnload=window.onbeforeunload;window.onbeforeunload=function(){if(oldBeforeUnload){oldBeforeUnload();}\r\nif(sendAllRemaining()){return\"Sending log messages\";}};}\r\nif(timed){scheduleSending();}}}\r\nAjaxAppender.prototype=new Appender();AjaxAppender.prototype.defaults={waitForResponse:false,timed:false,timerInterval:1000,batchSize:1,sendAllOnUnload:false,requestSuccessCallback:null,failCallback:null,postVarName:\"data\",contentType:\"application/x-www-form-urlencoded\"};AjaxAppender.prototype.layout=new HttpPostDataLayout();AjaxAppender.prototype.toString=function(){return\"AjaxAppender\";};log4javascript.AjaxAppender=AjaxAppender;function setCookie(name,value,days,path){var expires;path=path?\"; path=\"+path:\"\";if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires=\"; expires=\"+date.toGMTString();}else{expires=\"\";}\r\ndocument.cookie=escape(name)+\"=\"+escape(value)+expires+path;}\r\nfunction getCookie(name){var nameEquals=escape(name)+\"=\";var ca=document.cookie.split(\";\");for(var i=0,len=ca.length;i<len;i++){var c=ca[i];while(c.charAt(0)===\" \"){c=c.substring(1,c.length);}\r\nif(c.indexOf(nameEquals)===0){return unescape(c.substring(nameEquals.length,c.length));}}\r\nreturn null;}\r\nfunction getBaseUrl(){var scripts=document.getElementsByTagName(\"script\");for(var i=0,len=scripts.length;i<len;++i){if(scripts[i].src.indexOf(\"log4javascript\")!=-1){var lastSlash=scripts[i].src.lastIndexOf(\"/\");return(lastSlash==-1)?\"\":scripts[i].src.substr(0,lastSlash+1);}}\r\nreturn null;}\r\nfunction isLoaded(win){try{return bool(win.loaded);}catch(ex){return false;}}\r\nvar ConsoleAppender;(function(){var getConsoleHtmlLines=function(){return['<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">','<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"en\" xml:lang=\"en\">','<head>','<title>log4javascript</title>','<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />','<!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work -->','<meta http-equiv=\"X-UA-Compatible\" content=\"IE=7\" />','<script type=\"text/javascript\">var isIe = false, isIePre7 = false;</script>','<!--[if IE]><script type=\"text/javascript\">isIe = true</script><![endif]-->','<!--[if lt IE 7]><script type=\"text/javascript\">isIePre7 = true</script><![endif]-->','<script type=\"text/javascript\">','//<![CDATA[','var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}','function LogItem(){}','LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}','this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}','this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}','if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}','if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}','LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement(\"div\");this.mainDiv.className=\"separator\";this.mainDiv.innerHTML=\"&nbsp;\";}','SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}','Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement(\"div\"));this.contentDiv.id=this.isWrapped?\"log_wrapped\":\"log_unwrapped\";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement(\"div\");this.mainDiv.className=\"group\";this.headingDiv=this.mainDiv.appendChild(document.createElement(\"div\"));this.headingDiv.className=\"groupheading\";this.expander=this.headingDiv.appendChild(document.createElement(\"span\"));this.expander.className=\"expander unselectable greyedout\";this.expander.unselectable=true;var expanderText=this.group.expanded?\"-\":\"+\";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(\" \"+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement(\"div\"));var contentCssClass=this.group.expanded?\"expanded\":\"collapsed\";this.contentDiv.className=\"groupcontent \"+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}','GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass=\"expanded\";oldCssClass=\"collapsed\";expanderText=\"-\";}else{newCssClass=\"collapsed\";oldCssClass=\"expanded\";expanderText=\"+\";}','replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}','while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,\"greyedout\");}else{addClass(this.expander,\"greyedout\");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML=\"\";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}','Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}','this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}','this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}','this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}','this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}','if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}','LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML=\"\";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?\"searchnonmatch\":\"searchmatch\";var newCssClass=isMatch?\"searchmatch\":\"searchnonmatch\";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,\"searchmatch\");removeClass(this.mainDiv,\"searchnonmatch\");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement(\"div\");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className=\"logentry wrapped \"+this.logEntry.level;this.contentElement=this.mainDiv;}','LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML=\"\";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement(\"div\");this.mainDiv.className=\"logentry unwrapped \"+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement(\"pre\"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className=\"unwrapped\";this.contentElement=this.pre;}','LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement(\"div\");this.mainDiv.className=\"logentry nonielogentry \"+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement(\"span\"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}','LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}','LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\\\r\\\\n/g,\"\\\\r\");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\\\r\\\\n/g,\"\\\\r\");}','for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}','this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,\"searchterm\",\"span\");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,\"searchterm\",\"span\");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,\"searchterm\",\"span\");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}','return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}','LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}','GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split(\"&\"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split(\"=\");if(nameValueBits[0]==\"log4javascript_domain\"){document.domain=nameValueBits[1];break;}}}','logMainContainer=$(\"log\");if(isIePre7){addClass(logMainContainer,\"oldIe\");}','rootGroup=new Group(\"root\",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$(\"command\").value=\"\";$(\"command\").autocomplete=\"off\";$(\"command\").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value=\"\";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$(\"command\").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$(\"command\").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}','break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}','break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}','break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}','appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($(\"enableLogging\").checked);}','function setLoggingEnabled(enable){loggingEnabled=enable;}','var appender=null;function setAppender(appenderParam){appender=appenderParam;}','function setShowCloseButton(showCloseButton){$(\"closeButton\").style.display=showCloseButton?\"inline\":\"none\";}','function setShowHideButton(showHideButton){$(\"hideButton\").style.display=showHideButton?\"inline\":\"none\";}','var newestAtTop=false;function LogItemContentReverser(){}','LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}','matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}','currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}','$(\"newestAtTop\").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$(\"newestAtTop\").checked;setNewestAtTop(isNewestAtTop);}','var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}','$(\"scrollToLatest\").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$(\"scrollToLatest\").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!=\"undefined\"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}','var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}','var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}','var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$(\"commandLine\").style.display=showCommandLine?\"block\":\"none\";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$(\"command\").focus();}}','function focusSearch(){if(loaded){$(\"searchBox\").focus();}}','function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}','return items;}','function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}','loggingEnabled=loggingReallyEnabled;}','function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}','logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}','function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}','if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}','displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}','if(scrollToLatest){doScrollToLatest();}','unrenderedLogItemsExist=false;}','function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}','var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}','logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}','return false;}','function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded===\"undefined\")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}','logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}','function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}','function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}','function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}','function hide(){if(appender&&mainWindowExists()){appender.hide();}}','var mainWindow=window;var windowId=\"log4javascriptConsoleWindow_\"+new Date().getTime()+\"_\"+(\"\"+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}','function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}','function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}','return false;}','var logLevels=[\"TRACE\",\"DEBUG\",\"INFO\",\"WARN\",\"ERROR\",\"FATAL\"];function getCheckBox(logLevel){return $(\"switch_\"+logLevel);}','function getIeWrappedLogContainer(){return $(\"log_wrapped\");}','function getIeUnwrappedLogContainer(){return $(\"log_unwrapped\");}','function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}','updateSearchFromFilters();}','function toggleAllLevels(){var turnOn=$(\"switch_ALL\").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}','function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox(\"ALL\").checked=false;return;}}','getCheckBox(\"ALL\").checked=true;}','function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}','function toggleWrap(){var enable=$(\"wrap\").checked;if(enable){addClass(logMainContainer,\"wrap\");}else{removeClass(logMainContainer,\"wrap\");}','refreshCurrentMatch();}','var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}','searchTimer=setTimeout(doSearch,500);}','function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}','Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}','return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}','return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}','for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}','return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}','for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}','return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag=\"<span class=\\\\\\\"searchterm\\\\\\\">\";var searchTermReplacementEndTag=\"<\"+\"/span>\";var preTagName=isIe?\"pre\":\"span\";var preStartTag=\"<\"+preTagName+\" class=\\\\\\\"pre\\\\\\\">\";var preEndTag=\"<\"+\"/\"+preTagName+\">\";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?\"g\":\"gi\";var capturingRegex=new RegExp(\"(\"+this.searchRegex.source+\")\",flags);var rnd=(\"\"+Math.random()).substr(2);var startToken=\"%%s\"+rnd+\"%%\";var endToken=\"%%e\"+rnd+\"%%\";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+\"$1\"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent=\"\";wrappedLogEntryContent=\"\";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+','preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+','matchedText+searchTermReplacementEndTag;}','startIndex=endTokenIndex+endToken.length;}','logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent=\"\";wrappedLogEntryContent=\"\";var searchTermReplacementLength=searchTermReplacementStartTag.length+','this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+','preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+','matchedText+searchTermReplacementEndTag;}','startIndex=searchIndex+searchTermLength;}','var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}','logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}','return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}','var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}','for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}','if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}','setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}','return y;}','function scrollIntoView(el){var logContainer=logMainContainer;if(!$(\"wrap\").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}','var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}','function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}','this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}','Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,\"currentmatch\");addClass(this.spanInWrappedDiv,\"currentmatch\");var elementToScroll=$(\"wrap\").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,\"currentmatch\");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,\"currentmatch\");removeClass(this.spanInWrappedDiv,\"currentmatch\");}else{removeClass(this.spanInMainDiv,\"currentmatch\");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$(\"searchBox\");var searchTerm=searchBox.value;var isRegex=$(\"searchRegex\").checked;var isCaseSensitive=$(\"searchCaseSensitive\").checked;var i;if(searchTerm===\"\"){$(\"searchReset\").disabled=true;$(\"searchNav\").style.display=\"none\";removeClass(document.body,\"searching\");removeClass(searchBox,\"hasmatches\");removeClass(searchBox,\"nomatches\");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}','currentSearch=null;setLogContainerHeight();}else{$(\"searchReset\").disabled=false;$(\"searchNav\").style.display=\"block\";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,\"g\"):new RegExp(searchTerm,\"gi\");regexValid=true;replaceClass(searchBox,\"validregex\",\"invalidregex\");searchBox.title=\"Valid regex\";}catch(ex){regexValid=false;replaceClass(searchBox,\"invalidregex\",\"validregex\");searchBox.title=\"Invalid regex: \"+(ex.message?ex.message:(ex.description?ex.description:\"unknown error\"));return;}}else{searchBox.title=\"\";removeClass(searchBox,\"validregex\");removeClass(searchBox,\"invalidregex\");}','addClass(document.body,\"searching\");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}','setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}','function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}','var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}','function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}','function displayMatches(){replaceClass($(\"searchBox\"),\"hasmatches\",\"nomatches\");$(\"searchBox\").title=\"\"+currentSearch.matches.length+\" matches found\";$(\"searchNav\").style.display=\"block\";setLogContainerHeight();}','function displayNoMatches(){replaceClass($(\"searchBox\"),\"nomatches\",\"hasmatches\");$(\"searchBox\").title=\"No matches found\";$(\"searchNav\").style.display=\"none\";setLogContainerHeight();}','function toggleSearchEnabled(enable){enable=(typeof enable==\"undefined\")?!$(\"searchDisable\").checked:enable;$(\"searchBox\").disabled=!enable;$(\"searchReset\").disabled=!enable;$(\"searchRegex\").disabled=!enable;$(\"searchNext\").disabled=!enable;$(\"searchPrevious\").disabled=!enable;$(\"searchCaseSensitive\").disabled=!enable;$(\"searchNav\").style.display=(enable&&($(\"searchBox\").value!==\"\")&&currentSearch&&currentSearch.hasVisibleMatches())?\"block\":\"none\";if(enable){removeClass($(\"search\"),\"greyedout\");addClass(document.body,\"searching\");if($(\"searchHighlight\").checked){addClass(logMainContainer,\"searchhighlight\");}else{removeClass(logMainContainer,\"searchhighlight\");}','if($(\"searchFilter\").checked){addClass(logMainContainer,\"searchfilter\");}else{removeClass(logMainContainer,\"searchfilter\");}','$(\"searchDisable\").checked=!enable;}else{addClass($(\"search\"),\"greyedout\");removeClass(document.body,\"searching\");removeClass(logMainContainer,\"searchhighlight\");removeClass(logMainContainer,\"searchfilter\");}','setLogContainerHeight();}','function toggleSearchFilter(){var enable=$(\"searchFilter\").checked;if(enable){addClass(logMainContainer,\"searchfilter\");}else{removeClass(logMainContainer,\"searchfilter\");}','refreshCurrentMatch();}','function toggleSearchHighlight(){var enable=$(\"searchHighlight\").checked;if(enable){addClass(logMainContainer,\"searchhighlight\");}else{removeClass(logMainContainer,\"searchhighlight\");}}','function clearSearch(){$(\"searchBox\").value=\"\";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm(\"Reached the end of the page. Start from the top?\")){setCurrentMatchIndex(nextMatchIndex);}}}','function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm(\"Reached the start of the page. Continue from the bottom?\")){setCurrentMatchIndex(previousMatchIndex);}}}','function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}','function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=\" \"+cssClass;}else{el.className=cssClass;}}}','function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(\" \");return array_contains(classNames,cssClass);}','return false;}','function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(\" \");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(\" \");}}','function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}','function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}','return matches;}','function $(id){return document.getElementById(id);}','function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}','node=node.parentNode;}','return false;}','function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}','currentNode=currentNode.parentNode;}','return true;}','function escapeHtml(str){return str.replace(/&/g,\"&amp;\").replace(/[<]/g,\"&lt;\").replace(/>/g,\"&gt;\");}','function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}','return 0;}','function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}','return 0;}','function getToolBarsHeight(){return $(\"switches\").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$(\"commandLine\").offsetHeight;}','return height;}','function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$(\"body\").style.height=getWindowHeight()+\"px\";logMainContainer.style.height=\"\"+','Math.max(0,windowHeight-getChromeHeight())+\"px\";}}','function setCommandInputWidth(){if(showCommandLine){$(\"command\").style.width=\"\"+Math.max(0,$(\"commandLineContainer\").offsetWidth-','($(\"evaluateButton\").offsetWidth+13))+\"px\";}}','window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}','return this.length;};}','if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}','if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}','this.length=this.length-1;return firstItem;}};}','if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}','var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}','return itemsDeleted;};}','function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}','if(index>=0){arr.splice(index,1);return index;}else{return false;}}','function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}','array.length=array.length-numberToRemove;}','return array;}','function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}','return false;}','function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}','return\"\"+ex;}','function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}','input.focus();}','function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!=\"undefined\"){evt.cancelBubble=true;}}','function getEvent(evt){return evt?evt:event;}','function getTarget(evt){return evt.target?evt.target:evt.srcElement;}','function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case\"mouseover\":return evt.fromElement;case\"mouseout\":return evt.toElement;default:return evt.srcElement;}}}','function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}','function evalCommandLine(){var expr=$(\"command\").value;evalCommand(expr);$(\"command\").value=\"\";}','function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}','var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=\">>> \"+expr+\"\\\\r\\\\n\";try{log(\"INFO\",prefix+eval(expr));}catch(ex){log(\"ERROR\",prefix+\"Error: \"+getErrorMessage(ex));}}','if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}','currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}','//]]>','</script>','<style type=\"text/css\">','body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}','</style>','</head>','<body id=\"body\">','<div id=\"switchesContainer\">','<div id=\"switches\">','<div id=\"levels\" class=\"toolbar\">','Filters:','<input type=\"checkbox\" id=\"switch_TRACE\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide trace messages\" /><label for=\"switch_TRACE\" id=\"label_TRACE\">trace</label>','<input type=\"checkbox\" id=\"switch_DEBUG\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide debug messages\" /><label for=\"switch_DEBUG\" id=\"label_DEBUG\">debug</label>','<input type=\"checkbox\" id=\"switch_INFO\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide info messages\" /><label for=\"switch_INFO\" id=\"label_INFO\">info</label>','<input type=\"checkbox\" id=\"switch_WARN\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide warn messages\" /><label for=\"switch_WARN\" id=\"label_WARN\">warn</label>','<input type=\"checkbox\" id=\"switch_ERROR\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide error messages\" /><label for=\"switch_ERROR\" id=\"label_ERROR\">error</label>','<input type=\"checkbox\" id=\"switch_FATAL\" onclick=\"applyFilters(); checkAllLevels()\" checked=\"checked\" title=\"Show/hide fatal messages\" /><label for=\"switch_FATAL\" id=\"label_FATAL\">fatal</label>','<input type=\"checkbox\" id=\"switch_ALL\" onclick=\"toggleAllLevels(); applyFilters()\" checked=\"checked\" title=\"Show/hide all messages\" /><label for=\"switch_ALL\" id=\"label_ALL\">all</label>','</div>','<div id=\"search\" class=\"toolbar\">','<label for=\"searchBox\" class=\"searchboxlabel\">Search:</label> <input type=\"text\" id=\"searchBox\" onclick=\"toggleSearchEnabled(true)\" onkeyup=\"scheduleSearch()\" size=\"20\" />','<input type=\"button\" id=\"searchReset\" disabled=\"disabled\" value=\"Reset\" onclick=\"clearSearch()\" class=\"button\" title=\"Reset the search\" />','<input type=\"checkbox\" id=\"searchRegex\" onclick=\"doSearch()\" title=\"If checked, search is treated as a regular expression\" /><label for=\"searchRegex\">Regex</label>','<input type=\"checkbox\" id=\"searchCaseSensitive\" onclick=\"doSearch()\" title=\"If checked, search is case sensitive\" /><label for=\"searchCaseSensitive\">Match case</label>','<input type=\"checkbox\" id=\"searchDisable\" onclick=\"toggleSearchEnabled()\" title=\"Enable/disable search\" /><label for=\"searchDisable\" class=\"alwaysenabled\">Disable</label>','<div id=\"searchNav\">','<input type=\"button\" id=\"searchNext\" disabled=\"disabled\" value=\"Next\" onclick=\"searchNext()\" class=\"button\" title=\"Go to the next matching log entry\" />','<input type=\"button\" id=\"searchPrevious\" disabled=\"disabled\" value=\"Previous\" onclick=\"searchPrevious()\" class=\"button\" title=\"Go to the previous matching log entry\" />','<input type=\"checkbox\" id=\"searchFilter\" onclick=\"toggleSearchFilter()\" title=\"If checked, non-matching log entries are filtered out\" /><label for=\"searchFilter\">Filter</label>','<input type=\"checkbox\" id=\"searchHighlight\" onclick=\"toggleSearchHighlight()\" title=\"Highlight matched search terms\" /><label for=\"searchHighlight\" class=\"alwaysenabled\">Highlight all</label>','</div>','</div>','<div id=\"options\" class=\"toolbar\">','Options:','<input type=\"checkbox\" id=\"enableLogging\" onclick=\"toggleLoggingEnabled()\" checked=\"checked\" title=\"Enable/disable logging\" /><label for=\"enableLogging\" id=\"enableLoggingLabel\">Log</label>','<input type=\"checkbox\" id=\"wrap\" onclick=\"toggleWrap()\" title=\"Enable / disable word wrap\" /><label for=\"wrap\" id=\"wrapLabel\">Wrap</label>','<input type=\"checkbox\" id=\"newestAtTop\" onclick=\"toggleNewestAtTop()\" title=\"If checked, causes newest messages to appear at the top\" /><label for=\"newestAtTop\" id=\"newestAtTopLabel\">Newest at the top</label>','<input type=\"checkbox\" id=\"scrollToLatest\" onclick=\"toggleScrollToLatest()\" checked=\"checked\" title=\"If checked, window automatically scrolls to a new message when it is added\" /><label for=\"scrollToLatest\" id=\"scrollToLatestLabel\">Scroll to latest</label>','<input type=\"button\" id=\"clearButton\" value=\"Clear\" onclick=\"clearLog()\" class=\"button\" title=\"Clear all log messages\"  />','<input type=\"button\" id=\"hideButton\" value=\"Hide\" onclick=\"hide()\" class=\"hidden button\" title=\"Hide the console\" />','<input type=\"button\" id=\"closeButton\" value=\"Close\" onclick=\"closeWindow()\" class=\"hidden button\" title=\"Close the window\" />','</div>','</div>','</div>','<div id=\"log\" class=\"TRACE DEBUG INFO WARN ERROR FATAL\"></div>','<div id=\"commandLine\" class=\"toolbar\">','<div id=\"commandLineContainer\">','<input type=\"text\" id=\"command\" title=\"Enter a JavaScript command here and hit return or press \\'Evaluate\\'\" />','<input type=\"button\" id=\"evaluateButton\" value=\"Evaluate\" class=\"button\" title=\"Evaluate the command\" onclick=\"evalCommandLine()\" />','</div>','</div>','</body>','</html>',''];};var defaultCommandLineFunctions=[];ConsoleAppender=function(){};var consoleAppenderIdCounter=1;ConsoleAppender.prototype=new Appender();ConsoleAppender.prototype.create=function(inPage,container,lazyInit,initiallyMinimized,useDocumentWrite,width,height,focusConsoleWindow){var appender=this;var initialized=false;var consoleWindowCreated=false;var consoleWindowLoaded=false;var consoleClosed=false;var queuedLoggingEvents=[];var isSupported=true;var consoleAppenderId=consoleAppenderIdCounter++;initiallyMinimized=extractBooleanFromParam(initiallyMinimized,this.defaults.initiallyMinimized);lazyInit=extractBooleanFromParam(lazyInit,this.defaults.lazyInit);useDocumentWrite=extractBooleanFromParam(useDocumentWrite,this.defaults.useDocumentWrite);var newestMessageAtTop=this.defaults.newestMessageAtTop;var scrollToLatestMessage=this.defaults.scrollToLatestMessage;width=width?width:this.defaults.width;height=height?height:this.defaults.height;var maxMessages=this.defaults.maxMessages;var showCommandLine=this.defaults.showCommandLine;var commandLineObjectExpansionDepth=this.defaults.commandLineObjectExpansionDepth;var showHideButton=this.defaults.showHideButton;var showCloseButton=this.defaults.showCloseButton;var showLogEntryDeleteButtons=this.defaults.showLogEntryDeleteButtons;this.setLayout(this.defaults.layout);var init,createWindow,safeToAppend,getConsoleWindow,open;var appenderName=inPage?\"InPageAppender\":\"PopUpAppender\";var checkCanConfigure=function(configOptionName){if(consoleWindowCreated){handleError(appenderName+\": configuration option '\"+configOptionName+\"' may not be set after the appender has been initialized\");return false;}\r\nreturn true;};var consoleWindowExists=function(){return(consoleWindowLoaded&&isSupported&&!consoleClosed);};this.isNewestMessageAtTop=function(){return newestMessageAtTop;};this.setNewestMessageAtTop=function(newestMessageAtTopParam){newestMessageAtTop=bool(newestMessageAtTopParam);if(consoleWindowExists()){getConsoleWindow().setNewestAtTop(newestMessageAtTop);}};this.isScrollToLatestMessage=function(){return scrollToLatestMessage;};this.setScrollToLatestMessage=function(scrollToLatestMessageParam){scrollToLatestMessage=bool(scrollToLatestMessageParam);if(consoleWindowExists()){getConsoleWindow().setScrollToLatest(scrollToLatestMessage);}};this.getWidth=function(){return width;};this.setWidth=function(widthParam){if(checkCanConfigure(\"width\")){width=extractStringFromParam(widthParam,width);}};this.getHeight=function(){return height;};this.setHeight=function(heightParam){if(checkCanConfigure(\"height\")){height=extractStringFromParam(heightParam,height);}};this.getMaxMessages=function(){return maxMessages;};this.setMaxMessages=function(maxMessagesParam){maxMessages=extractIntFromParam(maxMessagesParam,maxMessages);if(consoleWindowExists()){getConsoleWindow().setMaxMessages(maxMessages);}};this.isShowCommandLine=function(){return showCommandLine;};this.setShowCommandLine=function(showCommandLineParam){showCommandLine=bool(showCommandLineParam);if(consoleWindowExists()){getConsoleWindow().setShowCommandLine(showCommandLine);}};this.isShowHideButton=function(){return showHideButton;};this.setShowHideButton=function(showHideButtonParam){showHideButton=bool(showHideButtonParam);if(consoleWindowExists()){getConsoleWindow().setShowHideButton(showHideButton);}};this.isShowCloseButton=function(){return showCloseButton;};this.setShowCloseButton=function(showCloseButtonParam){showCloseButton=bool(showCloseButtonParam);if(consoleWindowExists()){getConsoleWindow().setShowCloseButton(showCloseButton);}};this.getCommandLineObjectExpansionDepth=function(){return commandLineObjectExpansionDepth;};this.setCommandLineObjectExpansionDepth=function(commandLineObjectExpansionDepthParam){commandLineObjectExpansionDepth=extractIntFromParam(commandLineObjectExpansionDepthParam,commandLineObjectExpansionDepth);};var minimized=initiallyMinimized;this.isInitiallyMinimized=function(){return initiallyMinimized;};this.setInitiallyMinimized=function(initiallyMinimizedParam){if(checkCanConfigure(\"initiallyMinimized\")){initiallyMinimized=bool(initiallyMinimizedParam);minimized=initiallyMinimized;}};this.isUseDocumentWrite=function(){return useDocumentWrite;};this.setUseDocumentWrite=function(useDocumentWriteParam){if(checkCanConfigure(\"useDocumentWrite\")){useDocumentWrite=bool(useDocumentWriteParam);}};function QueuedLoggingEvent(loggingEvent,formattedMessage){this.loggingEvent=loggingEvent;this.levelName=loggingEvent.level.name;this.formattedMessage=formattedMessage;}\r\nQueuedLoggingEvent.prototype.append=function(){getConsoleWindow().log(this.levelName,this.formattedMessage);};function QueuedGroup(name,initiallyExpanded){this.name=name;this.initiallyExpanded=initiallyExpanded;}\r\nQueuedGroup.prototype.append=function(){getConsoleWindow().group(this.name,this.initiallyExpanded);};function QueuedGroupEnd(){}\r\nQueuedGroupEnd.prototype.append=function(){getConsoleWindow().groupEnd();};var checkAndAppend=function(){safeToAppend();if(!initialized){init();}else if(consoleClosed&&reopenWhenClosed){createWindow();}\r\nif(safeToAppend()){appendQueuedLoggingEvents();}};this.append=function(loggingEvent){if(isSupported){var formattedMessage=appender.getLayout().format(loggingEvent);if(this.getLayout().ignoresThrowable()){formattedMessage+=loggingEvent.getThrowableStrRep();}\r\nqueuedLoggingEvents.push(new QueuedLoggingEvent(loggingEvent,formattedMessage));checkAndAppend();}};this.group=function(name,initiallyExpanded){if(isSupported){queuedLoggingEvents.push(new QueuedGroup(name,initiallyExpanded));checkAndAppend();}};this.groupEnd=function(){if(isSupported){queuedLoggingEvents.push(new QueuedGroupEnd());checkAndAppend();}};var appendQueuedLoggingEvents=function(){var currentLoggingEvent;while(queuedLoggingEvents.length>0){queuedLoggingEvents.shift().append();}\r\nif(focusConsoleWindow){getConsoleWindow().focus();}};this.setAddedToLogger=function(logger){this.loggers.push(logger);if(enabled&&!lazyInit){init();}};this.clear=function(){if(consoleWindowExists()){getConsoleWindow().clearLog();}\r\nqueuedLoggingEvents.length=0;};this.focus=function(){if(consoleWindowExists()){getConsoleWindow().focus();}};this.focusCommandLine=function(){if(consoleWindowExists()){getConsoleWindow().focusCommandLine();}};this.focusSearch=function(){if(consoleWindowExists()){getConsoleWindow().focusSearch();}};var commandWindow=window;this.getCommandWindow=function(){return commandWindow;};this.setCommandWindow=function(commandWindowParam){commandWindow=commandWindowParam;};this.executeLastCommand=function(){if(consoleWindowExists()){getConsoleWindow().evalLastCommand();}};var commandLayout=new PatternLayout(\"%m\");this.getCommandLayout=function(){return commandLayout;};this.setCommandLayout=function(commandLayoutParam){commandLayout=commandLayoutParam;};this.evalCommandAndAppend=function(expr){var commandReturnValue={appendResult:true,isError:false};var commandOutput=\"\";try{var result,i;if(!commandWindow.eval&&commandWindow.execScript){commandWindow.execScript(\"null\");}\r\nvar commandLineFunctionsHash={};for(i=0,len=commandLineFunctions.length;i<len;i++){commandLineFunctionsHash[commandLineFunctions[i][0]]=commandLineFunctions[i][1];}\r\nvar objectsToRestore=[];var addObjectToRestore=function(name){objectsToRestore.push([name,commandWindow[name]]);};addObjectToRestore(\"appender\");commandWindow.appender=appender;addObjectToRestore(\"commandReturnValue\");commandWindow.commandReturnValue=commandReturnValue;addObjectToRestore(\"commandLineFunctionsHash\");commandWindow.commandLineFunctionsHash=commandLineFunctionsHash;var addFunctionToWindow=function(name){addObjectToRestore(name);commandWindow[name]=function(){return this.commandLineFunctionsHash[name](appender,arguments,commandReturnValue);};};for(i=0,len=commandLineFunctions.length;i<len;i++){addFunctionToWindow(commandLineFunctions[i][0]);}\r\nif(commandWindow===window&&commandWindow.execScript){addObjectToRestore(\"evalExpr\");addObjectToRestore(\"result\");window.evalExpr=expr;commandWindow.execScript(\"window.result=eval(window.evalExpr);\");result=window.result;}else{result=commandWindow.eval(expr);}\r\ncommandOutput=isUndefined(result)?result:formatObjectExpansion(result,commandLineObjectExpansionDepth);for(i=0,len=objectsToRestore.length;i<len;i++){commandWindow[objectsToRestore[i][0]]=objectsToRestore[i][1];}}catch(ex){commandOutput=\"Error evaluating command: \"+getExceptionStringRep(ex);commandReturnValue.isError=true;}\r\nif(commandReturnValue.appendResult){var message=\">>> \"+expr;if(!isUndefined(commandOutput)){message+=newLine+commandOutput;}\r\nvar level=commandReturnValue.isError?Level.ERROR:Level.INFO;var loggingEvent=new LoggingEvent(null,new Date(),level,[message],null);var mainLayout=this.getLayout();this.setLayout(commandLayout);this.append(loggingEvent);this.setLayout(mainLayout);}};var commandLineFunctions=defaultCommandLineFunctions.concat([]);this.addCommandLineFunction=function(functionName,commandLineFunction){commandLineFunctions.push([functionName,commandLineFunction]);};var commandHistoryCookieName=\"log4javascriptCommandHistory\";this.storeCommandHistory=function(commandHistory){setCookie(commandHistoryCookieName,commandHistory.join(\",\"));};var writeHtml=function(doc){var lines=getConsoleHtmlLines();doc.open();for(var i=0,len=lines.length;i<len;i++){doc.writeln(lines[i]);}\r\ndoc.close();};this.setEventTypes([\"load\",\"unload\"]);var consoleWindowLoadHandler=function(){var win=getConsoleWindow();win.setAppender(appender);win.setNewestAtTop(newestMessageAtTop);win.setScrollToLatest(scrollToLatestMessage);win.setMaxMessages(maxMessages);win.setShowCommandLine(showCommandLine);win.setShowHideButton(showHideButton);win.setShowCloseButton(showCloseButton);win.setMainWindow(window);var storedValue=getCookie(commandHistoryCookieName);if(storedValue){win.commandHistory=storedValue.split(\",\");win.currentCommandIndex=win.commandHistory.length;}\r\nappender.dispatchEvent(\"load\",{\"win\":win});};this.unload=function(){logLog.debug(\"unload \"+this+\", caller: \"+this.unload.caller);if(!consoleClosed){logLog.debug(\"really doing unload \"+this);consoleClosed=true;consoleWindowLoaded=false;consoleWindowCreated=false;appender.dispatchEvent(\"unload\",{});}};var pollConsoleWindow=function(windowTest,interval,successCallback,errorMessage){function doPoll(){try{if(consoleClosed){clearInterval(poll);}\r\nif(windowTest(getConsoleWindow())){clearInterval(poll);successCallback();}}catch(ex){clearInterval(poll);isSupported=false;handleError(errorMessage,ex);}}\r\nvar poll=setInterval(doPoll,interval);};var getConsoleUrl=function(){var documentDomainSet=(document.domain!=location.hostname);return useDocumentWrite?\"\":getBaseUrl()+\"console.html\"+\r\n(documentDomainSet?\"?log4javascript_domain=\"+escape(document.domain):\"\");};if(inPage){var containerElement=null;var cssProperties=[];this.addCssProperty=function(name,value){if(checkCanConfigure(\"cssProperties\")){cssProperties.push([name,value]);}};var windowCreationStarted=false;var iframeContainerDiv;var iframeId=uniqueId+\"_InPageAppender_\"+consoleAppenderId;this.hide=function(){if(initialized&&consoleWindowCreated){if(consoleWindowExists()){getConsoleWindow().$(\"command\").blur();}\r\niframeContainerDiv.style.display=\"none\";minimized=true;}};this.show=function(){if(initialized){if(consoleWindowCreated){iframeContainerDiv.style.display=\"block\";this.setShowCommandLine(showCommandLine);minimized=false;}else if(!windowCreationStarted){createWindow(true);}}};this.isVisible=function(){return!minimized&&!consoleClosed;};this.close=function(fromButton){if(!consoleClosed&&(!fromButton||confirm(\"This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?\"))){iframeContainerDiv.parentNode.removeChild(iframeContainerDiv);this.unload();}};open=function(){var initErrorMessage=\"InPageAppender.open: unable to create console iframe\";function finalInit(){try{if(!initiallyMinimized){appender.show();}\r\nconsoleWindowLoadHandler();consoleWindowLoaded=true;appendQueuedLoggingEvents();}catch(ex){isSupported=false;handleError(initErrorMessage,ex);}}\r\nfunction writeToDocument(){try{var windowTest=function(win){return isLoaded(win);};if(useDocumentWrite){writeHtml(getConsoleWindow().document);}\r\nif(windowTest(getConsoleWindow())){finalInit();}else{pollConsoleWindow(windowTest,100,finalInit,initErrorMessage);}}catch(ex){isSupported=false;handleError(initErrorMessage,ex);}}\r\nminimized=false;iframeContainerDiv=containerElement.appendChild(document.createElement(\"div\"));iframeContainerDiv.style.width=width;iframeContainerDiv.style.height=height;iframeContainerDiv.style.border=\"solid gray 1px\";for(var i=0,len=cssProperties.length;i<len;i++){iframeContainerDiv.style[cssProperties[i][0]]=cssProperties[i][1];}\r\nvar iframeSrc=useDocumentWrite?\"\":\" src='\"+getConsoleUrl()+\"'\";iframeContainerDiv.innerHTML=\"<iframe id='\"+iframeId+\"' name='\"+iframeId+\"' width='100%' height='100%' frameborder='0'\"+iframeSrc+\" scrolling='no'></iframe>\";consoleClosed=false;var iframeDocumentExistsTest=function(win){try{return bool(win)&&bool(win.document);}catch(ex){return false;}};if(iframeDocumentExistsTest(getConsoleWindow())){writeToDocument();}else{pollConsoleWindow(iframeDocumentExistsTest,100,writeToDocument,initErrorMessage);}\r\nconsoleWindowCreated=true;};createWindow=function(show){if(show||!initiallyMinimized){var pageLoadHandler=function(){if(!container){containerElement=document.createElement(\"div\");containerElement.style.position=\"fixed\";containerElement.style.left=\"0\";containerElement.style.right=\"0\";containerElement.style.bottom=\"0\";document.body.appendChild(containerElement);appender.addCssProperty(\"borderWidth\",\"1px 0 0 0\");appender.addCssProperty(\"zIndex\",1000000);open();}else{try{var el=document.getElementById(container);if(el.nodeType==1){containerElement=el;}\r\nopen();}catch(ex){handleError(\"InPageAppender.init: invalid container element '\"+container+\"' supplied\",ex);}}};if(pageLoaded&&container&&container.appendChild){containerElement=container;open();}else if(pageLoaded){pageLoadHandler();}else{log4javascript.addEventListener(\"load\",pageLoadHandler);}\r\nwindowCreationStarted=true;}};init=function(){createWindow();initialized=true;};getConsoleWindow=function(){var iframe=window.frames[iframeId];if(iframe){return iframe;}};safeToAppend=function(){if(isSupported&&!consoleClosed){if(consoleWindowCreated&&!consoleWindowLoaded&&getConsoleWindow()&&isLoaded(getConsoleWindow())){consoleWindowLoaded=true;}\r\nreturn consoleWindowLoaded;}\r\nreturn false;};}else{var useOldPopUp=appender.defaults.useOldPopUp;var complainAboutPopUpBlocking=appender.defaults.complainAboutPopUpBlocking;var reopenWhenClosed=this.defaults.reopenWhenClosed;this.isUseOldPopUp=function(){return useOldPopUp;};this.setUseOldPopUp=function(useOldPopUpParam){if(checkCanConfigure(\"useOldPopUp\")){useOldPopUp=bool(useOldPopUpParam);}};this.isComplainAboutPopUpBlocking=function(){return complainAboutPopUpBlocking;};this.setComplainAboutPopUpBlocking=function(complainAboutPopUpBlockingParam){if(checkCanConfigure(\"complainAboutPopUpBlocking\")){complainAboutPopUpBlocking=bool(complainAboutPopUpBlockingParam);}};this.isFocusPopUp=function(){return focusConsoleWindow;};this.setFocusPopUp=function(focusPopUpParam){focusConsoleWindow=bool(focusPopUpParam);};this.isReopenWhenClosed=function(){return reopenWhenClosed;};this.setReopenWhenClosed=function(reopenWhenClosedParam){reopenWhenClosed=bool(reopenWhenClosedParam);};this.close=function(){logLog.debug(\"close \"+this);try{popUp.close();this.unload();}catch(ex){}};this.hide=function(){logLog.debug(\"hide \"+this);if(consoleWindowExists()){this.close();}};this.show=function(){logLog.debug(\"show \"+this);if(!consoleWindowCreated){open();}};this.isVisible=function(){return safeToAppend();};var popUp;open=function(){var windowProperties=\"width=\"+width+\",height=\"+height+\",status,resizable\";var frameInfo=\"\";try{var frameEl=window.frameElement;if(frameEl){frameInfo=\"_\"+frameEl.tagName+\"_\"+(frameEl.name||frameEl.id||\"\");}}catch(e){frameInfo=\"_inaccessibleParentFrame\";}\r\nvar windowName=\"PopUp_\"+location.host.replace(/[^a-z0-9]/gi,\"_\")+\"_\"+consoleAppenderId+frameInfo;if(!useOldPopUp||!useDocumentWrite){windowName=windowName+\"_\"+uniqueId;}\r\nvar checkPopUpClosed=function(win){if(consoleClosed){return true;}else{try{return bool(win)&&win.closed;}catch(ex){}}\r\nreturn false;};var popUpClosedCallback=function(){if(!consoleClosed){appender.unload();}};function finalInit(){getConsoleWindow().setCloseIfOpenerCloses(!useOldPopUp||!useDocumentWrite);consoleWindowLoadHandler();consoleWindowLoaded=true;appendQueuedLoggingEvents();pollConsoleWindow(checkPopUpClosed,500,popUpClosedCallback,\"PopUpAppender.checkPopUpClosed: error checking pop-up window\");}\r\ntry{popUp=window.open(getConsoleUrl(),windowName,windowProperties);consoleClosed=false;consoleWindowCreated=true;if(popUp&&popUp.document){if(useDocumentWrite&&useOldPopUp&&isLoaded(popUp)){popUp.mainPageReloaded();finalInit();}else{if(useDocumentWrite){writeHtml(popUp.document);}\r\nvar popUpLoadedTest=function(win){return bool(win)&&isLoaded(win);};if(isLoaded(popUp)){finalInit();}else{pollConsoleWindow(popUpLoadedTest,100,finalInit,\"PopUpAppender.init: unable to create console window\");}}}else{isSupported=false;logLog.warn(\"PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender\");if(complainAboutPopUpBlocking){handleError(\"log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging.\");}}}catch(ex){handleError(\"PopUpAppender.init: error creating pop-up\",ex);}};createWindow=function(){if(!initiallyMinimized){open();}};init=function(){createWindow();initialized=true;};getConsoleWindow=function(){return popUp;};safeToAppend=function(){if(isSupported&&!isUndefined(popUp)&&!consoleClosed){if(popUp.closed||(consoleWindowLoaded&&isUndefined(popUp.closed))){appender.unload();logLog.debug(\"PopUpAppender: pop-up closed\");return false;}\r\nif(!consoleWindowLoaded&&isLoaded(popUp)){consoleWindowLoaded=true;}}\r\nreturn isSupported&&consoleWindowLoaded&&!consoleClosed;};}\r\nthis.getConsoleWindow=getConsoleWindow;};ConsoleAppender.addGlobalCommandLineFunction=function(functionName,commandLineFunction){defaultCommandLineFunctions.push([functionName,commandLineFunction]);};function PopUpAppender(lazyInit,initiallyMinimized,useDocumentWrite,width,height){this.create(false,null,lazyInit,initiallyMinimized,useDocumentWrite,width,height,this.defaults.focusPopUp);}\r\nPopUpAppender.prototype=new ConsoleAppender();PopUpAppender.prototype.defaults={layout:new PatternLayout(\"%d{HH:mm:ss} %-5p - %m{1}%n\"),initiallyMinimized:false,focusPopUp:false,lazyInit:true,useOldPopUp:true,complainAboutPopUpBlocking:true,newestMessageAtTop:false,scrollToLatestMessage:true,width:\"600\",height:\"400\",reopenWhenClosed:false,maxMessages:null,showCommandLine:true,commandLineObjectExpansionDepth:1,showHideButton:false,showCloseButton:true,showLogEntryDeleteButtons:true,useDocumentWrite:true};PopUpAppender.prototype.toString=function(){return\"PopUpAppender\";};log4javascript.PopUpAppender=PopUpAppender;function InPageAppender(container,lazyInit,initiallyMinimized,useDocumentWrite,width,height){this.create(true,container,lazyInit,initiallyMinimized,useDocumentWrite,width,height,false);}\r\nInPageAppender.prototype=new ConsoleAppender();InPageAppender.prototype.defaults={layout:new PatternLayout(\"%d{HH:mm:ss} %-5p - %m{1}%n\"),initiallyMinimized:false,lazyInit:true,newestMessageAtTop:false,scrollToLatestMessage:true,width:\"100%\",height:\"220px\",maxMessages:null,showCommandLine:true,commandLineObjectExpansionDepth:1,showHideButton:false,showCloseButton:false,showLogEntryDeleteButtons:true,useDocumentWrite:true};InPageAppender.prototype.toString=function(){return\"InPageAppender\";};log4javascript.InPageAppender=InPageAppender;log4javascript.InlineAppender=InPageAppender;})();function padWithSpaces(str,len){if(str.length<len){var spaces=[];var numberOfSpaces=Math.max(0,len-str.length);for(var i=0;i<numberOfSpaces;i++){spaces[i]=\" \";}\r\nstr+=spaces.join(\"\");}\r\nreturn str;}\r\n(function(){function dir(obj){var maxLen=0;for(var p in obj){maxLen=Math.max(toStr(p).length,maxLen);}\r\nvar propList=[];for(p in obj){var propNameStr=\"  \"+padWithSpaces(toStr(p),maxLen+2);var propVal;try{propVal=splitIntoLines(toStr(obj[p])).join(padWithSpaces(newLine,maxLen+6));}catch(ex){propVal=\"[Error obtaining property. Details: \"+getExceptionMessage(ex)+\"]\";}\r\npropList.push(propNameStr+propVal);}\r\nreturn propList.join(newLine);}\r\nvar nodeTypes={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var preFormattedElements=[\"script\",\"pre\"];var emptyElements=[\"br\",\"img\",\"hr\",\"param\",\"link\",\"area\",\"input\",\"col\",\"base\",\"meta\"];var indentationUnit=\"  \";function getXhtml(rootNode,includeRootNode,indentation,startNewLine,preformatted){includeRootNode=(typeof includeRootNode==\"undefined\")?true:!!includeRootNode;if(typeof indentation!=\"string\"){indentation=\"\";}\r\nstartNewLine=!!startNewLine;preformatted=!!preformatted;var xhtml;function isWhitespace(node){return((node.nodeType==nodeTypes.TEXT_NODE)&&/^[ \\t\\r\\n]*$/.test(node.nodeValue));}\r\nfunction fixAttributeValue(attrValue){return attrValue.toString().replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/\"/g,\"&quot;\");}\r\nfunction getStyleAttributeValue(el){var stylePairs=el.style.cssText.split(\";\");var styleValue=\"\";var isFirst=true;for(var j=0,len=stylePairs.length;j<len;j++){var nameValueBits=stylePairs[j].split(\":\");var props=[];if(!/^\\s*$/.test(nameValueBits[0])){props.push(trim(nameValueBits[0]).toLowerCase()+\":\"+trim(nameValueBits[1]));}\r\nstyleValue=props.join(\";\");}\r\nreturn styleValue;}\r\nfunction getNamespace(el){if(el.prefix){return el.prefix;}else if(el.outerHTML){var regex=new RegExp(\"<([^:]+):\"+el.tagName+\"[^>]*>\",\"i\");if(regex.test(el.outerHTML)){return RegExp.$1.toLowerCase();}}\r\nreturn\"\";}\r\nvar lt=\"<\";var gt=\">\";if(includeRootNode&&rootNode.nodeType!=nodeTypes.DOCUMENT_FRAGMENT_NODE){switch(rootNode.nodeType){case nodeTypes.ELEMENT_NODE:var tagName=rootNode.tagName.toLowerCase();xhtml=startNewLine?newLine+indentation:\"\";xhtml+=lt;var prefix=getNamespace(rootNode);var hasPrefix=!!prefix;if(hasPrefix){xhtml+=prefix+\":\";}\r\nxhtml+=tagName;for(i=0,len=rootNode.attributes.length;i<len;i++){var currentAttr=rootNode.attributes[i];if(!currentAttr.specified||currentAttr.nodeValue===null||currentAttr.nodeName.toLowerCase()===\"style\"||typeof currentAttr.nodeValue!==\"string\"||currentAttr.nodeName.indexOf(\"_moz\")===0){continue;}\r\nxhtml+=\" \"+currentAttr.nodeName.toLowerCase()+\"=\\\"\";xhtml+=fixAttributeValue(currentAttr.nodeValue);xhtml+=\"\\\"\";}\r\nif(rootNode.style.cssText){var styleValue=getStyleAttributeValue(rootNode);if(styleValue!==\"\"){xhtml+=\" style=\\\"\"+getStyleAttributeValue(rootNode)+\"\\\"\";}}\r\nif(array_contains(emptyElements,tagName)||(hasPrefix&&!rootNode.hasChildNodes())){xhtml+=\"/\"+gt;}else{xhtml+=gt;var childStartNewLine=!(rootNode.childNodes.length===1&&rootNode.childNodes[0].nodeType===nodeTypes.TEXT_NODE);var childPreformatted=array_contains(preFormattedElements,tagName);for(var i=0,len=rootNode.childNodes.length;i<len;i++){xhtml+=getXhtml(rootNode.childNodes[i],true,indentation+indentationUnit,childStartNewLine,childPreformatted);}\r\nvar endTag=lt+\"/\"+tagName+gt;xhtml+=childStartNewLine?newLine+indentation+endTag:endTag;}\r\nreturn xhtml;case nodeTypes.TEXT_NODE:if(isWhitespace(rootNode)){xhtml=\"\";}else{if(preformatted){xhtml=rootNode.nodeValue;}else{var lines=splitIntoLines(trim(rootNode.nodeValue));var trimmedLines=[];for(var i=0,len=lines.length;i<len;i++){trimmedLines[i]=trim(lines[i]);}\r\nxhtml=trimmedLines.join(newLine+indentation);}\r\nif(startNewLine){xhtml=newLine+indentation+xhtml;}}\r\nreturn xhtml;case nodeTypes.CDATA_SECTION_NODE:return\"<![CDA\"+\"TA[\"+rootNode.nodeValue+\"]\"+\"]>\"+newLine;case nodeTypes.DOCUMENT_NODE:xhtml=\"\";for(var i=0,len=rootNode.childNodes.length;i<len;i++){xhtml+=getXhtml(rootNode.childNodes[i],true,indentation);}\r\nreturn xhtml;default:return\"\";}}else{xhtml=\"\";for(var i=0,len=rootNode.childNodes.length;i<len;i++){xhtml+=getXhtml(rootNode.childNodes[i],true,indentation+indentationUnit);}\r\nreturn xhtml;}}\r\nfunction createCommandLineFunctions(){ConsoleAppender.addGlobalCommandLineFunction(\"$\",function(appender,args,returnValue){return document.getElementById(args[0]);});ConsoleAppender.addGlobalCommandLineFunction(\"dir\",function(appender,args,returnValue){var lines=[];for(var i=0,len=args.length;i<len;i++){lines[i]=dir(args[i]);}\r\nreturn lines.join(newLine+newLine);});ConsoleAppender.addGlobalCommandLineFunction(\"dirxml\",function(appender,args,returnValue){var lines=[];for(var i=0,len=args.length;i<len;i++){var win=appender.getCommandWindow();lines[i]=getXhtml(args[i]);}\r\nreturn lines.join(newLine+newLine);});ConsoleAppender.addGlobalCommandLineFunction(\"cd\",function(appender,args,returnValue){var win,message;if(args.length===0||args[0]===\"\"){win=window;message=\"Command line set to run in main window\";}else{if(args[0].window==args[0]){win=args[0];message=\"Command line set to run in frame '\"+args[0].name+\"'\";}else{win=window.frames[args[0]];if(win){message=\"Command line set to run in frame '\"+args[0]+\"'\";}else{returnValue.isError=true;message=\"Frame '\"+args[0]+\"' does not exist\";win=appender.getCommandWindow();}}}\r\nappender.setCommandWindow(win);return message;});ConsoleAppender.addGlobalCommandLineFunction(\"clear\",function(appender,args,returnValue){returnValue.appendResult=false;appender.clear();});ConsoleAppender.addGlobalCommandLineFunction(\"keys\",function(appender,args,returnValue){var keys=[];for(var k in args[0]){keys.push(k);}\r\nreturn keys;});ConsoleAppender.addGlobalCommandLineFunction(\"values\",function(appender,args,returnValue){var values=[];for(var k in args[0]){try{values.push(args[0][k]);}catch(ex){logLog.warn(\"values(): Unable to obtain value for key \"+k+\". Details: \"+getExceptionMessage(ex));}}\r\nreturn values;});ConsoleAppender.addGlobalCommandLineFunction(\"expansionDepth\",function(appender,args,returnValue){var expansionDepth=parseInt(args[0],10);if(isNaN(expansionDepth)||expansionDepth<0){returnValue.isError=true;return\"\"+args[0]+\" is not a valid expansion depth\";}else{appender.setCommandLineObjectExpansionDepth(expansionDepth);return\"Object expansion depth set to \"+expansionDepth;}});}\r\nfunction init(){createCommandLineFunctions();}\r\ninit();})();log4javascript.setDocumentReady=function(){pageLoaded=true;log4javascript.dispatchEvent(\"load\",{});};if(window.addEventListener){window.addEventListener(\"load\",log4javascript.setDocumentReady,false);}else if(window.attachEvent){window.attachEvent(\"onload\",log4javascript.setDocumentReady);}else{var oldOnload=window.onload;if(typeof window.onload!=\"function\"){window.onload=log4javascript.setDocumentReady;}else{window.onload=function(evt){if(oldOnload){oldOnload(evt);}\r\nlog4javascript.setDocumentReady();};}}\r\nwindow.log4javascript=log4javascript;return log4javascript;})();\r\n","/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license\n//@ sourceMappingURL=jquery-1.10.2.min.map\n*/\n(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f=\"1.10.2\",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r)},w=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,T=/\\S+/g,C=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,N=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,k=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,E=/^[\\],:{}\\s]*$/,S=/(?:^|:|,)(?:\\s*\\[)+/g,A=/\\\\(?:[\"\\\\\\/bfnrt]|u[\\da-fA-F]{4})/g,j=/\"[^\"\\\\\\r\\n]*\"|true|false|null|-?(?:\\d+\\.|)\\d+(?:[eE][+-]?\\d+|)/g,D=/^-ms-/,L=/-([\\da-z])/gi,H=function(e,t){return t.toUpperCase()},q=function(e){(a.addEventListener||\"load\"===e.type||\"complete\"===a.readyState)&&(_(),x.ready())},_=function(){a.addEventListener?(a.removeEventListener(\"DOMContentLoaded\",q,!1),e.removeEventListener(\"load\",q,!1)):(a.detachEvent(\"onreadystatechange\",q),e.detachEvent(\"onload\",q))};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;if(!e)return this;if(\"string\"==typeof e){if(i=\"<\"===e.charAt(0)&&\">\"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n))for(i in n)x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(e);this.length=1,this[0]=o}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:\"\",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for(\"boolean\"==typeof s&&(c=s,s=arguments[1]||{},l=2),\"object\"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r));return s},x.extend({expando:\"jQuery\"+(f+Math.random()).replace(/\\D/g,\"\"),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body)return setTimeout(x.ready);x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger(\"ready\").off(\"ready\"))}},isFunction:function(e){return\"function\"===x.type(e)},isArray:Array.isArray||function(e){return\"array\"===x.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+\"\":\"object\"==typeof e||\"function\"==typeof e?c[y.call(e)]||\"object\":typeof e},isPlainObject:function(e){var n;if(!e||\"object\"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!v.call(e,\"constructor\")&&!v.call(e.constructor.prototype,\"isPrototypeOf\"))return!1}catch(r){return!1}if(x.support.ownLast)for(n in e)return v.call(e,n);for(n in e);return n===t||v.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||\"string\"!=typeof e)return null;\"boolean\"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:\"string\"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,\"@\").replace(j,\"]\").replace(S,\"\")))?Function(\"return \"+n)():(x.error(\"Invalid JSON: \"+n),t)},parseXML:function(n){var r,i;if(!n||\"string\"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,\"text/xml\")):(r=new ActiveXObject(\"Microsoft.XMLDOM\"),r.async=\"false\",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName(\"parsererror\").length||x.error(\"Invalid XML: \"+n),r},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(D,\"ms-\").replace(L,H)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:b&&!b.call(\"\\ufeff\\u00a0\")?function(e){return null==e?\"\":b.call(e)}:function(e){return null==e?\"\":(e+\"\").replace(C,\"\")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,\"string\"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if(\"number\"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return d.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return\"string\"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):t},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if(\"object\"===x.type(r)){o=!0;for(l in r)x.access(e,n,l,r[l],!0,a,s)}else if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n)})),n))for(;u>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return o?e:c?n.call(e):u?n(e[0],r):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),x.ready.promise=function(t){if(!n)if(n=x.Deferred(),\"complete\"===a.readyState)setTimeout(x.ready);else if(a.addEventListener)a.addEventListener(\"DOMContentLoaded\",q,!1),e.addEventListener(\"load\",q,!1);else{a.attachEvent(\"onreadystatechange\",q),e.attachEvent(\"onload\",q);var r=!1;try{r=null==e.frameElement&&a.documentElement}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll(\"left\")}catch(e){return setTimeout(o,50)}_(),x.ready()}}()}return n.promise(t)},x.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(e,t){c[\"[object \"+t+\"]\"]=t.toLowerCase()});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:\"array\"===n||\"function\"!==n&&(0===t||\"number\"==typeof t&&t>0&&t-1 in e)}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b=\"sizzle\"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},B=\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",P=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",R=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",W=R.replace(\"w\",\"w#\"),$=\"\\\\[\"+P+\"*(\"+R+\")\"+P+\"*(?:([*^$|!~]?=)\"+P+\"*(?:(['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|(\"+W+\")|)|)\"+P+\"*\\\\]\",I=\":(\"+R+\")(?:\\\\(((['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+$.replace(3,8)+\")*)|.*)\\\\)|)\",z=RegExp(\"^\"+P+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+P+\"+$\",\"g\"),X=RegExp(\"^\"+P+\"*,\"+P+\"*\"),U=RegExp(\"^\"+P+\"*([>+~]|\"+P+\")\"+P+\"*\"),V=RegExp(P+\"*[+~]\"),Y=RegExp(\"=\"+P+\"*([^\\\\]'\\\"]*)\"+P+\"*\\\\]\",\"g\"),J=RegExp(I),G=RegExp(\"^\"+W+\"$\"),Q={ID:RegExp(\"^#(\"+R+\")\"),CLASS:RegExp(\"^\\\\.(\"+R+\")\"),TAG:RegExp(\"^(\"+R.replace(\"w\",\"w*\")+\")\"),ATTR:RegExp(\"^\"+$),PSEUDO:RegExp(\"^\"+I),CHILD:RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+P+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+P+\"*(?:([+-]|)\"+P+\"*(\\\\d+)|))\"+P+\"*\\\\)|)\",\"i\"),bool:RegExp(\"^(?:\"+B+\")$\",\"i\"),needsContext:RegExp(\"^\"+P+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+P+\"*((?:-\\\\d)?\\\\d*)\"+P+\"*\\\\)|)(?=[^-]|$)\",\"i\")},K=/^[^{]+\\{\\s*\\[native \\w/,Z=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\\d$/i,nt=/'|\\\\/g,rt=RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+P+\"?|(\"+P+\")|.)\",\"ig\"),it=function(e,t,n){var r=\"0x\"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||\"string\"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(h&&!i){if(o=Z.exec(e))if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s)return n.push(a),n}else{if(o[2])return M.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(s)),n}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&\"object\"!==t.nodeName.toLowerCase()){c=mt(e),(d=t.getAttribute(\"id\"))?m=d.replace(nt,\"\\\\$&\"):t.setAttribute(\"id\",m),m=\"[id='\"+m+\"'] \",u=c.length;while(u--)c[u]=m+yt(c[u]);y=V.test(e)&&t.parentNode||t,x=c.join(\",\")}if(x)try{return M.apply(n,y.querySelectorAll(x)),n}catch(T){}finally{d||t.removeAttribute(\"id\")}}}return kt(e.replace(z,\"$1\"),t,n,i)}function st(){var e=[];function t(n,r){return e.push(n+=\" \")>o.cacheLength&&delete t[e.shift()],t[n]=r}return t}function lt(e){return e[b]=!0,e}function ut(e){var t=f.createElement(\"div\");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ct(e,t){var n=e.split(\"|\"),r=e.length;while(r--)o.attrHandle[n[r]]=t}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return\"input\"===n&&t.type===e}}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return(\"input\"===n||\"button\"===n)&&t.type===e}}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?\"HTML\"!==t.nodeName:!1},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent(\"onbeforeunload\",function(){p()}),r.attributes=ut(function(e){return e.className=\"i\",!e.getAttribute(\"className\")}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment(\"\")),!e.getElementsByTagName(\"*\").length}),r.getElementsByClassName=ut(function(e){return e.innerHTML=\"<div class='a'></div><div class='a i'></div>\",e.firstChild.className=\"i\",2===e.getElementsByClassName(\"i\").length}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute(\"id\")===t}}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode(\"id\");return n&&n.value===t}}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if(\"*\"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML=\"<select><option selected=''></option></select>\",e.querySelectorAll(\"[selected]\").length||g.push(\"\\\\[\"+P+\"*(?:value|\"+B+\")\"),e.querySelectorAll(\":checked\").length||g.push(\":checked\")}),ut(function(e){var t=n.createElement(\"input\");t.setAttribute(\"type\",\"hidden\"),e.appendChild(t).setAttribute(\"t\",\"\"),e.querySelectorAll(\"[t^='']\").length&&g.push(\"[*^$]=\"+P+\"*(?:''|\\\"\\\")\"),e.querySelectorAll(\":enabled\").length||g.push(\":enabled\",\":disabled\"),e.querySelectorAll(\"*,:x\"),g.push(\",.*:\")})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,\"div\"),y.call(e,\"[s!='']:x\"),m.push(\"!=\",I)}),g=g.length&&RegExp(g.join(\"|\")),m=m.length&&RegExp(m.join(\"|\")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},A=d.compareDocumentPosition?function(e,t){if(e===t)return S=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return S=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;if(o===a)return pt(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},n):f},at.matches=function(e,t){return at(e,null,null,t)},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,\"='$1']\"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return at(t,f,null,[e]).length>0},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t)},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},at.error=function(e){throw Error(\"Syntax error, unrecognized expression: \"+e)},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++])t===e[o]&&(i=n.push(o));while(i--)e.splice(n[i],1)}return e},a=at.getText=function(e){var t,n=\"\",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=a(t);return n},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||\"\").replace(rt,it),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&at.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(\")\",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=N[e+\" \"];return t||(t=RegExp(\"(^|\"+P+\")\"+e+\"(\"+P+\"|$)\"))&&N(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute(\"class\")||\"\")})},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?\"!=\"===t:t?(i+=\"\",\"=\"===t?i===n:\"!=\"===t?i!==n:\"^=\"===t?n&&0===i.indexOf(n):\"*=\"===t?n&&i.indexOf(n)>-1:\"$=\"===t?n&&i.slice(-n.length)===n:\"~=\"===t?(\" \"+i+\" \").indexOf(n)>-1:\"|=\"===t?i===n||i.slice(0,n.length+1)===n+\"-\":!1):!0}},CHILD:function(e,t,n,r,i){var o=\"nth\"!==e.slice(0,3),a=\"last\"!==e.slice(-4),s=\"of-type\"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?\"nextSibling\":\"previousSibling\",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g=\"only\"===e&&!h&&\"nextSibling\"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];break}}else if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T)f=u[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error(\"unsupported pseudo: \"+e);return r[b]?r(t):r.length>1?(n=[e,e,\"\",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=F.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,\"$1\"));return r[b]?lt(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:lt(function(e){return function(t){return at(e,t).length>0}}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:lt(function(e){return G.test(e||\"\")||at.error(\"unsupported lang: \"+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute(\"xml:lang\")||t.getAttribute(\"lang\"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+\"-\");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>\"@\"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},o.pseudos.nth=o.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[n]=ft(n);for(n in{submit:!0,reset:!0})o.pseudos[n]=dt(n);function gt(){}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt;function mt(e,t){var n,r,i,a,s,l,u,c=k[e+\" \"];if(c)return t?0:c.slice(0);s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z,\" \")}),s=s.slice(n.length));for(a in o.filter)!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?at.error(e):k(e,l).slice(0)}function yt(e){var t=0,n=e.length,r=\"\";for(;n>t;t++)r+=e[t].value;return r}function vt(e,t,n){var r=t.dir,o=n&&\"parentNode\"===r,a=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var l,u,c,p=T+\" \"+a;if(s){while(t=t[r])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[r])if(1===t.nodeType||o)if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i)return l===!0}else if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0)return!0}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||\"*\",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=xt(y,d),r(u,[],s,l),c=u.length;while(c--)(p=u[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){u=[],c=y.length;while(c--)(p=y[c])&&u.push(m[c]=p);i(null,y=[],u,l)}c=y.length;while(c--)(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p))}}else y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y)})}function Tt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[\" \"],l=a?1:0,c=vt(function(e){return e===t},s,!0),p=vt(function(e){return F.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;i>l;l++)if(n=o.relative[e[l].type])f=[vt(bt(f),n)];else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++)if(o.relative[e[r].type])break;return wt(l>1&&bt(f),l>1&&yt(e.slice(0,l-1).concat({value:\" \"===e[l-2].type?\"*\":\"\"})).replace(z,\"$1\"),n,r>l&&Tt(e.slice(l,r)),i>r&&Tt(e=e.slice(r)),i>r&&yt(e))}f.push(n)}return bt(f)}function Ct(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b=\"0\",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG(\"*\",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||.1;for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,l,c)){p.push(h);break}w&&(T=k,i=++n)}r&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,r&&b!==v){g=0;while(m=t[g++])m(x,y,l,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=q.call(p));y=xt(y)}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p)}return w&&(T=k,u=C),x};return r?lt(s):s}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+\" \"];if(!o){t||(t=mt(e)),n=t.length;while(n--)o=Tt(t[n]),o[b]?r.push(o):i.push(o);o=E(e,Ct(i,r))}return o};function Nt(e,t,n){var r=0,i=t.length;for(;i>r;r++)at(e,t[r],n);return n}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&\"ID\"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type])break;if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&yt(s),!e)return M.apply(n,i),n;break}}}return l(e,f)(i,t,!h,n,V.test(e)),n}r.sortStable=b.split(\"\").sort(A).join(\"\")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement(\"div\"))}),ut(function(e){return e.innerHTML=\"<a href='#'></a>\",\"#\"===e.firstChild.getAttribute(\"href\")})||ct(\"type|href|height|width\",function(e,n,r){return r?t:e.getAttribute(n,\"type\"===n.toLowerCase()?1:2)}),r.attributes&&ut(function(e){return e.innerHTML=\"<input/>\",e.firstChild.setAttribute(\"value\",\"\"),\"\"===e.firstChild.getAttribute(\"value\")})||ct(\"value\",function(e,n,r){return r||\"input\"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ut(function(e){return null==e.getAttribute(\"disabled\")})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null}),x.find=at,x.expr=at.selectors,x.expr[\":\"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e=\"string\"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);\"function\"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&\"string\"!==r&&i(n)})})(arguments),n?o=l.length:r&&(s=t,c(r))}return this},remove:function(){return l&&x.each(arguments,function(e,t){var r;while((r=x.inArray(t,l,r))>-1)l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=r=t,this},disabled:function(){return!l},lock:function(){return u=t,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},x.extend({Deferred:function(e){var t=[[\"resolve\",\"done\",x.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",x.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",x.Callbacks(\"memory\")]],n=\"pending\",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+\"With\"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+\"With\"](this===i?r:this,arguments),this},i[o[0]+\"With\"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=Array(r),l=Array(r),u=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement(\"div\");if(d.setAttribute(\"className\",\"t\"),d.innerHTML=\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\",n=d.getElementsByTagName(\"*\")||[],r=d.getElementsByTagName(\"a\")[0],!r||!r.style||!n.length)return t;s=a.createElement(\"select\"),u=s.appendChild(a.createElement(\"option\")),o=d.getElementsByTagName(\"input\")[0],r.style.cssText=\"top:1px;float:left;opacity:.5\",t.getSetAttribute=\"t\"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName(\"tbody\").length,t.htmlSerialize=!!d.getElementsByTagName(\"link\").length,t.style=/top/.test(r.getAttribute(\"style\")),t.hrefNormalized=\"/a\"===r.getAttribute(\"href\"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement(\"form\").enctype,t.html5Clone=\"<:nav></:nav>\"!==a.createElement(\"nav\").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=a.createElement(\"input\"),o.setAttribute(\"value\",\"\"),t.input=\"\"===o.getAttribute(\"value\"),o.value=\"t\",o.setAttribute(\"type\",\"radio\"),t.radioValue=\"t\"===o.value,o.setAttribute(\"checked\",\"t\"),o.setAttribute(\"name\",\"t\"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent(\"onclick\",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c=\"on\"+f,\"t\"),t[f+\"Bubbles\"]=c in e||d.attributes[c].expando===!1;d.style.backgroundClip=\"content-box\",d.cloneNode(!0).style.backgroundClip=\"\",t.clearCloneStyle=\"content-box\"===d.style.backgroundClip;for(f in x(t))break;return t.ownLast=\"0\"!==f,x(function(){var n,r,o,s=\"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;\",l=a.getElementsByTagName(\"body\")[0];l&&(n=a.createElement(\"div\"),n.style.cssText=\"border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px\",l.appendChild(n).appendChild(d),d.innerHTML=\"<table><tr><td></td><td>t</td></tr></table>\",o=d.getElementsByTagName(\"td\"),o[0].style.cssText=\"padding:0;margin:0;border:0;display:none\",p=0===o[0].offsetHeight,o[0].style.display=\"\",o[1].style.display=\"none\",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML=\"\",d.style.cssText=\"box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;\",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition=\"1%\"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable=\"4px\"===(e.getComputedStyle(d,null)||{width:\"4px\"}).width,r=d.appendChild(a.createElement(\"div\")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width=\"0\",d.style.width=\"1px\",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML=\"\",d.style.cssText=s+\"width:1px;padding:1px;display:inline;zoom:1\",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display=\"block\",d.innerHTML=\"<div></div>\",d.firstChild.style.width=\"5px\",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null)}),n=s=l=u=r=o=null,t\n}({});var B=/(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||\"string\"!=typeof n)return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),(\"object\"==typeof n||\"function\"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),\"string\"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(\" \")),i=t.length;while(i--)delete r[t[i]];if(n?!I(r):!x.isEmptyObject(r))return}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e)},data:function(e,t,n){return R(e,t,n)},removeData:function(e,t){return W(e,t)},_data:function(e,t,n){return R(e,t,n,!0)},_removeData:function(e,t){return W(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute(\"classid\")===t}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,\"parsedAttrs\"))){for(r=s.attributes;r.length>a;a++)i=r[a].name,0===i.indexOf(\"data-\")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]));x._data(s,\"parsedAttrs\",!0)}return o}return\"object\"==typeof e?this.each(function(){x.data(this,e)}):arguments.length>1?this.each(function(){x.data(this,e,n)}):s?$(s,e,x.data(s,e)):null},removeData:function(e){return this.each(function(){x.removeData(this,e)})}});function $(e,n,r){if(r===t&&1===e.nodeType){var i=\"data-\"+n.replace(P,\"-$1\").toLowerCase();if(r=e.getAttribute(i),\"string\"==typeof r){try{r=\"true\"===r?!0:\"false\"===r?!1:\"null\"===r?null:+r+\"\"===r?+r:B.test(r)?x.parseJSON(r):r}catch(o){}x.data(e,n,r)}else r=t}return r}function I(e){var t;for(t in e)if((\"data\"!==t||!x.isEmptyObject(e[t]))&&\"toJSON\"!==t)return!1;return!0}x.extend({queue:function(e,n,r){var i;return e?(n=(n||\"fx\")+\"queue\",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||\"fx\";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t)};\"inprogress\"===i&&(i=n.shift(),r--),i&&(\"fx\"===t&&n.unshift(\"inprogress\"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks(\"once memory\").add(function(){x._removeData(e,t+\"queue\"),x._removeData(e,n)})})}}),x.fn.extend({queue:function(e,n){var r=2;return\"string\"!=typeof e&&(n=e,e=\"fx\",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);x._queueHooks(this,e),\"fx\"===e&&\"inprogress\"!==t[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||\"fx\",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a])};\"string\"!=typeof e&&(n=e,e=t),e=e||\"fx\";while(s--)r=x._data(a[s],e+\"queueHooks\"),r&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var z,X,U=/[\\t\\r\\n\\f]/g,V=/\\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=\"string\"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||\"\").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(\" \"+n.className+\" \").replace(U,\" \"):\" \")){o=0;while(i=t[o++])0>r.indexOf(\" \"+i+\" \")&&(r+=i+\" \");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||\"string\"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||\"\").match(T)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(\" \"+n.className+\" \").replace(U,\" \"):\"\")){o=0;while(i=t[o++])while(r.indexOf(\" \"+i+\" \")>=0)r=r.replace(\" \"+i+\" \",\" \");n.className=e?x.trim(r):\"\"}return this},toggleClass:function(e,t){var n=typeof e;return\"boolean\"==typeof t&&\"string\"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(\"string\"===n){var t,r=0,o=x(this),a=e.match(T)||[];while(t=a[r++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else(n===i||\"boolean\"===n)&&(this.className&&x._data(this,\"__className__\",this.className),this.className=this.className||e===!1?\"\":x._data(this,\"__className__\")||\"\")})},hasClass:function(e){var t=\" \"+e+\" \",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(\" \"+this[n].className+\" \").replace(U,\" \").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o=\"\":\"number\"==typeof o?o+=\"\":x.isArray(o)&&(o=x.map(o,function(e){return null==e?\"\":e+\"\"})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&\"set\"in r&&r.set(this,o,\"value\")!==t||(this.value=o))});if(o)return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&\"get\"in r&&(n=r.get(o,\"value\"))!==t?n:(n=o.value,\"string\"==typeof n?n.replace(V,\"\"):null==n?\"\":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,\"value\");return null!=t?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o=\"select-one\"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute(\"disabled\"))||n.parentNode.disabled&&x.nodeName(n.parentNode,\"optgroup\"))){if(t=x(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--)r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&\"get\"in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&\"set\"in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+\"\"),r):(x.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase(\"default-\"+n)]=e[r]=!1:x.attr(e,n,\"\"),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&\"radio\"===t&&x.nodeName(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}}},propFix:{\"for\":\"htmlFor\",\"class\":\"className\"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&\"set\"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&\"get\"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,\"tabindex\");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase(\"default-\"+n)]=e[n]=!0,n}},x.each(x.expr.match.bool.source.match(/\\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a}:function(e,n,r){return r?t:e[x.camelCase(\"default-\"+n)]?n.toLowerCase():null}}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,\"input\")?(e.defaultValue=n,t):z&&z.set(e,n,r)}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+=\"\",\"value\"===r||n===e.getAttribute(r)?n:t}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&\"\"!==i.value?i.value:null},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,\"\"===t?!1:t,n)}},x.each([\"width\",\"height\"],function(e,n){x.attrHooks[n]={set:function(e,r){return\"\"===r?(e.setAttribute(n,\"auto\"),r):t}}})),x.support.hrefNormalized||x.each([\"href\",\"src\"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+\"\"}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),x.each([\"tabIndex\",\"readOnly\",\"maxLength\",\"cellSpacing\",\"cellPadding\",\"rowSpan\",\"colSpan\",\"useMap\",\"frameBorder\",\"contentEditable\"],function(){x.propFix[this.toLowerCase()]=this}),x.support.enctype||(x.propFix.enctype=\"encoding\"),x.each([\"radio\",\"checkbox\"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute(\"value\")?\"on\":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\\.(.+)|)$/;function it(){return!0}function ot(){return!1}function at(){try{return a.activeElement}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||\"\").match(T)||[\"\"],u=n.length;while(u--)s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||\"\").split(\".\").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(\".\")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent(\"on\"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||\"\").match(T)||[\"\"],u=t.length;while(u--)if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||\"\").split(\".\").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp(\"(^|\\\\.)\"+h.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"),l=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&(\"**\"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)x.event.remove(e,d+t[u],n,r,!0);x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,\"events\"))}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,\"type\")?n.type:n,m=v.call(n,\"namespace\")?n.namespace.split(\".\"):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(\".\")>=0&&(m=g.split(\".\"),g=m.shift(),m.sort()),l=0>g.indexOf(\":\")&&\"on\"+g,n=n[x.expando]?n:new x.Event(g,\"object\"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join(\".\"),n.namespace_re=n.namespace?RegExp(\"(^|\\\\.)\"+m.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),f=u;f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(x._data(u,\"events\")||{})[n.type]&&x._data(u,\"handle\"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault();if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]()}catch(y){}x.event.triggered=t,f&&(i[l]=f)}return n.result}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,\"events\")||{})[e.type]||[],c=x.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||\"click\"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||\"click\"!==e.type)){for(o=[],a=0;l>a;a++)i=n[a],r=i.selector+\" \",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;while(t--)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:\"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:\"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:\"focusin\"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t},delegateType:\"focusout\"},click:{trigger:function(){return x.nodeName(this,\"input\")&&\"checkbox\"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return x.nodeName(e.target,\"a\")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r=\"on\"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n)},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},x.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,\"form\")?!1:(x.event.add(this,\"click._submit keypress._submit\",function(e){var n=e.target,r=x.nodeName(n,\"input\")||x.nodeName(n,\"button\")?n.form:t;r&&!x._data(r,\"submitBubbles\")&&(x.event.add(r,\"submit._submit\",function(e){e._submit_bubble=!0}),x._data(r,\"submitBubbles\",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate(\"submit\",this.parentNode,e,!0))},teardown:function(){return x.nodeName(this,\"form\")?!1:(x.event.remove(this,\"._submit\"),t)}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?((\"checkbox\"===this.type||\"radio\"===this.type)&&(x.event.add(this,\"propertychange._change\",function(e){\"checked\"===e.originalEvent.propertyName&&(this._just_changed=!0)}),x.event.add(this,\"click._change\",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate(\"change\",this,e,!0)})),!1):(x.event.add(this,\"beforeactivate._change\",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,\"changeBubbles\")&&(x.event.add(t,\"change._change\",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate(\"change\",this.parentNode,e,!0)}),x._data(t,\"changeBubbles\",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||\"radio\"!==n.type&&\"checkbox\"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return x.event.remove(this,\"._change\"),!Z.test(this.nodeName)}}),x.support.focusinBubbles||x.each({focus:\"focusin\",blur:\"focusout\"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0)},teardown:function(){0===--n&&a.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if(\"object\"==typeof e){\"string\"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&(\"string\"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(\"object\"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||\"function\"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?x.event.trigger(e,n,r,!0):t}});var st=/^.[^:#\\[\\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if(\"string\"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+\" \"+e:e,n},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(x.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e||[],!0))},filter:function(e){return this.pushStack(ft(this,e||[],!1))},is:function(e){return!!ft(this,\"string\"==typeof e&&ut.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||\"string\"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?\"string\"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=\"string\"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,\"parentNode\")},parentsUntil:function(e,t,n){return x.dir(e,\"parentNode\",n)},next:function(e){return pt(e,\"nextSibling\")},prev:function(e){return pt(e,\"previousSibling\")},nextAll:function(e){return x.dir(e,\"nextSibling\")},prevAll:function(e){return x.dir(e,\"previousSibling\")},nextUntil:function(e,t,n){return x.dir(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return x.dir(e,\"previousSibling\",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return x.nodeName(e,\"iframe\")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return\"Until\"!==e.slice(-5)&&(r=n),r&&\"string\"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=\":not(\"+e+\")\"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if(\"string\"==typeof t){if(st.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n})}function dt(e){var t=ht.split(\"|\"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht=\"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",gt=/ jQuery\\d+=\"(?:null|\\d+)\"/g,mt=RegExp(\"<(?:\"+ht+\")[\\\\s/>]\",\"i\"),yt=/^\\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,bt=/<([\\w:]+)/,xt=/<tbody/i,wt=/<|&#?\\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\\s*(?:[^=]|=\\s*.checked.)/i,kt=/^$|\\/(?:java|ecma)script/i,Et=/^true\\/(.*)/,St=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,At={option:[1,\"<select multiple='multiple'>\",\"</select>\"],legend:[1,\"<fieldset>\",\"</fieldset>\"],area:[1,\"<map>\",\"</map>\"],param:[1,\"<object>\",\"</object>\"],thead:[1,\"<table>\",\"</table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],col:[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],_default:x.support.htmlSerialize?[0,\"\",\"\"]:[1,\"X<div>\",\"</div>\"]},jt=dt(a),Dt=jt.appendChild(a.createElement(\"div\"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,\"script\")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&x.nodeName(e,\"select\")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,\"\"):t;if(!(\"string\"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||[\"\",\"\"])[1].toLowerCase()])){e=e.replace(vt,\"<$1></$2>\");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||\"string\"!=typeof h||x.support.checkClone)&&Nt.test(h))return this.each(function(r){var i=p.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,\"script\"),Ht),o=a.length;c>u;u++)i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,\"script\"))),t.call(this[u],i,u);if(o)for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;o>u;u++)i=a[u],kt.test(i.type||\"\")&&!x._data(i,\"globalEval\")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||\"\").replace(St,\"\")));l=r=null}return this}});function Lt(e,t){return x.nodeName(e,\"table\")&&x.nodeName(1===t.nodeType?t:t.firstChild,\"tr\")?e.getElementsByTagName(\"tbody\")[0]||e.appendChild(e.ownerDocument.createElement(\"tbody\")):e}function Ht(e){return e.type=(null!==x.find.attr(e,\"type\"))+\"/\"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute(\"type\"),e}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++)x._data(n,\"globalEval\",!t||x._data(t[r],\"globalEval\"))}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)x.event.add(t,n,s[n][r])}a.data&&(a.data=x.extend({},a.data))}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events)x.removeEvent(t,r,i.handle);t.removeAttribute(x.expando)}\"script\"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):\"object\"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):\"input\"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):\"option\"===n?t.defaultSelected=t.selected=e.defaultSelected:(\"input\"===n||\"textarea\"===n)&&(t.defaultValue=e.defaultValue)}}x.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());return this.pushStack(i)}});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||\"*\"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||\"*\"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked)}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test(\"<\"+e.nodeName+\">\")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(r=Ft(o),s=Ft(e),a=0;null!=(i=s[a]);++a)r[a]&&Ot(i,r[a]);if(t)if(n)for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++)Mt(i,r[a]);else Mt(e,o);return r=Ft(o,\"script\"),r.length>0&&_t(r,!l&&Ft(e,\"script\")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if(\"object\"===x.type(o))x.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement(\"div\")),l=(bt.exec(o)||[\"\",\"\"])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,\"<$1></$2>\")+c[2],i=c[0];while(i--)s=s.lastChild;if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o=\"table\"!==l||xt.test(o)?\"<table>\"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)x.nodeName(u=o.childNodes[i],\"tbody\")&&!u.childNodes.length&&o.removeChild(u)}x.merge(d,s.childNodes),s.textContent=\"\";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,\"input\"),Bt),h=0;while(o=d[h++])if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),\"script\"),a&&_t(s),n)){i=0;while(o=s[i++])kt.test(o.type||\"\")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;for(;null!=(n=e[s]);s++)if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events)for(r in a.events)f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);\nu[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o))}},_evalUrl:function(e){return x.ajax({url:e,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0})}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e))return this.each(function(t){x(this).wrapAll(e.call(this,t))});if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,\"body\")||x(this).replaceWith(this.childNodes)}).end()}});var Pt,Rt,Wt,$t=/alpha\\([^)]*\\)/i,It=/opacity\\s*=\\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp(\"^(\"+w+\")(.*)$\",\"i\"),Yt=RegExp(\"^(\"+w+\")(?!px)[a-z%]+$\",\"i\"),Jt=RegExp(\"^([+-])=(\"+w+\")\",\"i\"),Gt={BODY:\"block\"},Qt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Kt={letterSpacing:0,fontWeight:400},Zt=[\"Top\",\"Right\",\"Bottom\",\"Left\"],en=[\"Webkit\",\"O\",\"Moz\",\"ms\"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,\"none\"===x.css(e,\"display\")||!x.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=x._data(r,\"olddisplay\"),n=r.style.display,t?(o[a]||\"none\"!==n||(r.style.display=\"\"),\"\"===r.style.display&&nn(r)&&(o[a]=x._data(r,\"olddisplay\",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&\"none\"!==n||!i)&&x._data(r,\"olddisplay\",i?n:x.css(r,\"display\"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&\"none\"!==r.style.display&&\"\"!==r.style.display||(r.style.display=t?o[a]||\"\":\"none\"));return e}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=x.css(e,n[s],!1,o);return a}return r!==t?x.style(e,n,r):x.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){return\"boolean\"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,\"opacity\");return\"\"===n?\"1\":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":x.support.cssFloat?\"cssFloat\":\"styleFloat\"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t)return s&&\"get\"in s&&(o=s.get(e,!1,i))!==t?o:u[n];if(a=typeof r,\"string\"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a=\"number\"),!(null==r||\"number\"===a&&isNaN(r)||(\"number\"!==a||x.cssNumber[l]||(r+=\"px\"),x.support.clearCloneStyle||\"\"!==r||0!==n.indexOf(\"background\")||(u[n]=\"inherit\"),s&&\"set\"in s&&(r=s.set(e,r,i))===t)))try{u[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&\"get\"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),\"normal\"===a&&n in Kt&&(a=Kt[n]),\"\"===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(\"\"!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left=\"fontSize\"===n?\"1em\":l,l=u.pixelLeft+\"px\",u.left=i,a&&(o.left=a)),\"\"===l?\"auto\":l});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||\"px\"):t}function an(e,t,n,r,i){var o=n===(r?\"border\":\"content\")?4:\"width\"===t?1:0,a=0;for(;4>o;o+=2)\"margin\"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?(\"content\"===n&&(a-=x.css(e,\"padding\"+Zt[o],!0,i)),\"margin\"!==n&&(a-=x.css(e,\"border\"+Zt[o]+\"Width\",!0,i))):(a+=x.css(e,\"padding\"+Zt[o],!0,i),\"padding\"!==n&&(a+=x.css(e,\"border\"+Zt[o]+\"Width\",!0,i)));return a}function sn(e,t,n){var r=!0,i=\"width\"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&\"border-box\"===x.css(e,\"boxSizing\",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?\"border\":\"content\"),r,o)+\"px\"}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),\"none\"!==n&&n||(Pt=(Pt||x(\"<iframe frameborder='0' width='0' height='0'/>\").css(\"cssText\",\"display:block !important\")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write(\"<!doctype html><html><body>\"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],\"display\");return n.remove(),r}x.each([\"height\",\"width\"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,\"display\"))?x.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,x.support.boxSizing&&\"border-box\"===x.css(e,\"boxSizing\",!1,i),i):0)}}}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||\"\")?.01*parseFloat(RegExp.$1)+\"\":t?\"1\":\"\"},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?\"alpha(opacity=\"+100*t+\")\":\"\",o=r&&r.filter||n.filter||\"\";n.zoom=1,(t>=1||\"\"===t)&&\"\"===x.trim(o.replace($t,\"\"))&&n.removeAttribute&&(n.removeAttribute(\"filter\"),\"\"===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+\" \"+i)}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:\"inline-block\"},Wt,[e,\"marginRight\"]):t}}),!x.support.pixelPosition&&x.fn.position&&x.each([\"top\",\"left\"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+\"px\":r):t}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&\"none\"===(e.style&&e.style.display||x.css(e,\"display\"))},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:\"\",padding:\"\",border:\"Width\"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o=\"string\"==typeof n?n.split(\" \"):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(x.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\\[\\]$/,fn=/\\r?\\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,\"elements\");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(\":disabled\")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,\"\\r\\n\")}}):{name:t.name,value:n.replace(fn,\"\\r\\n\")}}).get()}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?\"\":t,i[i.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(t)};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join(\"&\").replace(cn,\"+\")};function gn(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+\"[\"+(\"object\"==typeof i?t:\"\")+\"]\",i,n,r)});else if(n||\"object\"!==x.type(t))r(e,t);else for(i in t)gn(e+\"[\"+i+\"]\",t[i],n,r)}x.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\"**\"):this.off(t,e||\"**\",n)}});var mn,yn,vn=x.now(),bn=/\\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\\/\\//,En=/^([\\w.+-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn=\"*/\".concat(\"*\");try{yn=o.href}catch(Ln){yn=a.createElement(\"a\"),yn.href=\"\",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){\"string\"!=typeof t&&(n=t,t=\"*\");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n))while(r=o[i++])\"+\"===r[0]?(r=r.slice(1)||\"*\",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return\"string\"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1)}),u}return s(n.dataTypes[0])||!o[\"*\"]&&s(\"*\")}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,n,r){if(\"string\"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,l=e.indexOf(\" \");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&\"object\"==typeof n&&(a=\"POST\"),s.length>0&&x.ajax({url:e,type:a,dataType:\"html\",data:n}).done(function(e){o=arguments,s.html(i?x(\"<div>\").append(x.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},x.each([\"ajaxStart\",\"ajaxStop\",\"ajaxComplete\",\"ajaxError\",\"ajaxSuccess\",\"ajaxSend\"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:\"GET\",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",accepts:{\"*\":Dn,text:\"text/plain\",html:\"text/html\",xml:\"application/xml, text/xml\",json:\"application/json, text/javascript\"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\",json:\"responseJSON\"},converters:{\"* text\":String,\"text html\":!0,\"text json\":x.parseJSON,\"text xml\":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){\"object\"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks(\"once memory\"),m=p.statusCode||{},y={},v={},b=0,w=\"canceled\",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+\"\").replace(xn,\"\").replace(kn,mn[1]+\"//\"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||\"*\").toLowerCase().match(T)||[\"\"],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||(\"http:\"===r[1]?\"80\":\"443\"))===(mn[3]||(\"http:\"===mn[1]?\"80\":\"443\")))),p.data&&p.processData&&\"string\"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b)return C;l=p.global,l&&0===x.active++&&x.event.trigger(\"ajaxStart\"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?\"&\":\"?\")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,\"$1_=\"+vn++):o+(bn.test(o)?\"&\":\"?\")+\"_=\"+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader(\"If-Modified-Since\",x.lastModified[o]),x.etag[o]&&C.setRequestHeader(\"If-None-Match\",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader(\"Content-Type\",p.contentType),C.setRequestHeader(\"Accept\",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+(\"*\"!==p.dataTypes[0]?\", \"+Dn+\"; q=0.01\":\"\"):p.accepts[\"*\"]);for(i in p.headers)C.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b))return C.abort();w=\"abort\";for(i in{success:1,error:1,complete:1})C[i](p[i]);if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger(\"ajaxSend\",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort(\"timeout\")},p.timeout));try{b=1,u.send(y,k)}catch(N){if(!(2>b))throw N;k(-1,N)}}else k(-1,\"No Transport\");function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||\"\",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader(\"Last-Modified\"),T&&(x.lastModified[o]=T),T=C.getResponseHeader(\"etag\"),T&&(x.etag[o]=T)),204===e||\"HEAD\"===p.type?N=\"nocontent\":304===e?N=\"notmodified\":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N=\"error\",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+\"\",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?\"ajaxSuccess\":\"ajaxError\",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger(\"ajaxComplete\",[C,p]),--x.active||x.event.trigger(\"ajaxStop\")))}return C},getJSON:function(e,t,n){return x.get(e,t,n,\"json\")},getScript:function(e,n){return x.get(e,t,n,\"script\")}}),x.each([\"get\",\"post\"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i})}});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;while(\"*\"===u[0])u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader(\"Content-Type\"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in r)a=u[0];else{for(s in r){if(!u[0]||e.converters[s+\" \"+u[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==u[0]&&u.unshift(a),r[a]):t}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if(\"*\"===o)o=l;else if(\"*\"!==l&&l!==o){if(a=u[l+\" \"+o]||u[\"* \"+o],!a)for(i in u)if(s=i.split(\" \"),s[1]===o&&(a=u[l+\" \"+s[0]]||u[\"* \"+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e[\"throws\"])t=a(t);else try{t=a(t)}catch(p){return{state:\"parsererror\",error:a?p:\"No conversion from \"+l+\" to \"+o}}}return{state:\"success\",data:t}}x.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/(?:java|ecma)script/},converters:{\"text script\":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter(\"script\",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\",e.global=!1)}),x.ajaxTransport(\"script\",function(e){if(e.crossDomain){var n,r=a.head||x(\"head\")[0]||a.documentElement;return{send:function(t,i){n=a.createElement(\"script\"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,\"success\"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Fn=[],Bn=/(=)\\?(?=&|$)|\\?\\?/;x.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=Fn.pop()||x.expando+\"_\"+vn++;return this[e]=!0,e}}),x.ajaxPrefilter(\"json jsonp\",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?\"url\":\"string\"==typeof n.data&&!(n.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Bn.test(n.data)&&\"data\");return l||\"jsonp\"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,\"$1\"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?\"&\":\"?\")+n.jsonp+\"=\"+o),n.converters[\"script json\"]=function(){return s||x.error(o+\" was not called\"),s[0]},n.dataTypes[0]=\"json\",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t}),\"script\"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject(\"Microsoft.XMLHTTP\")}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&\"withCredentials\"in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i[\"X-Requested-With\"]||(i[\"X-Requested-With\"]=\"XMLHttpRequest\");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState))if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i)4!==l.readyState&&l.abort();else{p={},s=l.status,u=l.getAllResponseHeaders(),\"string\"==typeof l.responseText&&(p.text=l.responseText);try{c=l.statusText}catch(f){c=\"\"}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,u)},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp(\"^(?:([+-])=|)(\"+w+\")([a-z%]*)$\",\"i\"),Jn=/queueHooks$/,Gn=[nr],Qn={\"*\":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?\"\":\"px\"),a=(x.cssNumber[e]||\"px\"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||\".5\",a/=s,x.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=x.now()}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn[\"*\"]),o=0,a=i.length;for(;a>o;o++)if(r=i[o].call(n,t,e))return r}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++)if(r=Gn[o].call(u,e,c,u.opts))return r;return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function tr(e,t){var n,r,i,o,a;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&\"expand\"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=[\"*\"]):e=e.split(\" \");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,\"fxshow\");n.queue||(s=x._queueHooks(e,\"fx\"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,\"fx\").length||s.empty.fire()})})),1===e.nodeType&&(\"height\"in t||\"width\"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],\"inline\"===x.css(e,\"display\")&&\"none\"===x.css(e,\"float\")&&(x.support.inlineBlockNeedsLayout&&\"inline\"!==ln(e.nodeName)?p.zoom=1:p.display=\"inline-block\")),n.overflow&&(p.overflow=\"hidden\",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||\"toggle\"===i,i===(f?\"hide\":\"show\"))continue;c[r]=d&&d[r]||x.style(e,r)}if(!x.isEmptyObject(c)){d?\"hidden\"in d&&(f=d.hidden):d=x._data(e,\"fxshow\",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide()}),u.done(function(){var t;x._removeData(e,\"fxshow\");for(t in c)x.style(e,t,c[t])});for(r in c)a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start=\"width\"===r||\"height\"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||\"swing\",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?\"\":\"px\")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,\"\"),t&&\"auto\"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each([\"toggle\",\"show\",\"hide\"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||\"boolean\"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css(\"opacity\",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,\"finish\"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return\"string\"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||\"fx\",[]),this.each(function(){var t=!0,n=null!=e&&e+\"queueHooks\",o=x.timers,a=x._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||\"fx\"),this.each(function(){var t,n=x._data(this),r=n[e+\"queue\"],i=n[e+\"queueHooks\"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r[\"margin\"+n]=r[\"padding\"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:ir(\"show\"),slideUp:ir(\"hide\"),slideToggle:ir(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&\"object\"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:\"number\"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue=\"fx\"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||x.fx.stop(),Xn=t},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(Un),Un=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},x.offset={setOffset:function(e,t,n){var r=x.css(e,\"position\");\"static\"===r&&(e.style.position=\"relative\");var i=x(e),o=i.offset(),a=x.css(e,\"top\"),s=x.css(e,\"left\"),l=(\"absolute\"===r||\"fixed\"===r)&&x.inArray(\"auto\",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),\"using\"in t?t.using.call(e,u):i.css(u)}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return\"fixed\"===x.css(r,\"position\")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],\"html\")||(n=e.offset()),n.top+=x.css(e[0],\"borderTopWidth\",!0),n.left+=x.css(e[0],\"borderLeftWidth\",!0)),{top:t.top-n.top-x.css(r,\"marginTop\",!0),left:t.left-n.left-x.css(r,\"marginLeft\",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,\"html\")&&\"static\"===x.css(e,\"position\"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}x.each({Height:\"height\",Width:\"width\"},function(e,n){x.each({padding:\"inner\"+e,content:n,\"\":\"outer\"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||\"boolean\"!=typeof i),s=r||(i===!0||o===!0?\"margin\":\"border\");return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement[\"client\"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body[\"scroll\"+e],o[\"scroll\"+e],n.body[\"offset\"+e],o[\"offset\"+e],o[\"client\"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s)},n,a?i:t,a,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,\"object\"==typeof module&&module&&\"object\"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,\"function\"==typeof define&&define.amd&&define(\"jquery\",[],function(){return x}))})(window);\n","$(document).on(\"mobileinit\", function () {\n  $.mobile.ajaxEnabled = false;\n  $.mobile.hashListeningEnabled = false;\n  //$.mobile.pushStateEnabled = false;\n  \n  // delegating all the events to chaplin \n  //$.mobile.linkBindingEnabled = false; // caused conflicts with jqm popups and other widgets relayed to #tags so OFF for now\n  $.mobile.changePage.defaults.changeHash = false;\n\n  $.mobile.defaultDialogTransition = \"none\";\n  $.mobile.defaultPageTransition = \"slidedown\";\n  $.mobile.page.prototype.options.degradeInputs.date = true;\n  $.mobile.page.prototype.options.domCache = false;\n  $.mobile.autoInitializePage = false;\n\n  //enable flag to disable rendering\n  $.mobile.ignoreContentEnabled=true;\n  // enable loading page+icon\n  //$.mobile.loader.prototype.options.text = \"loading\";\n  //$.mobile.loader.prototype.options.textVisible = false;\n  //$.mobile.loader.prototype.options.theme = \"a\";\n  //$.mobile.loader.prototype.options.html = \"\";\n});\n","/*!\n* jQuery Mobile 1.4.0-rc.1\n* Git HEAD hash: 4b6462bccfe0e4fc3337bd24f17c76c6b5cb0e62 <> Date: Thu Oct 24 2013 20:08:54 UTC\n* http://jquerymobile.com\n*\n* Copyright 2010, 2013 jQuery Foundation, Inc. and other contributors\n* Released under the MIT license.\n* http://jquery.org/license\n*\n*/\n\n\n(function ( root, doc, factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\" ], function ( $ ) {\n\t\t\tfactory( $, root, doc );\n\t\t\treturn $.mobile;\n\t\t});\n\t} else {\n\t\t// Browser globals\n\t\tfactory( root.jQuery, root, doc );\n\t}\n}( this, document, function ( jQuery, window, document, undefined ) {\n(function( $ ) {\n\t$.mobile = {};\n}( jQuery ));\n\n(function( $, window, undefined ) {\n\t$.extend( $.mobile, {\n\n\t\t// Version of the jQuery Mobile Framework\n\t\tversion: \"1.4.0-rc.1\",\n\n\t\t// Deprecated and no longer used in 1.4 remove in 1.5\n\t\t// Define the url parameter used for referencing widget-generated sub-pages.\n\t\t// Translates to example.html&ui-page=subpageIdentifier\n\t\t// hash segment before &ui-page= is used to make Ajax request\n\t\tsubPageUrlKey: \"ui-page\",\n\n\t\thideUrlBar: true,\n\n\t\t// Keepnative Selector\n\t\tkeepNative: \":jqmData(role='none'), :jqmData(role='nojs')\",\n\n\t\t// Deprecated in 1.4 remove in 1.5\n\t\t// Class assigned to page currently in view, and during transitions\n\t\tactivePageClass: \"ui-page-active\",\n\n\t\t// Deprecated in 1.4 remove in 1.5\n\t\t// Class used for \"active\" button state, from CSS framework\n\t\tactiveBtnClass: \"ui-btn-active\",\n\n\t\t// Deprecated in 1.4 remove in 1.5\n\t\t// Class used for \"focus\" form element state, from CSS framework\n\t\tfocusClass: \"ui-focus\",\n\n\t\t// Automatically handle clicks and form submissions through Ajax, when same-domain\n\t\tajaxEnabled: true,\n\n\t\t// Automatically load and show pages based on location.hash\n\t\thashListeningEnabled: true,\n\n\t\t// disable to prevent jquery from bothering with links\n\t\tlinkBindingEnabled: true,\n\n\t\t// Set default page transition - 'none' for no transitions\n\t\tdefaultPageTransition: \"fade\",\n\n\t\t// Set maximum window width for transitions to apply - 'false' for no limit\n\t\tmaxTransitionWidth: false,\n\n\t\t// Minimum scroll distance that will be remembered when returning to a page\n\t\t// Deprecated remove in 1.5\n\t\tminScrollBack: 0,\n\n\t\t// Set default dialog transition - 'none' for no transitions\n\t\tdefaultDialogTransition: \"pop\",\n\n\t\t// Error response message - appears when an Ajax page request fails\n\t\tpageLoadErrorMessage: \"Error Loading Page\",\n\n\t\t// For error messages, which theme does the box uses?\n\t\tpageLoadErrorMessageTheme: \"a\",\n\n\t\t// replace calls to window.history.back with phonegaps navigation helper\n\t\t// where it is provided on the window object\n\t\tphonegapNavigationEnabled: false,\n\n\t\t//automatically initialize the DOM when it's ready\n\t\tautoInitializePage: true,\n\n\t\tpushStateEnabled: true,\n\n\t\t// allows users to opt in to ignoring content by marking a parent element as\n\t\t// data-ignored\n\t\tignoreContentEnabled: false,\n\n\t\tbuttonMarkup: {\n\t\t\thoverDelay: 200\n\t\t},\n\n\t\t// disable the alteration of the dynamic base tag or links in the case\n\t\t// that a dynamic base tag isn't supported\n\t\tdynamicBaseEnabled: true,\n\n\t\t// default the property to remove dependency on assignment in init module\n\t\tpageContainer: $(),\n\n\t\t//enable cross-domain page support\n\t\tallowCrossDomainPages: false,\n\n\t\tdialogHashKey: \"&ui-state=dialog\"\n\t});\n})( jQuery, this );\n\n(function( $, window, undefined ) {\n\tvar nsNormalizeDict = {},\n\t\toldFind = $.find,\n\t\trbrace = /(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/,\n\t\tjqmDataRE = /:jqmData\\(([^)]*)\\)/g;\n\n\t$.extend( $.mobile, {\n\n\t\t// Namespace used framework-wide for data-attrs. Default is no namespace\n\n\t\tns: \"\",\n\n\t\t// Retrieve an attribute from an element and perform some massaging of the value\n\n\t\tgetAttribute: function( element, key ) {\n\t\t\tvar data;\n\n\t\t\telement = element.jquery ? element[0] : element;\n\n\t\t\tif ( element && element.getAttribute ) {\n\t\t\t\tdata = element.getAttribute( \"data-\" + $.mobile.ns + key );\n\t\t\t}\n\n\t\t\t// Copied from core's src/data.js:dataAttr()\n\t\t\t// Convert from a string to a proper data type\n\t\t\ttry {\n\t\t\t\tdata = data === \"true\" ? true :\n\t\t\t\t\tdata === \"false\" ? false :\n\t\t\t\t\tdata === \"null\" ? null :\n\t\t\t\t\t// Only convert to a number if it doesn't change the string\n\t\t\t\t\t+data + \"\" === data ? +data :\n\t\t\t\t\trbrace.test( data ) ? JSON.parse( data ) :\n\t\t\t\t\tdata;\n\t\t\t} catch( err ) {}\n\n\t\t\treturn data;\n\t\t},\n\n\t\t// Expose our cache for testing purposes.\n\t\tnsNormalizeDict: nsNormalizeDict,\n\n\t\t// Take a data attribute property, prepend the namespace\n\t\t// and then camel case the attribute string. Add the result\n\t\t// to our nsNormalizeDict so we don't have to do this again.\n\t\tnsNormalize: function( prop ) {\n\t\t\treturn nsNormalizeDict[ prop ] ||\n\t\t\t\t( nsNormalizeDict[ prop ] = $.camelCase( $.mobile.ns + prop ) );\n\t\t},\n\n\t\t// Find the closest javascript page element to gather settings data jsperf test\n\t\t// http://jsperf.com/single-complex-selector-vs-many-complex-selectors/edit\n\t\t// possibly naive, but it shows that the parsing overhead for *just* the page selector vs\n\t\t// the page and dialog selector is negligable. This could probably be speed up by\n\t\t// doing a similar parent node traversal to the one found in the inherited theme code above\n\t\tclosestPageData: function( $target ) {\n\t\t\treturn $target\n\t\t\t\t.closest( \":jqmData(role='page'), :jqmData(role='dialog')\" )\n\t\t\t\t.data( \"mobile-page\" );\n\t\t}\n\n\t});\n\n\t// Mobile version of data and removeData and hasData methods\n\t// ensures all data is set and retrieved using jQuery Mobile's data namespace\n\t$.fn.jqmData = function( prop, value ) {\n\t\tvar result;\n\t\tif ( typeof prop !== \"undefined\" ) {\n\t\t\tif ( prop ) {\n\t\t\t\tprop = $.mobile.nsNormalize( prop );\n\t\t\t}\n\n\t\t\t// undefined is permitted as an explicit input for the second param\n\t\t\t// in this case it returns the value and does not set it to undefined\n\t\t\tif ( arguments.length < 2 || value === undefined ) {\n\t\t\t\tresult = this.data( prop );\n\t\t\t} else {\n\t\t\t\tresult = this.data( prop, value );\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n\n\t$.jqmData = function( elem, prop, value ) {\n\t\tvar result;\n\t\tif ( typeof prop !== \"undefined\" ) {\n\t\t\tresult = $.data( elem, prop ? $.mobile.nsNormalize( prop ) : prop, value );\n\t\t}\n\t\treturn result;\n\t};\n\n\t$.fn.jqmRemoveData = function( prop ) {\n\t\treturn this.removeData( $.mobile.nsNormalize( prop ) );\n\t};\n\n\t$.jqmRemoveData = function( elem, prop ) {\n\t\treturn $.removeData( elem, $.mobile.nsNormalize( prop ) );\n\t};\n\n\t$.find = function( selector, context, ret, extra ) {\n\t\tif ( selector.indexOf( \":jqmData\" ) > -1 ) {\n\t\t\tselector = selector.replace( jqmDataRE, \"[data-\" + ( $.mobile.ns || \"\" ) + \"$1]\" );\n\t\t}\n\n\t\treturn oldFind.call( this, selector, context, ret, extra );\n\t};\n\n\t$.extend( $.find, oldFind );\n\n})( jQuery, this );\n\n/*!\n * jQuery UI Core @VERSION\n * http://jqueryui.com\n *\n * Copyright 2013 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/ui-core/\n */\n(function( $, undefined ) {\n\nvar uuid = 0,\n\truniqueId = /^ui-id-\\d+$/;\n\n// $.ui might exist from components with no dependencies, e.g., $.ui.position\n$.ui = $.ui || {};\n\n$.extend( $.ui, {\n\tversion: \"@VERSION\",\n\n\tkeyCode: {\n\t\tBACKSPACE: 8,\n\t\tCOMMA: 188,\n\t\tDELETE: 46,\n\t\tDOWN: 40,\n\t\tEND: 35,\n\t\tENTER: 13,\n\t\tESCAPE: 27,\n\t\tHOME: 36,\n\t\tLEFT: 37,\n\t\tPAGE_DOWN: 34,\n\t\tPAGE_UP: 33,\n\t\tPERIOD: 190,\n\t\tRIGHT: 39,\n\t\tSPACE: 32,\n\t\tTAB: 9,\n\t\tUP: 38\n\t}\n});\n\n// plugins\n$.fn.extend({\n\tfocus: (function( orig ) {\n\t\treturn function( delay, fn ) {\n\t\t\treturn typeof delay === \"number\" ?\n\t\t\t\tthis.each(function() {\n\t\t\t\t\tvar elem = this;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t$( elem ).focus();\n\t\t\t\t\t\tif ( fn ) {\n\t\t\t\t\t\t\tfn.call( elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay );\n\t\t\t\t}) :\n\t\t\t\torig.apply( this, arguments );\n\t\t};\n\t})( $.fn.focus ),\n\n\tscrollParent: function() {\n\t\tvar scrollParent;\n\t\tif (($.ui.ie && (/(static|relative)/).test(this.css(\"position\"))) || (/absolute/).test(this.css(\"position\"))) {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (/(relative|absolute|fixed)/).test($.css(this,\"position\")) && (/(auto|scroll)/).test($.css(this,\"overflow\")+$.css(this,\"overflow-y\")+$.css(this,\"overflow-x\"));\n\t\t\t}).eq(0);\n\t\t} else {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (/(auto|scroll)/).test($.css(this,\"overflow\")+$.css(this,\"overflow-y\")+$.css(this,\"overflow-x\"));\n\t\t\t}).eq(0);\n\t\t}\n\n\t\treturn ( /fixed/ ).test( this.css( \"position\") ) || !scrollParent.length ? $( this[ 0 ].ownerDocument || document ) : scrollParent;\n\t},\n\n\tuniqueId: function() {\n\t\treturn this.each(function() {\n\t\t\tif ( !this.id ) {\n\t\t\t\tthis.id = \"ui-id-\" + (++uuid);\n\t\t\t}\n\t\t});\n\t},\n\n\tremoveUniqueId: function() {\n\t\treturn this.each(function() {\n\t\t\tif ( runiqueId.test( this.id ) ) {\n\t\t\t\t$( this ).removeAttr( \"id\" );\n\t\t\t}\n\t\t});\n\t}\n});\n\n// selectors\nfunction focusable( element, isTabIndexNotNaN ) {\n\tvar map, mapName, img,\n\t\tnodeName = element.nodeName.toLowerCase();\n\tif ( \"area\" === nodeName ) {\n\t\tmap = element.parentNode;\n\t\tmapName = map.name;\n\t\tif ( !element.href || !mapName || map.nodeName.toLowerCase() !== \"map\" ) {\n\t\t\treturn false;\n\t\t}\n\t\timg = $( \"img[usemap=#\" + mapName + \"]\" )[0];\n\t\treturn !!img && visible( img );\n\t}\n\treturn ( /input|select|textarea|button|object/.test( nodeName ) ?\n\t\t!element.disabled :\n\t\t\"a\" === nodeName ?\n\t\t\telement.href || isTabIndexNotNaN :\n\t\t\tisTabIndexNotNaN) &&\n\t\t// the element and all of its ancestors must be visible\n\t\tvisible( element );\n}\n\nfunction visible( element ) {\n\treturn $.expr.filters.visible( element ) &&\n\t\t!$( element ).parents().addBack().filter(function() {\n\t\t\treturn $.css( this, \"visibility\" ) === \"hidden\";\n\t\t}).length;\n}\n\n$.extend( $.expr[ \":\" ], {\n\tdata: $.expr.createPseudo ?\n\t\t$.expr.createPseudo(function( dataName ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn !!$.data( elem, dataName );\n\t\t\t};\n\t\t}) :\n\t\t// support: jQuery <1.8\n\t\tfunction( elem, i, match ) {\n\t\t\treturn !!$.data( elem, match[ 3 ] );\n\t\t},\n\n\tfocusable: function( element ) {\n\t\treturn focusable( element, !isNaN( $.attr( element, \"tabindex\" ) ) );\n\t},\n\n\ttabbable: function( element ) {\n\t\tvar tabIndex = $.attr( element, \"tabindex\" ),\n\t\t\tisTabIndexNaN = isNaN( tabIndex );\n\t\treturn ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );\n\t}\n});\n\n// support: jQuery <1.8\nif ( !$( \"<a>\" ).outerWidth( 1 ).jquery ) {\n\t$.each( [ \"Width\", \"Height\" ], function( i, name ) {\n\t\tvar side = name === \"Width\" ? [ \"Left\", \"Right\" ] : [ \"Top\", \"Bottom\" ],\n\t\t\ttype = name.toLowerCase(),\n\t\t\torig = {\n\t\t\t\tinnerWidth: $.fn.innerWidth,\n\t\t\t\tinnerHeight: $.fn.innerHeight,\n\t\t\t\touterWidth: $.fn.outerWidth,\n\t\t\t\touterHeight: $.fn.outerHeight\n\t\t\t};\n\n\t\tfunction reduce( elem, size, border, margin ) {\n\t\t\t$.each( side, function() {\n\t\t\t\tsize -= parseFloat( $.css( elem, \"padding\" + this ) ) || 0;\n\t\t\t\tif ( border ) {\n\t\t\t\t\tsize -= parseFloat( $.css( elem, \"border\" + this + \"Width\" ) ) || 0;\n\t\t\t\t}\n\t\t\t\tif ( margin ) {\n\t\t\t\t\tsize -= parseFloat( $.css( elem, \"margin\" + this ) ) || 0;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn size;\n\t\t}\n\n\t\t$.fn[ \"inner\" + name ] = function( size ) {\n\t\t\tif ( size === undefined ) {\n\t\t\t\treturn orig[ \"inner\" + name ].call( this );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this ).css( type, reduce( this, size ) + \"px\" );\n\t\t\t});\n\t\t};\n\n\t\t$.fn[ \"outer\" + name] = function( size, margin ) {\n\t\t\tif ( typeof size !== \"number\" ) {\n\t\t\t\treturn orig[ \"outer\" + name ].call( this, size );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this).css( type, reduce( this, size, true, margin ) + \"px\" );\n\t\t\t});\n\t\t};\n\t});\n}\n\n// support: jQuery <1.8\nif ( !$.fn.addBack ) {\n\t$.fn.addBack = function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t};\n}\n\n// support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)\nif ( $( \"<a>\" ).data( \"a-b\", \"a\" ).removeData( \"a-b\" ).data( \"a-b\" ) ) {\n\t$.fn.removeData = (function( removeData ) {\n\t\treturn function( key ) {\n\t\t\tif ( arguments.length ) {\n\t\t\t\treturn removeData.call( this, $.camelCase( key ) );\n\t\t\t} else {\n\t\t\t\treturn removeData.call( this );\n\t\t\t}\n\t\t};\n\t})( $.fn.removeData );\n}\n\n\n\n\n\n// deprecated\n$.ui.ie = !!/msie [\\w.]+/.exec( navigator.userAgent.toLowerCase() );\n\n$.support.selectstart = \"onselectstart\" in document.createElement( \"div\" );\n$.fn.extend({\n\tdisableSelection: function() {\n\t\treturn this.bind( ( $.support.selectstart ? \"selectstart\" : \"mousedown\" ) +\n\t\t\t\".ui-disableSelection\", function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t},\n\n\tenableSelection: function() {\n\t\treturn this.unbind( \".ui-disableSelection\" );\n\t},\n\n\tzIndex: function( zIndex ) {\n\t\tif ( zIndex !== undefined ) {\n\t\t\treturn this.css( \"zIndex\", zIndex );\n\t\t}\n\n\t\tif ( this.length ) {\n\t\t\tvar elem = $( this[ 0 ] ), position, value;\n\t\t\twhile ( elem.length && elem[ 0 ] !== document ) {\n\t\t\t\t// Ignore z-index if position is set to a value where z-index is ignored by the browser\n\t\t\t\t// This makes behavior of this function consistent across browsers\n\t\t\t\t// WebKit always returns auto if the element is positioned\n\t\t\t\tposition = elem.css( \"position\" );\n\t\t\t\tif ( position === \"absolute\" || position === \"relative\" || position === \"fixed\" ) {\n\t\t\t\t\t// IE returns 0 when zIndex is not specified\n\t\t\t\t\t// other browsers return a string\n\t\t\t\t\t// we ignore the case of nested elements with an explicit value of 0\n\t\t\t\t\t// <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n\t\t\t\t\tvalue = parseInt( elem.css( \"zIndex\" ), 10 );\n\t\t\t\t\tif ( !isNaN( value ) && value !== 0 ) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telem = elem.parent();\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t}\n});\n\n// $.ui.plugin is deprecated. Use $.widget() extensions instead.\n$.ui.plugin = {\n\tadd: function( module, option, set ) {\n\t\tvar i,\n\t\t\tproto = $.ui[ module ].prototype;\n\t\tfor ( i in set ) {\n\t\t\tproto.plugins[ i ] = proto.plugins[ i ] || [];\n\t\t\tproto.plugins[ i ].push( [ option, set[ i ] ] );\n\t\t}\n\t},\n\tcall: function( instance, name, args, allowDisconnected ) {\n\t\tvar i,\n\t\t\tset = instance.plugins[ name ];\n\n\t\tif ( !set ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !allowDisconnected && ( !instance.element[ 0 ].parentNode || instance.element[ 0 ].parentNode.nodeType === 11 ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( i = 0; i < set.length; i++ ) {\n\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\n\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\n\t\t\t}\n\t\t}\n\t}\n};\n\n})( jQuery );\n(function( $, window, undefined ) {\n\n\t$.extend( $.mobile, {\n\t\t// define the window and the document objects\n\t\twindow: $( window ),\n\t\tdocument: $( document ),\n\n\t\t// TODO: Remove and use $.ui.keyCode directly\n\t\tkeyCode: $.ui.keyCode,\n\n\t\t// Place to store various widget extensions\n\t\tbehaviors: {},\n\n\t\t// Scroll page vertically: scroll to 0 to hide iOS address bar, or pass a Y value\n\t\tsilentScroll: function( ypos ) {\n\t\t\tif ( $.type( ypos ) !== \"number\" ) {\n\t\t\t\typos = $.mobile.defaultHomeScroll;\n\t\t\t}\n\n\t\t\t// prevent scrollstart and scrollstop events\n\t\t\t$.event.special.scrollstart.enabled = false;\n\n\t\t\tsetTimeout(function() {\n\t\t\t\twindow.scrollTo( 0, ypos );\n\t\t\t\t$.mobile.document.trigger( \"silentscroll\", { x: 0, y: ypos });\n\t\t\t}, 20 );\n\n\t\t\tsetTimeout(function() {\n\t\t\t\t$.event.special.scrollstart.enabled = true;\n\t\t\t}, 150 );\n\t\t},\n\n\t\tgetClosestBaseUrl: function( ele )\t{\n\t\t\t// Find the closest page and extract out its url.\n\t\t\tvar url = $( ele ).closest( \".ui-page\" ).jqmData( \"url\" ),\n\t\t\t\tbase = $.mobile.path.documentBase.hrefNoHash;\n\n\t\t\tif ( !$.mobile.dynamicBaseEnabled || !url || !$.mobile.path.isPath( url ) ) {\n\t\t\t\turl = base;\n\t\t\t}\n\n\t\t\treturn $.mobile.path.makeUrlAbsolute( url, base );\n\t\t},\n\t\tremoveActiveLinkClass: function( forceRemoval ) {\n\t\t\tif ( !!$.mobile.activeClickedLink &&\n\t\t\t\t( !$.mobile.activeClickedLink.closest( \".\" + $.mobile.activePageClass ).length ||\n\t\t\t\t\tforceRemoval ) ) {\n\n\t\t\t\t$.mobile.activeClickedLink.removeClass( $.mobile.activeBtnClass );\n\t\t\t}\n\t\t\t$.mobile.activeClickedLink = null;\n\t\t},\n\n\t\t// DEPRECATED in 1.4\n\t\t// Find the closest parent with a theme class on it. Note that\n\t\t// we are not using $.fn.closest() on purpose here because this\n\t\t// method gets called quite a bit and we need it to be as fast\n\t\t// as possible.\n\t\tgetInheritedTheme: function( el, defaultTheme ) {\n\t\t\tvar e = el[ 0 ],\n\t\t\t\tltr = \"\",\n\t\t\t\tre = /ui-(bar|body|overlay)-([a-z])\\b/,\n\t\t\t\tc, m;\n\t\t\twhile ( e ) {\n\t\t\t\tc = e.className || \"\";\n\t\t\t\tif ( c && ( m = re.exec( c ) ) && ( ltr = m[ 2 ] ) ) {\n\t\t\t\t\t// We found a parent with a theme class\n\t\t\t\t\t// on it so bail from this loop.\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\te = e.parentNode;\n\t\t\t}\n\t\t\t// Return the theme letter we found, if none, return the\n\t\t\t// specified default.\n\t\t\treturn ltr || defaultTheme || \"a\";\n\t\t},\n\n\t\tenhanceable: function( elements ) {\n\t\t\treturn this.haveParents( elements, \"enhance\" );\n\t\t},\n\n\t\thijackable: function( elements ) {\n\t\t\treturn this.haveParents( elements, \"ajax\" );\n\t\t},\n\n\t\thaveParents: function( elements, attr ) {\n\t\t\tif ( !$.mobile.ignoreContentEnabled ) {\n\t\t\t\treturn elements;\n\t\t\t}\n\n\t\t\tvar count = elements.length,\n\t\t\t\t$newSet = $(),\n\t\t\t\te, $element, excluded,\n\t\t\t\ti, c;\n\n\t\t\tfor ( i = 0; i < count; i++ ) {\n\t\t\t\t$element = elements.eq( i );\n\t\t\t\texcluded = false;\n\t\t\t\te = elements[ i ];\n\n\t\t\t\twhile ( e ) {\n\t\t\t\t\tc = e.getAttribute ? e.getAttribute( \"data-\" + $.mobile.ns + attr ) : \"\";\n\n\t\t\t\t\tif ( c === \"false\" ) {\n\t\t\t\t\t\texcluded = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\te = e.parentNode;\n\t\t\t\t}\n\n\t\t\t\tif ( !excluded ) {\n\t\t\t\t\t$newSet = $newSet.add( $element );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn $newSet;\n\t\t},\n\n\t\tgetScreenHeight: function() {\n\t\t\t// Native innerHeight returns more accurate value for this across platforms,\n\t\t\t// jQuery version is here as a normalized fallback for platforms like Symbian\n\t\t\treturn window.innerHeight || $.mobile.window.height();\n\t\t},\n\n\t\t//simply set the active page's minimum height to screen height, depending on orientation\n\t\tresetActivePageHeight: function( height ) {\n\t\t\tvar page = $( \".\" + $.mobile.activePageClass ),\n\t\t\t\tpageHeight = page.height(),\n\t\t\t\tpageOuterHeight = page.outerHeight( true );\n\n\t\t\theight = ( typeof height === \"number\" ) ? height : $.mobile.getScreenHeight();\n\n\t\t\tpage.css( \"min-height\", height - ( pageOuterHeight - pageHeight ) );\n\t\t},\n\n\t\tloading: function() {\n\t\t\t// If this is the first call to this function, instantiate a loader widget\n\t\t\tvar loader = this.loading._widget || $( $.mobile.loader.prototype.defaultHtml ).loader(),\n\n\t\t\t\t// Call the appropriate method on the loader\n\t\t\t\treturnValue = loader.loader.apply( loader, arguments );\n\n\t\t\t// Make sure the loader is retained for future calls to this function.\n\t\t\tthis.loading._widget = loader;\n\n\t\t\treturn returnValue;\n\t\t}\n\t});\n\n\t$.addDependents = function( elem, newDependents ) {\n\t\tvar $elem = $( elem ),\n\t\t\tdependents = $elem.jqmData( \"dependents\" ) || $();\n\n\t\t$elem.jqmData( \"dependents\", $( dependents ).add( newDependents ) );\n\t};\n\n\t// plugins\n\t$.fn.extend({\n\t\tremoveWithDependents: function() {\n\t\t\t$.removeWithDependents( this );\n\t\t},\n\n\t\t// Enhance child elements\n\t\tenhanceWithin: function() {\n\t\t\tvar index,\n\t\t\t\twidgetElements = {},\n\t\t\t\tkeepNative = $.mobile.page.prototype.keepNativeSelector(),\n\t\t\t\tthat = this;\n\n\t\t\t// Add no js class to elements\n\t\t\tif ( $.mobile.nojs ) {\n\t\t\t\t$.mobile.nojs( this );\n\t\t\t}\n\n\t\t\t// Bind links for ajax nav\n\t\t\tif ( $.mobile.links ) {\n\t\t\t\t$.mobile.links( this );\n\t\t\t}\n\n\t\t\t// Degrade inputs for styleing\n\t\t\tif ( $.mobile.degradeInputsWithin ) {\n\t\t\t\t$.mobile.degradeInputsWithin( this );\n\t\t\t}\n\n\t\t\t// Run buttonmarkup\n\t\t\tif ( $.fn.buttonMarkup ) {\n\t\t\t\tthis.find( $.fn.buttonMarkup.initSelector ).not( keepNative )\n\t\t\t\t.jqmEnhanceable().buttonMarkup();\n\t\t\t}\n\n\t\t\t// Add classes for fieldContain\n\t\t\tif ( $.fn.fieldcontain ) {\n\t\t\t\tthis.find( \":jqmData(role='fieldcontain')\" ).not( keepNative )\n\t\t\t\t.jqmEnhanceable().fieldcontain();\n\t\t\t}\n\n\t\t\t// Enhance widgets\n\t\t\t$.each( $.mobile.widgets, function( name, constructor ) {\n\n\t\t\t\t// If initSelector not false find elements\n\t\t\t\tif ( constructor.initSelector ) {\n\n\t\t\t\t\t// Filter elements that should not be enhanced based on parents\n\t\t\t\t\tvar elements = $.mobile.enhanceable( that.find( constructor.initSelector ) );\n\n\t\t\t\t\t// If any matching elements remain filter ones with keepNativeSelector\n\t\t\t\t\tif ( elements.length > 0 ) {\n\n\t\t\t\t\t\t// $.mobile.page.prototype.keepNativeSelector is deprecated this is just for backcompat\n\t\t\t\t\t\t// Switch to $.mobile.keepNative in 1.5 which is just a value not a function\n\t\t\t\t\t\telements = elements.not( keepNative );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Enhance whatever is left\n\t\t\t\t\tif ( elements.length > 0 ) {\n\t\t\t\t\t\twidgetElements[ constructor.prototype.widgetName ] = elements;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfor ( index in widgetElements ) {\n\t\t\t\twidgetElements[ index ][ index ]();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\taddDependents: function( newDependents ) {\n\t\t\t$.addDependents( this, newDependents );\n\t\t},\n\n\t\t// note that this helper doesn't attempt to handle the callback\n\t\t// or setting of an html element's text, its only purpose is\n\t\t// to return the html encoded version of the text in all cases. (thus the name)\n\t\tgetEncodedText: function() {\n\t\t\treturn $( \"<a>\" ).text( this.text() ).html();\n\t\t},\n\n\t\t// fluent helper function for the mobile namespaced equivalent\n\t\tjqmEnhanceable: function() {\n\t\t\treturn $.mobile.enhanceable( this );\n\t\t},\n\n\t\tjqmHijackable: function() {\n\t\t\treturn $.mobile.hijackable( this );\n\t\t}\n\t});\n\n\t$.removeWithDependents = function( nativeElement ) {\n\t\tvar element = $( nativeElement );\n\n\t\t( element.jqmData( \"dependents\" ) || $() ).remove();\n\t\telement.remove();\n\t};\n\t$.addDependents = function( nativeElement, newDependents ) {\n\t\tvar element = $( nativeElement ),\n\t\t\tdependents = element.jqmData( \"dependents\" ) || $();\n\n\t\telement.jqmData( \"dependents\", $( dependents ).add( newDependents ) );\n\t};\n\n\t$.find.matches = function( expr, set ) {\n\t\treturn $.find( expr, null, null, set );\n\t};\n\n\t$.find.matchesSelector = function( node, expr ) {\n\t\treturn $.find( expr, null, null, [ node ] ).length > 0;\n\t};\n\n})( jQuery, this );\n\n\n/*!\n * jQuery UI Widget @VERSION\n * http://jqueryui.com\n *\n * Copyright 2013 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/jQuery.widget/\n */\n(function( $, undefined ) {\n\nvar uuid = 0,\n\tslice = Array.prototype.slice,\n\t_cleanData = $.cleanData;\n$.cleanData = function( elems ) {\n\tfor ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {\n\t\ttry {\n\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t// http://bugs.jquery.com/ticket/8235\n\t\t} catch( e ) {}\n\t}\n\t_cleanData( elems );\n};\n\n$.widget = function( name, base, prototype ) {\n\tvar fullName, existingConstructor, constructor, basePrototype,\n\t\t// proxiedPrototype allows the provided prototype to remain unmodified\n\t\t// so that it can be used as a mixin for multiple widgets (#8876)\n\t\tproxiedPrototype = {},\n\t\tnamespace = name.split( \".\" )[ 0 ];\n\n\tname = name.split( \".\" )[ 1 ];\n\tfullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\t// create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\t\t// allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\t// extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\t\t// copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\t\t// track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t});\n\n\tbasePrototype = new base();\n\t// we need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = (function() {\n\t\t\tvar _super = function() {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t\t},\n\t\t\t\t_superApply = function( args ) {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t\t};\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super,\n\t\t\t\t\t__superApply = this._superApply,\n\t\t\t\t\treturnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t})();\n\t});\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t});\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor, child._proto );\n\t\t});\n\t\t// remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n\n\treturn constructor;\n};\n\n$.widget.extend = function( target ) {\n\tvar input = slice.call( arguments, 1 ),\n\t\tinputIndex = 0,\n\t\tinputLength = input.length,\n\t\tkey,\n\t\tvalue;\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\",\n\t\t\targs = slice.call( arguments, 1 ),\n\t\t\treturnValue = this;\n\n\t\t// allow multiple hashes to be passed on init\n\t\toptions = !isMethodCall && args.length ?\n\t\t\t$.widget.extend.apply( null, [ options ].concat(args) ) :\n\t\t\toptions;\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each(function() {\n\t\t\t\tvar methodValue,\n\t\t\t\t\tinstance = $.data( this, fullName );\n\t\t\t\tif ( options === \"instance\" ) {\n\t\t\t\t\treturnValue = instance;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif ( !instance ) {\n\t\t\t\t\treturn $.error( \"cannot call methods on \" + name + \" prior to initialization; \" +\n\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t}\n\t\t\t\tif ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name + \" widget instance\" );\n\t\t\t\t}\n\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\tmethodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} )._init();\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\toptions: {\n\t\tdisabled: false,\n\n\t\t// callbacks\n\t\tcreate: null\n\t},\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = uuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.document = $( element.style ?\n\t\t\t\t// element within the document\n\t\t\t\telement.ownerDocument :\n\t\t\t\t// element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[0].defaultView || this.document[0].parentWindow );\n\t\t}\n\n\t\tthis._create();\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\t_getCreateOptions: $.noop,\n\t_getCreateEventData: $.noop,\n\t_create: $.noop,\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tthis._destroy();\n\t\t// we can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t.removeData( this.widgetFullName )\n\t\t\t// support: jquery <1.6.3\n\t\t\t// http://bugs.jquery.com/ticket/9413\n\t\t\t.removeData( $.camelCase( this.widgetFullName ) );\n\t\tthis.widget()\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeClass(\n\t\t\t\tthis.widgetFullName + \"-disabled \" +\n\t\t\t\t\"ui-state-disabled\" );\n\n\t\t// clean up events and states\n\t\tthis.bindings.unbind( this.eventNamespace );\n\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t},\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key,\n\t\t\tparts,\n\t\t\tcurOption,\n\t\t\ti;\n\n\t\tif ( arguments.length === 0 ) {\n\t\t\t// don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\t\t\t// handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( value === undefined ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( value === undefined ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\t_setOption: function( key, value ) {\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.widget()\n\t\t\t\t.toggleClass( this.widgetFullName + \"-disabled\", !!value );\n\t\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tenable: function() {\n\t\treturn this._setOptions({ disabled: false });\n\t},\n\tdisable: function() {\n\t\treturn this._setOptions({ disabled: true });\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement,\n\t\t\tinstance = this;\n\n\t\t// no suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// no element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\t// accept selectors, DOM elements\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\t\t\t\t// allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^(\\w+)\\s*(.*)$/ ),\n\t\t\t\teventName = match[1] + instance.eventNamespace,\n\t\t\t\tselector = match[2];\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.delegate( selector, eventName, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.bind( eventName, handlerProxy );\n\t\t\t}\n\t\t});\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = (eventName || \"\").split( \" \" ).join( this.eventNamespace + \" \" ) + this.eventNamespace;\n\t\telement.unbind( eventName ).undelegate( eventName );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-hover\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-focus\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig,\n\t\t\tcallback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\t\t// the original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[0], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\t\tvar hasOptions,\n\t\t\teffectName = !options ?\n\t\t\t\tmethod :\n\t\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\t\tdefaultEffect :\n\t\t\t\t\toptions.effect || defaultEffect;\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue(function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t});\n\t\t}\n\t};\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nvar rcapitals = /[A-Z]/g,\n\treplaceFunction = function( c ) {\n\t\treturn \"-\" + c.toLowerCase();\n\t};\n\n$.extend( $.Widget.prototype, {\n\t_getCreateOptions: function() {\n\t\tvar option, value,\n\t\t\telem = this.element[ 0 ],\n\t\t\toptions = {};\n\n\t\t//\n\t\tif ( !$.mobile.getAttribute( elem, \"defaults\" ) ) {\n\t\t\tfor ( option in this.options ) {\n\t\t\t\tvalue = $.mobile.getAttribute( elem, option.replace( rcapitals, replaceFunction ) );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\toptions[ option ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn options;\n\t}\n});\n\n//TODO: Remove in 1.5 for backcompat only\n$.mobile.widget = $.Widget;\n\n})( jQuery );\n\n\n(function( $ ) {\n\t// TODO move loader class down into the widget settings\n\tvar loaderClass = \"ui-loader\", $html = $( \"html\" );\n\n\t$.widget( \"mobile.loader\", {\n\t\t// NOTE if the global config settings are defined they will override these\n\t\t//      options\n\t\toptions: {\n\t\t\t// the theme for the loading message\n\t\t\ttheme: \"a\",\n\n\t\t\t// whether the text in the loading message is shown\n\t\t\ttextVisible: false,\n\n\t\t\t// custom html for the inner content of the loading message\n\t\t\thtml: \"\",\n\n\t\t\t// the text to be displayed when the popup is shown\n\t\t\ttext: \"loading\"\n\t\t},\n\n\t\tdefaultHtml: \"<div class='\" + loaderClass + \"'>\" +\n\t\t\t\"<span class='ui-icon-loading'></span>\" +\n\t\t\t\"<h1></h1>\" +\n\t\t\t\"</div>\",\n\n\t\t// For non-fixed supportin browsers. Position at y center (if scrollTop supported), above the activeBtn (if defined), or just 100px from top\n\t\tfakeFixLoader: function() {\n\t\t\tvar activeBtn = $( \".\" + $.mobile.activeBtnClass ).first();\n\n\t\t\tthis.element\n\t\t\t\t.css({\n\t\t\t\t\ttop: $.support.scrollTop && this.window.scrollTop() + this.window.height() / 2 ||\n\t\t\t\t\t\tactiveBtn.length && activeBtn.offset().top || 100\n\t\t\t\t});\n\t\t},\n\n\t\t// check position of loader to see if it appears to be \"fixed\" to center\n\t\t// if not, use abs positioning\n\t\tcheckLoaderPosition: function() {\n\t\t\tvar offset = this.element.offset(),\n\t\t\t\tscrollTop = this.window.scrollTop(),\n\t\t\t\tscreenHeight = $.mobile.getScreenHeight();\n\n\t\t\tif ( offset.top < scrollTop || ( offset.top - scrollTop ) > screenHeight ) {\n\t\t\t\tthis.element.addClass( \"ui-loader-fakefix\" );\n\t\t\t\tthis.fakeFixLoader();\n\t\t\t\tthis.window\n\t\t\t\t\t.unbind( \"scroll\", this.checkLoaderPosition )\n\t\t\t\t\t.bind( \"scroll\", $.proxy( this.fakeFixLoader, this ) );\n\t\t\t}\n\t\t},\n\n\t\tresetHtml: function() {\n\t\t\tthis.element.html( $( this.defaultHtml ).html() );\n\t\t},\n\n\t\t// Turn on/off page loading message. Theme doubles as an object argument\n\t\t// with the following shape: { theme: '', text: '', html: '', textVisible: '' }\n\t\t// NOTE that the $.mobile.loading* settings and params past the first are deprecated\n\t\t// TODO sweet jesus we need to break some of this out\n\t\tshow: function( theme, msgText, textonly ) {\n\t\t\tvar textVisible, message, loadSettings;\n\n\t\t\tthis.resetHtml();\n\n\t\t\t// use the prototype options so that people can set them globally at\n\t\t\t// mobile init. Consistency, it's what's for dinner\n\t\t\tif ( $.type( theme ) === \"object\" ) {\n\t\t\t\tloadSettings = $.extend( {}, this.options, theme );\n\n\t\t\t\ttheme = loadSettings.theme;\n\t\t\t} else {\n\t\t\t\tloadSettings = this.options;\n\n\t\t\t\t// here we prefer the theme value passed as a string argument, then\n\t\t\t\t// we prefer the global option because we can't use undefined default\n\t\t\t\t// prototype options, then the prototype option\n\t\t\t\ttheme = theme || loadSettings.theme;\n\t\t\t}\n\n\t\t\t// set the message text, prefer the param, then the settings object\n\t\t\t// then loading message\n\t\t\tmessage = msgText || ( loadSettings.text === false ? \"\" : loadSettings.text );\n\n\t\t\t// prepare the dom\n\t\t\t$html.addClass( \"ui-loading\" );\n\n\t\t\ttextVisible = loadSettings.textVisible;\n\n\t\t\t// add the proper css given the options (theme, text, etc)\n\t\t\t// Force text visibility if the second argument was supplied, or\n\t\t\t// if the text was explicitly set in the object args\n\t\t\tthis.element.attr(\"class\", loaderClass +\n\t\t\t\t\" ui-corner-all ui-body-\" + theme +\n\t\t\t\t\" ui-loader-\" + ( textVisible || msgText || theme.text ? \"verbose\" : \"default\" ) +\n\t\t\t\t( loadSettings.textonly || textonly ? \" ui-loader-textonly\" : \"\" ) );\n\n\t\t\t// TODO verify that jquery.fn.html is ok to use in both cases here\n\t\t\t//      this might be overly defensive in preventing unknowing xss\n\t\t\t// if the html attribute is defined on the loading settings, use that\n\t\t\t// otherwise use the fallbacks from above\n\t\t\tif ( loadSettings.html ) {\n\t\t\t\tthis.element.html( loadSettings.html );\n\t\t\t} else {\n\t\t\t\tthis.element.find( \"h1\" ).text( message );\n\t\t\t}\n\n\t\t\t// attach the loader to the DOM\n\t\t\tthis.element.appendTo( $.mobile.pageContainer );\n\n\t\t\t// check that the loader is visible\n\t\t\tthis.checkLoaderPosition();\n\n\t\t\t// on scroll check the loader position\n\t\t\tthis.window.bind( \"scroll\", $.proxy( this.checkLoaderPosition, this ) );\n\t\t},\n\n\t\thide: function() {\n\t\t\t$html.removeClass( \"ui-loading\" );\n\n\t\t\tif ( this.options.text ) {\n\t\t\t\tthis.element.removeClass( \"ui-loader-fakefix\" );\n\t\t\t}\n\n\t\t\t$.mobile.window.unbind( \"scroll\", this.fakeFixLoader );\n\t\t\t$.mobile.window.unbind( \"scroll\", this.checkLoaderPosition );\n\t\t}\n\t});\n\n})(jQuery, this);\n\n\n// Script: jQuery hashchange event\n// \n// *Version: 1.3, Last updated: 7/21/2010*\n// \n// Project Home - http://benalman.com/projects/jquery-hashchange-plugin/\n// GitHub       - http://github.com/cowboy/jquery-hashchange/\n// Source       - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.js\n// (Minified)   - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.min.js (0.8kb gzipped)\n// \n// About: License\n// \n// Copyright (c) 2010 \"Cowboy\" Ben Alman,\n// Dual licensed under the MIT and GPL licenses.\n// http://benalman.com/about/license/\n// \n// About: Examples\n// \n// These working examples, complete with fully commented code, illustrate a few\n// ways in which this plugin can be used.\n// \n// hashchange event - http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/\n// document.domain - http://benalman.com/code/projects/jquery-hashchange/examples/document_domain/\n// \n// About: Support and Testing\n// \n// Information about what version or versions of jQuery this plugin has been\n// tested with, what browsers it has been tested in, and where the unit tests\n// reside (so you can test it yourself).\n// \n// jQuery Versions - 1.2.6, 1.3.2, 1.4.1, 1.4.2\n// Browsers Tested - Internet Explorer 6-8, Firefox 2-4, Chrome 5-6, Safari 3.2-5,\n//                   Opera 9.6-10.60, iPhone 3.1, Android 1.6-2.2, BlackBerry 4.6-5.\n// Unit Tests      - http://benalman.com/code/projects/jquery-hashchange/unit/\n// \n// About: Known issues\n// \n// While this jQuery hashchange event implementation is quite stable and\n// robust, there are a few unfortunate browser bugs surrounding expected\n// hashchange event-based behaviors, independent of any JavaScript\n// window.onhashchange abstraction. See the following examples for more\n// information:\n// \n// Chrome: Back Button - http://benalman.com/code/projects/jquery-hashchange/examples/bug-chrome-back-button/\n// Firefox: Remote XMLHttpRequest - http://benalman.com/code/projects/jquery-hashchange/examples/bug-firefox-remote-xhr/\n// WebKit: Back Button in an Iframe - http://benalman.com/code/projects/jquery-hashchange/examples/bug-webkit-hash-iframe/\n// Safari: Back Button from a different domain - http://benalman.com/code/projects/jquery-hashchange/examples/bug-safari-back-from-diff-domain/\n// \n// Also note that should a browser natively support the window.onhashchange \n// event, but not report that it does, the fallback polling loop will be used.\n// \n// About: Release History\n// \n// 1.3   - (7/21/2010) Reorganized IE6/7 Iframe code to make it more\n//         \"removable\" for mobile-only development. Added IE6/7 document.title\n//         support. Attempted to make Iframe as hidden as possible by using\n//         techniques from http://www.paciellogroup.com/blog/?p=604. Added \n//         support for the \"shortcut\" format $(window).hashchange( fn ) and\n//         $(window).hashchange() like jQuery provides for built-in events.\n//         Renamed jQuery.hashchangeDelay to <jQuery.fn.hashchange.delay> and\n//         lowered its default value to 50. Added <jQuery.fn.hashchange.domain>\n//         and <jQuery.fn.hashchange.src> properties plus document-domain.html\n//         file to address access denied issues when setting document.domain in\n//         IE6/7.\n// 1.2   - (2/11/2010) Fixed a bug where coming back to a page using this plugin\n//         from a page on another domain would cause an error in Safari 4. Also,\n//         IE6/7 Iframe is now inserted after the body (this actually works),\n//         which prevents the page from scrolling when the event is first bound.\n//         Event can also now be bound before DOM ready, but it won't be usable\n//         before then in IE6/7.\n// 1.1   - (1/21/2010) Incorporated document.documentMode test to fix IE8 bug\n//         where browser version is incorrectly reported as 8.0, despite\n//         inclusion of the X-UA-Compatible IE=EmulateIE7 meta tag.\n// 1.0   - (1/9/2010) Initial Release. Broke out the jQuery BBQ event.special\n//         window.onhashchange functionality into a separate plugin for users\n//         who want just the basic event & back button support, without all the\n//         extra awesomeness that BBQ provides. This plugin will be included as\n//         part of jQuery BBQ, but also be available separately.\n\n(function( $, window, undefined ) {\n  // Reused string.\n  var str_hashchange = 'hashchange',\n    \n    // Method / object references.\n    doc = document,\n    fake_onhashchange,\n    special = $.event.special,\n    \n    // Does the browser support window.onhashchange? Note that IE8 running in\n    // IE7 compatibility mode reports true for 'onhashchange' in window, even\n    // though the event isn't supported, so also test document.documentMode.\n    doc_mode = doc.documentMode,\n    supports_onhashchange = 'on' + str_hashchange in window && ( doc_mode === undefined || doc_mode > 7 );\n  \n  // Get location.hash (or what you'd expect location.hash to be) sans any\n  // leading #. Thanks for making this necessary, Firefox!\n  function get_fragment( url ) {\n    url = url || location.href;\n    return '#' + url.replace( /^[^#]*#?(.*)$/, '$1' );\n  };\n  \n  // Method: jQuery.fn.hashchange\n  // \n  // Bind a handler to the window.onhashchange event or trigger all bound\n  // window.onhashchange event handlers. This behavior is consistent with\n  // jQuery's built-in event handlers.\n  // \n  // Usage:\n  // \n  // > jQuery(window).hashchange( [ handler ] );\n  // \n  // Arguments:\n  // \n  //  handler - (Function) Optional handler to be bound to the hashchange\n  //    event. This is a \"shortcut\" for the more verbose form:\n  //    jQuery(window).bind( 'hashchange', handler ). If handler is omitted,\n  //    all bound window.onhashchange event handlers will be triggered. This\n  //    is a shortcut for the more verbose\n  //    jQuery(window).trigger( 'hashchange' ). These forms are described in\n  //    the <hashchange event> section.\n  // \n  // Returns:\n  // \n  //  (jQuery) The initial jQuery collection of elements.\n  \n  // Allow the \"shortcut\" format $(elem).hashchange( fn ) for binding and\n  // $(elem).hashchange() for triggering, like jQuery does for built-in events.\n  $.fn[ str_hashchange ] = function( fn ) {\n    return fn ? this.bind( str_hashchange, fn ) : this.trigger( str_hashchange );\n  };\n  \n  // Property: jQuery.fn.hashchange.delay\n  // \n  // The numeric interval (in milliseconds) at which the <hashchange event>\n  // polling loop executes. Defaults to 50.\n  \n  // Property: jQuery.fn.hashchange.domain\n  // \n  // If you're setting document.domain in your JavaScript, and you want hash\n  // history to work in IE6/7, not only must this property be set, but you must\n  // also set document.domain BEFORE jQuery is loaded into the page. This\n  // property is only applicable if you are supporting IE6/7 (or IE8 operating\n  // in \"IE7 compatibility\" mode).\n  // \n  // In addition, the <jQuery.fn.hashchange.src> property must be set to the\n  // path of the included \"document-domain.html\" file, which can be renamed or\n  // modified if necessary (note that the document.domain specified must be the\n  // same in both your main JavaScript as well as in this file).\n  // \n  // Usage:\n  // \n  // jQuery.fn.hashchange.domain = document.domain;\n  \n  // Property: jQuery.fn.hashchange.src\n  // \n  // If, for some reason, you need to specify an Iframe src file (for example,\n  // when setting document.domain as in <jQuery.fn.hashchange.domain>), you can\n  // do so using this property. Note that when using this property, history\n  // won't be recorded in IE6/7 until the Iframe src file loads. This property\n  // is only applicable if you are supporting IE6/7 (or IE8 operating in \"IE7\n  // compatibility\" mode).\n  // \n  // Usage:\n  // \n  // jQuery.fn.hashchange.src = 'path/to/file.html';\n  \n  $.fn[ str_hashchange ].delay = 50;\n  /*\n  $.fn[ str_hashchange ].domain = null;\n  $.fn[ str_hashchange ].src = null;\n  */\n  \n  // Event: hashchange event\n  // \n  // Fired when location.hash changes. In browsers that support it, the native\n  // HTML5 window.onhashchange event is used, otherwise a polling loop is\n  // initialized, running every <jQuery.fn.hashchange.delay> milliseconds to\n  // see if the hash has changed. In IE6/7 (and IE8 operating in \"IE7\n  // compatibility\" mode), a hidden Iframe is created to allow the back button\n  // and hash-based history to work.\n  // \n  // Usage as described in <jQuery.fn.hashchange>:\n  // \n  // > // Bind an event handler.\n  // > jQuery(window).hashchange( function(e) {\n  // >   var hash = location.hash;\n  // >   ...\n  // > });\n  // > \n  // > // Manually trigger the event handler.\n  // > jQuery(window).hashchange();\n  // \n  // A more verbose usage that allows for event namespacing:\n  // \n  // > // Bind an event handler.\n  // > jQuery(window).bind( 'hashchange', function(e) {\n  // >   var hash = location.hash;\n  // >   ...\n  // > });\n  // > \n  // > // Manually trigger the event handler.\n  // > jQuery(window).trigger( 'hashchange' );\n  // \n  // Additional Notes:\n  // \n  // * The polling loop and Iframe are not created until at least one handler\n  //   is actually bound to the 'hashchange' event.\n  // * If you need the bound handler(s) to execute immediately, in cases where\n  //   a location.hash exists on page load, via bookmark or page refresh for\n  //   example, use jQuery(window).hashchange() or the more verbose \n  //   jQuery(window).trigger( 'hashchange' ).\n  // * The event can be bound before DOM ready, but since it won't be usable\n  //   before then in IE6/7 (due to the necessary Iframe), recommended usage is\n  //   to bind it inside a DOM ready handler.\n  \n  // Override existing $.event.special.hashchange methods (allowing this plugin\n  // to be defined after jQuery BBQ in BBQ's source code).\n  special[ str_hashchange ] = $.extend( special[ str_hashchange ], {\n    \n    // Called only when the first 'hashchange' event is bound to window.\n    setup: function() {\n      // If window.onhashchange is supported natively, there's nothing to do..\n      if ( supports_onhashchange ) { return false; }\n      \n      // Otherwise, we need to create our own. And we don't want to call this\n      // until the user binds to the event, just in case they never do, since it\n      // will create a polling loop and possibly even a hidden Iframe.\n      $( fake_onhashchange.start );\n    },\n    \n    // Called only when the last 'hashchange' event is unbound from window.\n    teardown: function() {\n      // If window.onhashchange is supported natively, there's nothing to do..\n      if ( supports_onhashchange ) { return false; }\n      \n      // Otherwise, we need to stop ours (if possible).\n      $( fake_onhashchange.stop );\n    }\n    \n  });\n  \n  // fake_onhashchange does all the work of triggering the window.onhashchange\n  // event for browsers that don't natively support it, including creating a\n  // polling loop to watch for hash changes and in IE 6/7 creating a hidden\n  // Iframe to enable back and forward.\n  fake_onhashchange = (function() {\n    var self = {},\n      timeout_id,\n      \n      // Remember the initial hash so it doesn't get triggered immediately.\n      last_hash = get_fragment(),\n      \n      fn_retval = function( val ) { return val; },\n      history_set = fn_retval,\n      history_get = fn_retval;\n    \n    // Start the polling loop.\n    self.start = function() {\n      timeout_id || poll();\n    };\n    \n    // Stop the polling loop.\n    self.stop = function() {\n      timeout_id && clearTimeout( timeout_id );\n      timeout_id = undefined;\n    };\n    \n    // This polling loop checks every $.fn.hashchange.delay milliseconds to see\n    // if location.hash has changed, and triggers the 'hashchange' event on\n    // window when necessary.\n    function poll() {\n      var hash = get_fragment(),\n        history_hash = history_get( last_hash );\n      \n      if ( hash !== last_hash ) {\n        history_set( last_hash = hash, history_hash );\n        \n        $(window).trigger( str_hashchange );\n        \n      } else if ( history_hash !== last_hash ) {\n        location.href = location.href.replace( /#.*/, '' ) + history_hash;\n      }\n      \n      timeout_id = setTimeout( poll, $.fn[ str_hashchange ].delay );\n    };\n    \n    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n    // vvvvvvvvvvvvvvvvvvv REMOVE IF NOT SUPPORTING IE6/7/8 vvvvvvvvvvvvvvvvvvv\n    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n    window.attachEvent && !window.addEventListener && !supports_onhashchange && (function() {\n      // Not only do IE6/7 need the \"magical\" Iframe treatment, but so does IE8\n      // when running in \"IE7 compatibility\" mode.\n      \n      var iframe,\n        iframe_src;\n      \n      // When the event is bound and polling starts in IE 6/7, create a hidden\n      // Iframe for history handling.\n      self.start = function() {\n        if ( !iframe ) {\n          iframe_src = $.fn[ str_hashchange ].src;\n          iframe_src = iframe_src && iframe_src + get_fragment();\n          \n          // Create hidden Iframe. Attempt to make Iframe as hidden as possible\n          // by using techniques from http://www.paciellogroup.com/blog/?p=604.\n          iframe = $('<iframe tabindex=\"-1\" title=\"empty\"/>').hide()\n            \n            // When Iframe has completely loaded, initialize the history and\n            // start polling.\n            .one( 'load', function() {\n              iframe_src || history_set( get_fragment() );\n              poll();\n            })\n            \n            // Load Iframe src if specified, otherwise nothing.\n            .attr( 'src', iframe_src || 'javascript:0' )\n            \n            // Append Iframe after the end of the body to prevent unnecessary\n            // initial page scrolling (yes, this works).\n            .insertAfter( 'body' )[0].contentWindow;\n          \n          // Whenever `document.title` changes, update the Iframe's title to\n          // prettify the back/next history menu entries. Since IE sometimes\n          // errors with \"Unspecified error\" the very first time this is set\n          // (yes, very useful) wrap this with a try/catch block.\n          doc.onpropertychange = function() {\n            try {\n              if ( event.propertyName === 'title' ) {\n                iframe.document.title = doc.title;\n              }\n            } catch(e) {}\n          };\n          \n        }\n      };\n      \n      // Override the \"stop\" method since an IE6/7 Iframe was created. Even\n      // if there are no longer any bound event handlers, the polling loop\n      // is still necessary for back/next to work at all!\n      self.stop = fn_retval;\n      \n      // Get history by looking at the hidden Iframe's location.hash.\n      history_get = function() {\n        return get_fragment( iframe.location.href );\n      };\n      \n      // Set a new history item by opening and then closing the Iframe\n      // document, *then* setting its location.hash. If document.domain has\n      // been set, update that as well.\n      history_set = function( hash, history_hash ) {\n        var iframe_doc = iframe.document,\n          domain = $.fn[ str_hashchange ].domain;\n        \n        if ( hash !== history_hash ) {\n          // Update Iframe with any initial `document.title` that might be set.\n          iframe_doc.title = doc.title;\n          \n          // Opening the Iframe's document after it has been closed is what\n          // actually adds a history entry.\n          iframe_doc.open();\n          \n          // Set document.domain for the Iframe document as well, if necessary.\n          domain && iframe_doc.write( '<script>document.domain=\"' + domain + '\"<\\/script>' );\n          \n          iframe_doc.close();\n          \n          // Update the Iframe's hash, for great justice.\n          iframe.location.hash = hash;\n        }\n      };\n      \n    })();\n    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    // ^^^^^^^^^^^^^^^^^^^ REMOVE IF NOT SUPPORTING IE6/7/8 ^^^^^^^^^^^^^^^^^^^\n    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    \n    return self;\n  })();\n  \n})(jQuery,this);\n\n(function( $, undefined ) {\n\n\t/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */\n\twindow.matchMedia = window.matchMedia || (function( doc, undefined ) {\n\n\t\t\n\n\t\tvar bool,\n\t\t\tdocElem = doc.documentElement,\n\t\t\trefNode = docElem.firstElementChild || docElem.firstChild,\n\t\t\t// fakeBody required for <FF4 when executed in <head>\n\t\t\tfakeBody = doc.createElement( \"body\" ),\n\t\t\tdiv = doc.createElement( \"div\" );\n\n\t\tdiv.id = \"mq-test-1\";\n\t\tdiv.style.cssText = \"position:absolute;top:-100em\";\n\t\tfakeBody.style.background = \"none\";\n\t\tfakeBody.appendChild(div);\n\n\t\treturn function(q){\n\n\t\t\tdiv.innerHTML = \"&shy;<style media=\\\"\" + q + \"\\\"> #mq-test-1 { width: 42px; }</style>\";\n\n\t\t\tdocElem.insertBefore( fakeBody, refNode );\n\t\t\tbool = div.offsetWidth === 42;\n\t\t\tdocElem.removeChild( fakeBody );\n\n\t\t\treturn {\n\t\t\t\tmatches: bool,\n\t\t\t\tmedia: q\n\t\t\t};\n\n\t\t};\n\n\t}( document ));\n\n\t// $.mobile.media uses matchMedia to return a boolean.\n\t$.mobile.media = function( q ) {\n\t\treturn window.matchMedia( q ).matches;\n\t};\n\n})(jQuery);\n\n\t(function( $, undefined ) {\n\t\tvar support = {\n\t\t\ttouch: \"ontouchend\" in document\n\t\t};\n\n\t\t$.mobile.support = $.mobile.support || {};\n\t\t$.extend( $.support, support );\n\t\t$.extend( $.mobile.support, support );\n\t}( jQuery ));\n\n\t(function( $, undefined ) {\n\t\t$.extend( $.support, {\n\t\t\torientation: \"orientation\" in window && \"onorientationchange\" in window\n\t\t});\n\t}( jQuery ));\n\n(function( $, undefined ) {\n\n// thx Modernizr\nfunction propExists( prop ) {\n\tvar uc_prop = prop.charAt( 0 ).toUpperCase() + prop.substr( 1 ),\n\t\tprops = ( prop + \" \" + vendors.join( uc_prop + \" \" ) + uc_prop ).split( \" \" ),\n\t\tv;\n\n\tfor ( v in props ) {\n\t\tif ( fbCSS[ props[ v ] ] !== undefined ) {\n\t\t\treturn true;\n\t\t}\n\t}\n}\n\nvar fakeBody = $( \"<body>\" ).prependTo( \"html\" ),\n\tfbCSS = fakeBody[ 0 ].style,\n\tvendors = [ \"Webkit\", \"Moz\", \"O\" ],\n\twebos = \"palmGetResource\" in window, //only used to rule out scrollTop\n\topera = window.opera,\n\toperamini = window.operamini && ({}).toString.call( window.operamini ) === \"[object OperaMini]\",\n\tbb = window.blackberry && !propExists( \"-webkit-transform\" ), //only used to rule out box shadow, as it's filled opaque on BB 5 and lower\n\tnokiaLTE7_3;\n\nfunction validStyle( prop, value, check_vend ) {\n\tvar div = document.createElement( \"div\" ),\n\t\tuc = function( txt ) {\n\t\t\treturn txt.charAt( 0 ).toUpperCase() + txt.substr( 1 );\n\t\t},\n\t\tvend_pref = function( vend ) {\n\t\t\tif ( vend === \"\" ) {\n\t\t\t\treturn \"\";\n\t\t\t} else {\n\t\t\t\treturn  \"-\" + vend.charAt( 0 ).toLowerCase() + vend.substr( 1 ) + \"-\";\n\t\t\t}\n\t\t},\n\t\tcheck_style = function( vend ) {\n\t\t\tvar vend_prop = vend_pref( vend ) + prop + \": \" + value + \";\",\n\t\t\t\tuc_vend = uc( vend ),\n\t\t\t\tpropStyle = uc_vend + ( uc_vend === \"\" ? prop : uc( prop ) );\n\n\t\t\tdiv.setAttribute( \"style\", vend_prop );\n\n\t\t\tif ( !!div.style[ propStyle ] ) {\n\t\t\t\tret = true;\n\t\t\t}\n\t\t},\n\t\tcheck_vends = check_vend ? check_vend : vendors,\n\t\ti, ret;\n\n\tfor( i = 0; i < check_vends.length; i++ ) {\n\t\tcheck_style( check_vends[i] );\n\t}\n\treturn !!ret;\n}\n\n// inline SVG support test\nfunction inlineSVG() {\n\t// Thanks Modernizr & Erik Dahlstrom\n\tvar w = window,\n\t\tsvg = !!w.document.createElementNS && !!w.document.createElementNS( \"http://www.w3.org/2000/svg\", \"svg\" ).createSVGRect && !( w.opera && navigator.userAgent.indexOf( \"Chrome\" ) === -1 ),\n\t\tsupport = function( data ) {\n\t\t\tif ( !( data && svg ) ) {\n\t\t\t\t$( \"html\" ).addClass( \"ui-nosvg\" );\n\t\t\t}\n\t\t},\n\t\timg = new w.Image();\n\n\timg.onerror = function() {\n\t\tsupport( false );\n\t};\n\timg.onload = function() {\n\t\tsupport( img.width === 1 && img.height === 1 );\n\t};\n\timg.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";\n}\n\nfunction transform3dTest() {\n\tvar mqProp = \"transform-3d\",\n\t\t// Because the `translate3d` test below throws false positives in Android:\n\t\tret = $.mobile.media( \"(-\" + vendors.join( \"-\" + mqProp + \"),(-\" ) + \"-\" + mqProp + \"),(\" + mqProp + \")\" ),\n\t\tel, transforms, t;\n\n\tif ( ret ) {\n\t\treturn !!ret;\n\t}\n\n\tel = document.createElement( \"div\" );\n\ttransforms = {\n\t\t// We’re omitting Opera for the time being; MS uses unprefixed.\n\t\t\"MozTransform\": \"-moz-transform\",\n\t\t\"transform\": \"transform\"\n\t};\n\n\tfakeBody.append( el );\n\n\tfor ( t in transforms ) {\n\t\tif ( el.style[ t ] !== undefined ) {\n\t\t\tel.style[ t ] = \"translate3d( 100px, 1px, 1px )\";\n\t\t\tret = window.getComputedStyle( el ).getPropertyValue( transforms[ t ] );\n\t\t}\n\t}\n\treturn ( !!ret && ret !== \"none\" );\n}\n\n// Test for dynamic-updating base tag support ( allows us to avoid href,src attr rewriting )\nfunction baseTagTest() {\n\tvar fauxBase = location.protocol + \"//\" + location.host + location.pathname + \"ui-dir/\",\n\t\tbase = $( \"head base\" ),\n\t\tfauxEle = null,\n\t\thref = \"\",\n\t\tlink, rebase;\n\n\tif ( !base.length ) {\n\t\tbase = fauxEle = $( \"<base>\", { \"href\": fauxBase }).appendTo( \"head\" );\n\t} else {\n\t\thref = base.attr( \"href\" );\n\t}\n\n\tlink = $( \"<a href='testurl' />\" ).prependTo( fakeBody );\n\trebase = link[ 0 ].href;\n\tbase[ 0 ].href = href || location.pathname;\n\n\tif ( fauxEle ) {\n\t\tfauxEle.remove();\n\t}\n\treturn rebase.indexOf( fauxBase ) === 0;\n}\n\n// Thanks Modernizr\nfunction cssPointerEventsTest() {\n\tvar element = document.createElement( \"x\" ),\n\t\tdocumentElement = document.documentElement,\n\t\tgetComputedStyle = window.getComputedStyle,\n\t\tsupports;\n\n\tif ( !( \"pointerEvents\" in element.style ) ) {\n\t\treturn false;\n\t}\n\n\telement.style.pointerEvents = \"auto\";\n\telement.style.pointerEvents = \"x\";\n\tdocumentElement.appendChild( element );\n\tsupports = getComputedStyle &&\n\tgetComputedStyle( element, \"\" ).pointerEvents === \"auto\";\n\tdocumentElement.removeChild( element );\n\treturn !!supports;\n}\n\nfunction boundingRect() {\n\tvar div = document.createElement( \"div\" );\n\treturn typeof div.getBoundingClientRect !== \"undefined\";\n}\n\n// non-UA-based IE version check by James Padolsey, modified by jdalton - from http://gist.github.com/527683\n// allows for inclusion of IE 6+, including Windows Mobile 7\n$.extend( $.mobile, { browser: {} } );\n$.mobile.browser.oldIE = (function() {\n\tvar v = 3,\n\t\tdiv = document.createElement( \"div\" ),\n\t\ta = div.all || [];\n\n\tdo {\n\t\tdiv.innerHTML = \"<!--[if gt IE \" + ( ++v ) + \"]><br><![endif]-->\";\n\t} while( a[0] );\n\n\treturn v > 4 ? v : !v;\n})();\n\nfunction fixedPosition() {\n\tvar w = window,\n\t\tua = navigator.userAgent,\n\t\tplatform = navigator.platform,\n\t\t// Rendering engine is Webkit, and capture major version\n\t\twkmatch = ua.match( /AppleWebKit\\/([0-9]+)/ ),\n\t\twkversion = !!wkmatch && wkmatch[ 1 ],\n\t\tffmatch = ua.match( /Fennec\\/([0-9]+)/ ),\n\t\tffversion = !!ffmatch && ffmatch[ 1 ],\n\t\toperammobilematch = ua.match( /Opera Mobi\\/([0-9]+)/ ),\n\t\tomversion = !!operammobilematch && operammobilematch[ 1 ];\n\n\tif (\n\t\t// iOS 4.3 and older : Platform is iPhone/Pad/Touch and Webkit version is less than 534 (ios5)\n\t\t( ( platform.indexOf( \"iPhone\" ) > -1 || platform.indexOf( \"iPad\" ) > -1  || platform.indexOf( \"iPod\" ) > -1 ) && wkversion && wkversion < 534 ) ||\n\t\t// Opera Mini\n\t\t( w.operamini && ({}).toString.call( w.operamini ) === \"[object OperaMini]\" ) ||\n\t\t( operammobilematch && omversion < 7458 )\t||\n\t\t//Android lte 2.1: Platform is Android and Webkit version is less than 533 (Android 2.2)\n\t\t( ua.indexOf( \"Android\" ) > -1 && wkversion && wkversion < 533 ) ||\n\t\t// Firefox Mobile before 6.0 -\n\t\t( ffversion && ffversion < 6 ) ||\n\t\t// WebOS less than 3\n\t\t( \"palmGetResource\" in window && wkversion && wkversion < 534 )\t||\n\t\t// MeeGo\n\t\t( ua.indexOf( \"MeeGo\" ) > -1 && ua.indexOf( \"NokiaBrowser/8.5.0\" ) > -1 ) ) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n$.extend( $.support, {\n\tcssTransitions: \"WebKitTransitionEvent\" in window ||\n\t\tvalidStyle( \"transition\", \"height 100ms linear\", [ \"Webkit\", \"Moz\", \"\" ] ) &&\n\t\t!$.mobile.browser.oldIE && !opera,\n\n\t// Note, Chrome for iOS has an extremely quirky implementation of popstate.\n\t// We've chosen to take the shortest path to a bug fix here for issue #5426\n\t// See the following link for information about the regex chosen\n\t// https://developers.google.com/chrome/mobile/docs/user-agent#chrome_for_ios_user-agent\n\tpushState: \"pushState\" in history &&\n\t\t\"replaceState\" in history &&\n\t\t// When running inside a FF iframe, calling replaceState causes an error\n\t\t!( window.navigator.userAgent.indexOf( \"Firefox\" ) >= 0 && window.top !== window ) &&\n\t\t( window.navigator.userAgent.search(/CriOS/) === -1 ),\n\n\tmediaquery: $.mobile.media( \"only all\" ),\n\tcssPseudoElement: !!propExists( \"content\" ),\n\ttouchOverflow: !!propExists( \"overflowScrolling\" ),\n\tcssTransform3d: transform3dTest(),\n\tcssAnimations: !!propExists( \"animationName\" ),\n\tboxShadow: !!propExists( \"boxShadow\" ) && !bb,\n\tfixedPosition: fixedPosition(),\n\tscrollTop: (\"pageXOffset\" in window ||\n\t\t\"scrollTop\" in document.documentElement ||\n\t\t\"scrollTop\" in fakeBody[ 0 ]) && !webos && !operamini,\n\n\tdynamicBaseTag: baseTagTest(),\n\tcssPointerEvents: cssPointerEventsTest(),\n\tboundingRect: boundingRect(),\n\tinlineSVG: inlineSVG\n});\n\nfakeBody.remove();\n\n// $.mobile.ajaxBlacklist is used to override ajaxEnabled on platforms that have known conflicts with hash history updates (BB5, Symbian)\n// or that generally work better browsing in regular http for full page refreshes (Opera Mini)\n// Note: This detection below is used as a last resort.\n// We recommend only using these detection methods when all other more reliable/forward-looking approaches are not possible\nnokiaLTE7_3 = (function() {\n\n\tvar ua = window.navigator.userAgent;\n\n\t//The following is an attempt to match Nokia browsers that are running Symbian/s60, with webkit, version 7.3 or older\n\treturn ua.indexOf( \"Nokia\" ) > -1 &&\n\t\t\t( ua.indexOf( \"Symbian/3\" ) > -1 || ua.indexOf( \"Series60/5\" ) > -1 ) &&\n\t\t\tua.indexOf( \"AppleWebKit\" ) > -1 &&\n\t\t\tua.match( /(BrowserNG|NokiaBrowser)\\/7\\.[0-3]/ );\n})();\n\n// Support conditions that must be met in order to proceed\n// default enhanced qualifications are media query support OR IE 7+\n\n$.mobile.gradeA = function() {\n\treturn ( ( $.support.mediaquery && $.support.cssPseudoElement ) || $.mobile.browser.oldIE && $.mobile.browser.oldIE >= 8 ) && ( $.support.boundingRect || $.fn.jquery.match(/1\\.[0-7+]\\.[0-9+]?/) !== null );\n};\n\n$.mobile.ajaxBlacklist =\n\t\t\t// BlackBerry browsers, pre-webkit\n\t\t\twindow.blackberry && !window.WebKitPoint ||\n\t\t\t// Opera Mini\n\t\t\toperamini ||\n\t\t\t// Symbian webkits pre 7.3\n\t\t\tnokiaLTE7_3;\n\n// Lastly, this workaround is the only way we've found so far to get pre 7.3 Symbian webkit devices\n// to render the stylesheets when they're referenced before this script, as we'd recommend doing.\n// This simply reappends the CSS in place, which for some reason makes it apply\nif ( nokiaLTE7_3 ) {\n\t$(function() {\n\t\t$( \"head link[rel='stylesheet']\" ).attr( \"rel\", \"alternate stylesheet\" ).attr( \"rel\", \"stylesheet\" );\n\t});\n}\n\n// For ruling out shadows via css\nif ( !$.support.boxShadow ) {\n\t$( \"html\" ).addClass( \"ui-noboxshadow\" );\n}\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n\tvar $win = $.mobile.window, self,\n\t\tdummyFnToInitNavigate = function() {\n\t\t};\n\n\t$.event.special.beforenavigate = {\n\t\tsetup: function() {\n\t\t\t$win.on( \"navigate\", dummyFnToInitNavigate );\n\t\t},\n\n\t\tteardown: function() {\n\t\t\t$win.off( \"navigate\", dummyFnToInitNavigate );\n\t\t}\n\t};\n\n\t$.event.special.navigate = self = {\n\t\tbound: false,\n\n\t\tpushStateEnabled: true,\n\n\t\toriginalEventName: undefined,\n\n\t\t// If pushstate support is present and push state support is defined to\n\t\t// be true on the mobile namespace.\n\t\tisPushStateEnabled: function() {\n\t\t\treturn $.support.pushState &&\n\t\t\t\t$.mobile.pushStateEnabled === true &&\n\t\t\t\tthis.isHashChangeEnabled();\n\t\t},\n\n\t\t// !! assumes mobile namespace is present\n\t\tisHashChangeEnabled: function() {\n\t\t\treturn $.mobile.hashListeningEnabled === true;\n\t\t},\n\n\t\t// TODO a lot of duplication between popstate and hashchange\n\t\tpopstate: function( event ) {\n\t\t\tvar newEvent = new $.Event( \"navigate\" ),\n\t\t\t\tbeforeNavigate = new $.Event( \"beforenavigate\" ),\n\t\t\t\tstate = event.originalEvent.state || {};\n\n\t\t\tbeforeNavigate.originalEvent = event;\n\t\t\t$win.trigger( beforeNavigate );\n\n\t\t\tif ( beforeNavigate.isDefaultPrevented() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( event.historyState ) {\n\t\t\t\t$.extend(state, event.historyState);\n\t\t\t}\n\n\t\t\t// Make sure the original event is tracked for the end\n\t\t\t// user to inspect incase they want to do something special\n\t\t\tnewEvent.originalEvent = event;\n\n\t\t\t// NOTE we let the current stack unwind because any assignment to\n\t\t\t//      location.hash will stop the world and run this event handler. By\n\t\t\t//      doing this we create a similar behavior to hashchange on hash\n\t\t\t//      assignment\n\t\t\tsetTimeout(function() {\n\t\t\t\t$win.trigger( newEvent, {\n\t\t\t\t\tstate: state\n\t\t\t\t});\n\t\t\t}, 0);\n\t\t},\n\n\t\thashchange: function( event /*, data */ ) {\n\t\t\tvar newEvent = new $.Event( \"navigate\" ),\n\t\t\t\tbeforeNavigate = new $.Event( \"beforenavigate\" );\n\n\t\t\tbeforeNavigate.originalEvent = event;\n\t\t\t$win.trigger( beforeNavigate );\n\n\t\t\tif ( beforeNavigate.isDefaultPrevented() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Make sure the original event is tracked for the end\n\t\t\t// user to inspect incase they want to do something special\n\t\t\tnewEvent.originalEvent = event;\n\n\t\t\t// Trigger the hashchange with state provided by the user\n\t\t\t// that altered the hash\n\t\t\t$win.trigger( newEvent, {\n\t\t\t\t// Users that want to fully normalize the two events\n\t\t\t\t// will need to do history management down the stack and\n\t\t\t\t// add the state to the event before this binding is fired\n\t\t\t\t// TODO consider allowing for the explicit addition of callbacks\n\t\t\t\t//      to be fired before this value is set to avoid event timing issues\n\t\t\t\tstate: event.hashchangeState || {}\n\t\t\t});\n\t\t},\n\n\t\t// TODO We really only want to set this up once\n\t\t//      but I'm not clear if there's a beter way to achieve\n\t\t//      this with the jQuery special event structure\n\t\tsetup: function( /* data, namespaces */ ) {\n\t\t\tif ( self.bound ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.bound = true;\n\n\t\t\tif ( self.isPushStateEnabled() ) {\n\t\t\t\tself.originalEventName = \"popstate\";\n\t\t\t\t$win.bind( \"popstate.navigate\", self.popstate );\n\t\t\t} else if ( self.isHashChangeEnabled() ) {\n\t\t\t\tself.originalEventName = \"hashchange\";\n\t\t\t\t$win.bind( \"hashchange.navigate\", self.hashchange );\n\t\t\t}\n\t\t}\n\t};\n})( jQuery );\n\n\n\n(function( $, undefined ) {\n\t\tvar path, $base, dialogHashKey = \"&ui-state=dialog\";\n\n\t\t$.mobile.path = path = {\n\t\t\tuiStateKey: \"&ui-state\",\n\n\t\t\t// This scary looking regular expression parses an absolute URL or its relative\n\t\t\t// variants (protocol, site, document, query, and hash), into the various\n\t\t\t// components (protocol, host, path, query, fragment, etc that make up the\n\t\t\t// URL as well as some other commonly used sub-parts. When used with RegExp.exec()\n\t\t\t// or String.match, it parses the URL into a results array that looks like this:\n\t\t\t//\n\t\t\t//     [0]: http://jblas:password@mycompany.com:8080/mail/inbox?msg=1234&type=unread#msg-content\n\t\t\t//     [1]: http://jblas:password@mycompany.com:8080/mail/inbox?msg=1234&type=unread\n\t\t\t//     [2]: http://jblas:password@mycompany.com:8080/mail/inbox\n\t\t\t//     [3]: http://jblas:password@mycompany.com:8080\n\t\t\t//     [4]: http:\n\t\t\t//     [5]: //\n\t\t\t//     [6]: jblas:password@mycompany.com:8080\n\t\t\t//     [7]: jblas:password\n\t\t\t//     [8]: jblas\n\t\t\t//     [9]: password\n\t\t\t//    [10]: mycompany.com:8080\n\t\t\t//    [11]: mycompany.com\n\t\t\t//    [12]: 8080\n\t\t\t//    [13]: /mail/inbox\n\t\t\t//    [14]: /mail/\n\t\t\t//    [15]: inbox\n\t\t\t//    [16]: ?msg=1234&type=unread\n\t\t\t//    [17]: #msg-content\n\t\t\t//\n\t\t\turlParseRE: /^\\s*(((([^:\\/#\\?]+:)?(?:(\\/\\/)((?:(([^:@\\/#\\?]+)(?:\\:([^:@\\/#\\?]+))?)@)?(([^:\\/#\\?\\]\\[]+|\\[[^\\/\\]@#?]+\\])(?:\\:([0-9]+))?))?)?)?((\\/?(?:[^\\/\\?#]+\\/+)*)([^\\?#]*)))?(\\?[^#]+)?)(#.*)?/,\n\n\t\t\t// Abstraction to address xss (Issue #4787) by removing the authority in\n\t\t\t// browsers that auto\tdecode it. All references to location.href should be\n\t\t\t// replaced with a call to this method so that it can be dealt with properly here\n\t\t\tgetLocation: function( url ) {\n\t\t\t\tvar uri = url ? this.parseUrl( url ) : location,\n\t\t\t\t\thash = this.parseUrl( url || location.href ).hash;\n\n\t\t\t\t// mimic the browser with an empty string when the hash is empty\n\t\t\t\thash = hash === \"#\" ? \"\" : hash;\n\n\t\t\t\t// Make sure to parse the url or the location object for the hash because using location.hash\n\t\t\t\t// is autodecoded in firefox, the rest of the url should be from the object (location unless\n\t\t\t\t// we're testing) to avoid the inclusion of the authority\n\t\t\t\treturn uri.protocol + \"//\" + uri.host + uri.pathname + uri.search + hash;\n\t\t\t},\n\n\t\t\t//return the original document url\n\t\t\tgetDocumentUrl: function( asParsedObject ) {\n\t\t\t\treturn asParsedObject ? $.extend( {}, path.documentUrl ) : path.documentUrl.href;\n\t\t\t},\n\n\t\t\tparseLocation: function() {\n\t\t\t\treturn this.parseUrl( this.getLocation() );\n\t\t\t},\n\n\t\t\t//Parse a URL into a structure that allows easy access to\n\t\t\t//all of the URL components by name.\n\t\t\tparseUrl: function( url ) {\n\t\t\t\t// If we're passed an object, we'll assume that it is\n\t\t\t\t// a parsed url object and just return it back to the caller.\n\t\t\t\tif ( $.type( url ) === \"object\" ) {\n\t\t\t\t\treturn url;\n\t\t\t\t}\n\n\t\t\t\tvar matches = path.urlParseRE.exec( url || \"\" ) || [];\n\n\t\t\t\t\t// Create an object that allows the caller to access the sub-matches\n\t\t\t\t\t// by name. Note that IE returns an empty string instead of undefined,\n\t\t\t\t\t// like all other browsers do, so we normalize everything so its consistent\n\t\t\t\t\t// no matter what browser we're running on.\n\t\t\t\t\treturn {\n\t\t\t\t\t\thref:         matches[  0 ] || \"\",\n\t\t\t\t\t\threfNoHash:   matches[  1 ] || \"\",\n\t\t\t\t\t\threfNoSearch: matches[  2 ] || \"\",\n\t\t\t\t\t\tdomain:       matches[  3 ] || \"\",\n\t\t\t\t\t\tprotocol:     matches[  4 ] || \"\",\n\t\t\t\t\t\tdoubleSlash:  matches[  5 ] || \"\",\n\t\t\t\t\t\tauthority:    matches[  6 ] || \"\",\n\t\t\t\t\t\tusername:     matches[  8 ] || \"\",\n\t\t\t\t\t\tpassword:     matches[  9 ] || \"\",\n\t\t\t\t\t\thost:         matches[ 10 ] || \"\",\n\t\t\t\t\t\thostname:     matches[ 11 ] || \"\",\n\t\t\t\t\t\tport:         matches[ 12 ] || \"\",\n\t\t\t\t\t\tpathname:     matches[ 13 ] || \"\",\n\t\t\t\t\t\tdirectory:    matches[ 14 ] || \"\",\n\t\t\t\t\t\tfilename:     matches[ 15 ] || \"\",\n\t\t\t\t\t\tsearch:       matches[ 16 ] || \"\",\n\t\t\t\t\t\thash:         matches[ 17 ] || \"\"\n\t\t\t\t\t};\n\t\t\t},\n\n\t\t\t//Turn relPath into an asbolute path. absPath is\n\t\t\t//an optional absolute path which describes what\n\t\t\t//relPath is relative to.\n\t\t\tmakePathAbsolute: function( relPath, absPath ) {\n\t\t\t\tvar absStack,\n\t\t\t\t\trelStack,\n\t\t\t\t\ti, d;\n\n\t\t\t\tif ( relPath && relPath.charAt( 0 ) === \"/\" ) {\n\t\t\t\t\treturn relPath;\n\t\t\t\t}\n\n\t\t\t\trelPath = relPath || \"\";\n\t\t\t\tabsPath = absPath ? absPath.replace( /^\\/|(\\/[^\\/]*|[^\\/]+)$/g, \"\" ) : \"\";\n\n\t\t\t\tabsStack = absPath ? absPath.split( \"/\" ) : [];\n\t\t\t\trelStack = relPath.split( \"/\" );\n\n\t\t\t\tfor ( i = 0; i < relStack.length; i++ ) {\n\t\t\t\t\td = relStack[ i ];\n\t\t\t\t\tswitch ( d ) {\n\t\t\t\t\t\tcase \".\":\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"..\":\n\t\t\t\t\t\t\tif ( absStack.length ) {\n\t\t\t\t\t\t\t\tabsStack.pop();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tabsStack.push( d );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn \"/\" + absStack.join( \"/\" );\n\t\t\t},\n\n\t\t\t//Returns true if both urls have the same domain.\n\t\t\tisSameDomain: function( absUrl1, absUrl2 ) {\n\t\t\t\treturn path.parseUrl( absUrl1 ).domain === path.parseUrl( absUrl2 ).domain;\n\t\t\t},\n\n\t\t\t//Returns true for any relative variant.\n\t\t\tisRelativeUrl: function( url ) {\n\t\t\t\t// All relative Url variants have one thing in common, no protocol.\n\t\t\t\treturn path.parseUrl( url ).protocol === \"\";\n\t\t\t},\n\n\t\t\t//Returns true for an absolute url.\n\t\t\tisAbsoluteUrl: function( url ) {\n\t\t\t\treturn path.parseUrl( url ).protocol !== \"\";\n\t\t\t},\n\n\t\t\t//Turn the specified realtive URL into an absolute one. This function\n\t\t\t//can handle all relative variants (protocol, site, document, query, fragment).\n\t\t\tmakeUrlAbsolute: function( relUrl, absUrl ) {\n\t\t\t\tif ( !path.isRelativeUrl( relUrl ) ) {\n\t\t\t\t\treturn relUrl;\n\t\t\t\t}\n\n\t\t\t\tif ( absUrl === undefined ) {\n\t\t\t\t\tabsUrl = this.documentBase;\n\t\t\t\t}\n\n\t\t\t\tvar relObj = path.parseUrl( relUrl ),\n\t\t\t\t\tabsObj = path.parseUrl( absUrl ),\n\t\t\t\t\tprotocol = relObj.protocol || absObj.protocol,\n\t\t\t\t\tdoubleSlash = relObj.protocol ? relObj.doubleSlash : ( relObj.doubleSlash || absObj.doubleSlash ),\n\t\t\t\t\tauthority = relObj.authority || absObj.authority,\n\t\t\t\t\thasPath = relObj.pathname !== \"\",\n\t\t\t\t\tpathname = path.makePathAbsolute( relObj.pathname || absObj.filename, absObj.pathname ),\n\t\t\t\t\tsearch = relObj.search || ( !hasPath && absObj.search ) || \"\",\n\t\t\t\t\thash = relObj.hash;\n\n\t\t\t\treturn protocol + doubleSlash + authority + pathname + search + hash;\n\t\t\t},\n\n\t\t\t//Add search (aka query) params to the specified url.\n\t\t\taddSearchParams: function( url, params ) {\n\t\t\t\tvar u = path.parseUrl( url ),\n\t\t\t\t\tp = ( typeof params === \"object\" ) ? $.param( params ) : params,\n\t\t\t\t\ts = u.search || \"?\";\n\t\t\t\treturn u.hrefNoSearch + s + ( s.charAt( s.length - 1 ) !== \"?\" ? \"&\" : \"\" ) + p + ( u.hash || \"\" );\n\t\t\t},\n\n\t\t\tconvertUrlToDataUrl: function( absUrl ) {\n\t\t\t\tvar u = path.parseUrl( absUrl );\n\t\t\t\tif ( path.isEmbeddedPage( u ) ) {\n\t\t\t\t\t// For embedded pages, remove the dialog hash key as in getFilePath(),\n\t\t\t\t\t// and remove otherwise the Data Url won't match the id of the embedded Page.\n\t\t\t\t\treturn u.hash\n\t\t\t\t\t\t.split( dialogHashKey )[0]\n\t\t\t\t\t\t.replace( /^#/, \"\" )\n\t\t\t\t\t\t.replace( /\\?.*$/, \"\" );\n\t\t\t\t} else if ( path.isSameDomain( u, this.documentBase ) ) {\n\t\t\t\t\treturn u.hrefNoHash.replace( this.documentBase.domain, \"\" ).split( dialogHashKey )[0];\n\t\t\t\t}\n\n\t\t\t\treturn window.decodeURIComponent(absUrl);\n\t\t\t},\n\n\t\t\t//get path from current hash, or from a file path\n\t\t\tget: function( newPath ) {\n\t\t\t\tif ( newPath === undefined ) {\n\t\t\t\t\tnewPath = path.parseLocation().hash;\n\t\t\t\t}\n\t\t\t\treturn path.stripHash( newPath ).replace( /[^\\/]*\\.[^\\/*]+$/, \"\" );\n\t\t\t},\n\n\t\t\t//set location hash to path\n\t\t\tset: function( path ) {\n\t\t\t\tlocation.hash = path;\n\t\t\t},\n\n\t\t\t//test if a given url (string) is a path\n\t\t\t//NOTE might be exceptionally naive\n\t\t\tisPath: function( url ) {\n\t\t\t\treturn ( /\\// ).test( url );\n\t\t\t},\n\n\t\t\t//return a url path with the window's location protocol/hostname/pathname removed\n\t\t\tclean: function( url ) {\n\t\t\t\treturn url.replace( this.documentBase.domain, \"\" );\n\t\t\t},\n\n\t\t\t//just return the url without an initial #\n\t\t\tstripHash: function( url ) {\n\t\t\t\treturn url.replace( /^#/, \"\" );\n\t\t\t},\n\n\t\t\tstripQueryParams: function( url ) {\n\t\t\t\treturn url.replace( /\\?.*$/, \"\" );\n\t\t\t},\n\n\t\t\t//remove the preceding hash, any query params, and dialog notations\n\t\t\tcleanHash: function( hash ) {\n\t\t\t\treturn path.stripHash( hash.replace( /\\?.*$/, \"\" ).replace( dialogHashKey, \"\" ) );\n\t\t\t},\n\n\t\t\tisHashValid: function( hash ) {\n\t\t\t\treturn ( /^#[^#]+$/ ).test( hash );\n\t\t\t},\n\n\t\t\t//check whether a url is referencing the same domain, or an external domain or different protocol\n\t\t\t//could be mailto, etc\n\t\t\tisExternal: function( url ) {\n\t\t\t\tvar u = path.parseUrl( url );\n\t\t\t\treturn u.protocol && u.domain !== this.documentUrl.domain ? true : false;\n\t\t\t},\n\n\t\t\thasProtocol: function( url ) {\n\t\t\t\treturn ( /^(:?\\w+:)/ ).test( url );\n\t\t\t},\n\n\t\t\tisEmbeddedPage: function( url ) {\n\t\t\t\tvar u = path.parseUrl( url );\n\n\t\t\t\t//if the path is absolute, then we need to compare the url against\n\t\t\t\t//both the this.documentUrl and the documentBase. The main reason for this\n\t\t\t\t//is that links embedded within external documents will refer to the\n\t\t\t\t//application document, whereas links embedded within the application\n\t\t\t\t//document will be resolved against the document base.\n\t\t\t\tif ( u.protocol !== \"\" ) {\n\t\t\t\t\treturn ( !this.isPath(u.hash) && u.hash && ( u.hrefNoHash === this.documentUrl.hrefNoHash || ( this.documentBaseDiffers && u.hrefNoHash === this.documentBase.hrefNoHash ) ) );\n\t\t\t\t}\n\t\t\t\treturn ( /^#/ ).test( u.href );\n\t\t\t},\n\n\t\t\tsquash: function( url, resolutionUrl ) {\n\t\t\t\tvar href, cleanedUrl, search, stateIndex,\n\t\t\t\t\tisPath = this.isPath( url ),\n\t\t\t\t\turi = this.parseUrl( url ),\n\t\t\t\t\tpreservedHash = uri.hash,\n\t\t\t\t\tuiState = \"\";\n\n\t\t\t\t// produce a url against which we can resole the provided path\n\t\t\t\tresolutionUrl = resolutionUrl || (path.isPath(url) ? path.getLocation() : path.getDocumentUrl());\n\n\t\t\t\t// If the url is anything but a simple string, remove any preceding hash\n\t\t\t\t// eg #foo/bar -> foo/bar\n\t\t\t\t//    #foo -> #foo\n\t\t\t\tcleanedUrl = isPath ? path.stripHash( url ) : url;\n\n\t\t\t\t// If the url is a full url with a hash check if the parsed hash is a path\n\t\t\t\t// if it is, strip the #, and use it otherwise continue without change\n\t\t\t\tcleanedUrl = path.isPath( uri.hash ) ? path.stripHash( uri.hash ) : cleanedUrl;\n\n\t\t\t\t// Split the UI State keys off the href\n\t\t\t\tstateIndex = cleanedUrl.indexOf( this.uiStateKey );\n\n\t\t\t\t// store the ui state keys for use\n\t\t\t\tif ( stateIndex > -1 ) {\n\t\t\t\t\tuiState = cleanedUrl.slice( stateIndex );\n\t\t\t\t\tcleanedUrl = cleanedUrl.slice( 0, stateIndex );\n\t\t\t\t}\n\n\t\t\t\t// make the cleanedUrl absolute relative to the resolution url\n\t\t\t\thref = path.makeUrlAbsolute( cleanedUrl, resolutionUrl );\n\n\t\t\t\t// grab the search from the resolved url since parsing from\n\t\t\t\t// the passed url may not yield the correct result\n\t\t\t\tsearch = this.parseUrl( href ).search;\n\n\t\t\t\t// TODO all this crap is terrible, clean it up\n\t\t\t\tif ( isPath ) {\n\t\t\t\t\t// reject the hash if it's a path or it's just a dialog key\n\t\t\t\t\tif ( path.isPath( preservedHash ) || preservedHash.replace(\"#\", \"\").indexOf( this.uiStateKey ) === 0) {\n\t\t\t\t\t\tpreservedHash = \"\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Append the UI State keys where it exists and it's been removed\n\t\t\t\t\t// from the url\n\t\t\t\t\tif ( uiState && preservedHash.indexOf( this.uiStateKey ) === -1) {\n\t\t\t\t\t\tpreservedHash += uiState;\n\t\t\t\t\t}\n\n\t\t\t\t\t// make sure that pound is on the front of the hash\n\t\t\t\t\tif ( preservedHash.indexOf( \"#\" ) === -1 && preservedHash !== \"\" ) {\n\t\t\t\t\t\tpreservedHash = \"#\" + preservedHash;\n\t\t\t\t\t}\n\n\t\t\t\t\t// reconstruct each of the pieces with the new search string and hash\n\t\t\t\t\thref = path.parseUrl( href );\n\t\t\t\t\thref = href.protocol + \"//\" + href.host + href.pathname + search + preservedHash;\n\t\t\t\t} else {\n\t\t\t\t\thref += href.indexOf( \"#\" ) > -1 ? uiState : \"#\" + uiState;\n\t\t\t\t}\n\n\t\t\t\treturn href;\n\t\t\t},\n\n\t\t\tisPreservableHash: function( hash ) {\n\t\t\t\treturn hash.replace( \"#\", \"\" ).indexOf( this.uiStateKey ) === 0;\n\t\t\t},\n\n\t\t\t// Escape weird characters in the hash if it is to be used as a selector\n\t\t\thashToSelector: function( hash ) {\n\t\t\t\tvar hasHash = ( hash.substring( 0, 1 ) === \"#\" );\n\t\t\t\tif ( hasHash ) {\n\t\t\t\t\thash = hash.substring( 1 );\n\t\t\t\t}\n\t\t\t\treturn ( hasHash ? \"#\" : \"\" ) + hash.replace( /([!\"#$%&'()*+,./:;<=>?@[\\]^`{|}~])/g, \"\\\\$1\" );\n\t\t\t},\n\n\t\t\t// return the substring of a filepath before the sub-page key, for making\n\t\t\t// a server request\n\t\t\tgetFilePath: function( path ) {\n\t\t\t\tvar splitkey = \"&\" + $.mobile.subPageUrlKey;\n\t\t\t\treturn path && path.split( splitkey )[0].split( dialogHashKey )[0];\n\t\t\t},\n\n\t\t\t// check if the specified url refers to the first page in the main\n\t\t\t// application document.\n\t\t\tisFirstPageUrl: function( url ) {\n\t\t\t\t// We only deal with absolute paths.\n\t\t\t\tvar u = path.parseUrl( path.makeUrlAbsolute( url, this.documentBase ) ),\n\n\t\t\t\t\t// Does the url have the same path as the document?\n\t\t\t\t\tsamePath = u.hrefNoHash === this.documentUrl.hrefNoHash ||\n\t\t\t\t\t\t( this.documentBaseDiffers &&\n\t\t\t\t\t\t\tu.hrefNoHash === this.documentBase.hrefNoHash ),\n\n\t\t\t\t\t// Get the first page element.\n\t\t\t\t\tfp = $.mobile.firstPage,\n\n\t\t\t\t\t// Get the id of the first page element if it has one.\n\t\t\t\t\tfpId = fp && fp[0] ? fp[0].id : undefined;\n\n\t\t\t\t// The url refers to the first page if the path matches the document and\n\t\t\t\t// it either has no hash value, or the hash is exactly equal to the id\n\t\t\t\t// of the first page element.\n\t\t\t\treturn samePath &&\n\t\t\t\t\t( !u.hash ||\n\t\t\t\t\t\tu.hash === \"#\" ||\n\t\t\t\t\t\t( fpId && u.hash.replace( /^#/, \"\" ) === fpId ) );\n\t\t\t},\n\n\t\t\t// Some embedded browsers, like the web view in Phone Gap, allow\n\t\t\t// cross-domain XHR requests if the document doing the request was loaded\n\t\t\t// via the file:// protocol. This is usually to allow the application to\n\t\t\t// \"phone home\" and fetch app specific data. We normally let the browser\n\t\t\t// handle external/cross-domain urls, but if the allowCrossDomainPages\n\t\t\t// option is true, we will allow cross-domain http/https requests to go\n\t\t\t// through our page loading logic.\n\t\t\tisPermittedCrossDomainRequest: function( docUrl, reqUrl ) {\n\t\t\t\treturn $.mobile.allowCrossDomainPages &&\n\t\t\t\t\t(docUrl.protocol === \"file:\" || docUrl.protocol === \"content:\") &&\n\t\t\t\t\treqUrl.search( /^https?:/ ) !== -1;\n\t\t\t}\n\t\t};\n\n\t\tpath.documentUrl = path.parseLocation();\n\n\t\t$base = $( \"head\" ).find( \"base\" );\n\n\t\tpath.documentBase = $base.length ?\n\t\t\tpath.parseUrl( path.makeUrlAbsolute( $base.attr( \"href\" ), path.documentUrl.href ) ) :\n\t\t\tpath.documentUrl;\n\n\t\tpath.documentBaseDiffers = (path.documentUrl.hrefNoHash !== path.documentBase.hrefNoHash);\n\n\t\t//return the original document base url\n\t\tpath.getDocumentBase = function( asParsedObject ) {\n\t\t\treturn asParsedObject ? $.extend( {}, path.documentBase ) : path.documentBase.href;\n\t\t};\n\n\t\t// DEPRECATED as of 1.4.0 - remove in 1.5.0\n\t\t$.extend( $.mobile, {\n\n\t\t\t//return the original document url\n\t\t\tgetDocumentUrl: path.getDocumentUrl,\n\n\t\t\t//return the original document base url\n\t\t\tgetDocumentBase: path.getDocumentBase\n\t\t});\n})( jQuery );\n\n\n\n(function( $, undefined ) {\n\t$.mobile.History = function( stack, index ) {\n\t\tthis.stack = stack || [];\n\t\tthis.activeIndex = index || 0;\n\t};\n\n\t$.extend($.mobile.History.prototype, {\n\t\tgetActive: function() {\n\t\t\treturn this.stack[ this.activeIndex ];\n\t\t},\n\n\t\tgetLast: function() {\n\t\t\treturn this.stack[ this.previousIndex ];\n\t\t},\n\n\t\tgetNext: function() {\n\t\t\treturn this.stack[ this.activeIndex + 1 ];\n\t\t},\n\n\t\tgetPrev: function() {\n\t\t\treturn this.stack[ this.activeIndex - 1 ];\n\t\t},\n\n\t\t// addNew is used whenever a new page is added\n\t\tadd: function( url, data ) {\n\t\t\tdata = data || {};\n\n\t\t\t//if there's forward history, wipe it\n\t\t\tif ( this.getNext() ) {\n\t\t\t\tthis.clearForward();\n\t\t\t}\n\n\t\t\t// if the hash is included in the data make sure the shape\n\t\t\t// is consistent for comparison\n\t\t\tif ( data.hash && data.hash.indexOf( \"#\" ) === -1) {\n\t\t\t\tdata.hash = \"#\" + data.hash;\n\t\t\t}\n\n\t\t\tdata.url = url;\n\t\t\tthis.stack.push( data );\n\t\t\tthis.activeIndex = this.stack.length - 1;\n\t\t},\n\n\t\t//wipe urls ahead of active index\n\t\tclearForward: function() {\n\t\t\tthis.stack = this.stack.slice( 0, this.activeIndex + 1 );\n\t\t},\n\n\t\tfind: function( url, stack, earlyReturn ) {\n\t\t\tstack = stack || this.stack;\n\n\t\t\tvar entry, i, length = stack.length, index;\n\n\t\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\t\tentry = stack[i];\n\n\t\t\t\tif ( decodeURIComponent(url) === decodeURIComponent(entry.url) ||\n\t\t\t\t\tdecodeURIComponent(url) === decodeURIComponent(entry.hash) ) {\n\t\t\t\t\tindex = i;\n\n\t\t\t\t\tif ( earlyReturn ) {\n\t\t\t\t\t\treturn index;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn index;\n\t\t},\n\n\t\tclosest: function( url ) {\n\t\t\tvar closest, a = this.activeIndex;\n\n\t\t\t// First, take the slice of the history stack before the current index and search\n\t\t\t// for a url match. If one is found, we'll avoid avoid looking through forward history\n\t\t\t// NOTE the preference for backward history movement is driven by the fact that\n\t\t\t//      most mobile browsers only have a dedicated back button, and users rarely use\n\t\t\t//      the forward button in desktop browser anyhow\n\t\t\tclosest = this.find( url, this.stack.slice(0, a) );\n\n\t\t\t// If nothing was found in backward history check forward. The `true`\n\t\t\t// value passed as the third parameter causes the find method to break\n\t\t\t// on the first match in the forward history slice. The starting index\n\t\t\t// of the slice must then be added to the result to get the element index\n\t\t\t// in the original history stack :( :(\n\t\t\t//\n\t\t\t// TODO this is hyper confusing and should be cleaned up (ugh so bad)\n\t\t\tif ( closest === undefined ) {\n\t\t\t\tclosest = this.find( url, this.stack.slice(a), true );\n\t\t\t\tclosest = closest === undefined ? closest : closest + a;\n\t\t\t}\n\n\t\t\treturn closest;\n\t\t},\n\n\t\tdirect: function( opts ) {\n\t\t\tvar newActiveIndex = this.closest( opts.url ), a = this.activeIndex;\n\n\t\t\t// save new page index, null check to prevent falsey 0 result\n\t\t\t// record the previous index for reference\n\t\t\tif ( newActiveIndex !== undefined ) {\n\t\t\t\tthis.activeIndex = newActiveIndex;\n\t\t\t\tthis.previousIndex = a;\n\t\t\t}\n\n\t\t\t// invoke callbacks where appropriate\n\t\t\t//\n\t\t\t// TODO this is also convoluted and confusing\n\t\t\tif ( newActiveIndex < a ) {\n\t\t\t\t( opts.present || opts.back || $.noop )( this.getActive(), \"back\" );\n\t\t\t} else if ( newActiveIndex > a ) {\n\t\t\t\t( opts.present || opts.forward || $.noop )( this.getActive(), \"forward\" );\n\t\t\t} else if ( newActiveIndex === undefined && opts.missing ) {\n\t\t\t\topts.missing( this.getActive() );\n\t\t\t}\n\t\t}\n\t});\n})( jQuery );\n\n\n\n(function( $, undefined ) {\n\tvar path = $.mobile.path,\n\t\tinitialHref = location.href;\n\n\t$.mobile.Navigator = function( history ) {\n\t\tthis.history = history;\n\t\tthis.ignoreInitialHashChange = true;\n\n\t\t$.mobile.window.bind({\n\t\t\t\"popstate.history\": $.proxy( this.popstate, this ),\n\t\t\t\"hashchange.history\": $.proxy( this.hashchange, this )\n\t\t});\n\t};\n\n\t$.extend($.mobile.Navigator.prototype, {\n\t\tsquash: function( url, data ) {\n\t\t\tvar state, href, hash = path.isPath(url) ? path.stripHash(url) : url;\n\n\t\t\thref = path.squash( url );\n\n\t\t\t// make sure to provide this information when it isn't explicitly set in the\n\t\t\t// data object that was passed to the squash method\n\t\t\tstate = $.extend({\n\t\t\t\thash: hash,\n\t\t\t\turl: href\n\t\t\t}, data);\n\n\t\t\t// replace the current url with the new href and store the state\n\t\t\t// Note that in some cases we might be replacing an url with the\n\t\t\t// same url. We do this anyways because we need to make sure that\n\t\t\t// all of our history entries have a state object associated with\n\t\t\t// them. This allows us to work around the case where $.mobile.back()\n\t\t\t// is called to transition from an external page to an embedded page.\n\t\t\t// In that particular case, a hashchange event is *NOT* generated by the browser.\n\t\t\t// Ensuring each history entry has a state object means that onPopState()\n\t\t\t// will always trigger our hashchange callback even when a hashchange event\n\t\t\t// is not fired.\n\t\t\twindow.history.replaceState( state, state.title || document.title, href );\n\n\t\t\treturn state;\n\t\t},\n\n\t\thash: function( url, href ) {\n\t\t\tvar parsed, loc, hash, resolved;\n\n\t\t\t// Grab the hash for recording. If the passed url is a path\n\t\t\t// we used the parsed version of the squashed url to reconstruct,\n\t\t\t// otherwise we assume it's a hash and store it directly\n\t\t\tparsed = path.parseUrl( url );\n\t\t\tloc = path.parseLocation();\n\n\t\t\tif ( loc.pathname + loc.search === parsed.pathname + parsed.search ) {\n\t\t\t\t// If the pathname and search of the passed url is identical to the current loc\n\t\t\t\t// then we must use the hash. Otherwise there will be no event\n\t\t\t\t// eg, url = \"/foo/bar?baz#bang\", location.href = \"http://example.com/foo/bar?baz\"\n\t\t\t\thash = parsed.hash ? parsed.hash : parsed.pathname + parsed.search;\n\t\t\t} else if ( path.isPath(url) ) {\n\t\t\t\tresolved = path.parseUrl( href );\n\t\t\t\t// If the passed url is a path, make it domain relative and remove any trailing hash\n\t\t\t\thash = resolved.pathname + resolved.search + (path.isPreservableHash( resolved.hash )? resolved.hash.replace( \"#\", \"\" ) : \"\");\n\t\t\t} else {\n\t\t\t\thash = url;\n\t\t\t}\n\n\t\t\treturn hash;\n\t\t},\n\n\t\t// TODO reconsider name\n\t\tgo: function( url, data, noEvents ) {\n\t\t\tvar state, href, hash, popstateEvent,\n\t\t\t\tisPopStateEvent = $.event.special.navigate.isPushStateEnabled();\n\n\t\t\t// Get the url as it would look squashed on to the current resolution url\n\t\t\thref = path.squash( url );\n\n\t\t\t// sort out what the hash sould be from the url\n\t\t\thash = this.hash( url, href );\n\n\t\t\t// Here we prevent the next hash change or popstate event from doing any\n\t\t\t// history management. In the case of hashchange we don't swallow it\n\t\t\t// if there will be no hashchange fired (since that won't reset the value)\n\t\t\t// and will swallow the following hashchange\n\t\t\tif ( noEvents && hash !== path.stripHash(path.parseLocation().hash) ) {\n\t\t\t\tthis.preventNextHashChange = noEvents;\n\t\t\t}\n\n\t\t\t// IMPORTANT in the case where popstate is supported the event will be triggered\n\t\t\t//      directly, stopping further execution - ie, interupting the flow of this\n\t\t\t//      method call to fire bindings at this expression. Below the navigate method\n\t\t\t//      there is a binding to catch this event and stop its propagation.\n\t\t\t//\n\t\t\t//      We then trigger a new popstate event on the window with a null state\n\t\t\t//      so that the navigate events can conclude their work properly\n\t\t\t//\n\t\t\t// if the url is a path we want to preserve the query params that are available on\n\t\t\t// the current url.\n\t\t\tthis.preventHashAssignPopState = true;\n\t\t\twindow.location.hash = hash;\n\n\t\t\t// If popstate is enabled and the browser triggers `popstate` events when the hash\n\t\t\t// is set (this often happens immediately in browsers like Chrome), then the\n\t\t\t// this flag will be set to false already. If it's a browser that does not trigger\n\t\t\t// a `popstate` on hash assignement or `replaceState` then we need avoid the branch\n\t\t\t// that swallows the event created by the popstate generated by the hash assignment\n\t\t\t// At the time of this writing this happens with Opera 12 and some version of IE\n\t\t\tthis.preventHashAssignPopState = false;\n\n\t\t\tstate = $.extend({\n\t\t\t\turl: href,\n\t\t\t\thash: hash,\n\t\t\t\ttitle: document.title\n\t\t\t}, data);\n\n\t\t\tif ( isPopStateEvent ) {\n\t\t\t\tpopstateEvent = new $.Event( \"popstate\" );\n\t\t\t\tpopstateEvent.originalEvent = {\n\t\t\t\t\ttype: \"popstate\",\n\t\t\t\t\tstate: null\n\t\t\t\t};\n\n\t\t\t\tthis.squash( url, state );\n\n\t\t\t\t// Trigger a new faux popstate event to replace the one that we\n\t\t\t\t// caught that was triggered by the hash setting above.\n\t\t\t\tif ( !noEvents ) {\n\t\t\t\t\tthis.ignorePopState = true;\n\t\t\t\t\t$.mobile.window.trigger( popstateEvent );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// record the history entry so that the information can be included\n\t\t\t// in hashchange event driven navigate events in a similar fashion to\n\t\t\t// the state that's provided by popstate\n\t\t\tthis.history.add( state.url, state );\n\t\t},\n\n\t\t// This binding is intended to catch the popstate events that are fired\n\t\t// when execution of the `$.navigate` method stops at window.location.hash = url;\n\t\t// and completely prevent them from propagating. The popstate event will then be\n\t\t// retriggered after execution resumes\n\t\t//\n\t\t// TODO grab the original event here and use it for the synthetic event in the\n\t\t//      second half of the navigate execution that will follow this binding\n\t\tpopstate: function( event ) {\n\t\t\tvar hash, state;\n\n\t\t\t// Partly to support our test suite which manually alters the support\n\t\t\t// value to test hashchange. Partly to prevent all around weirdness\n\t\t\tif ( !$.event.special.navigate.isPushStateEnabled() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If this is the popstate triggered by the actual alteration of the hash\n\t\t\t// prevent it completely. History is tracked manually\n\t\t\tif ( this.preventHashAssignPopState ) {\n\t\t\t\tthis.preventHashAssignPopState = false;\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if this is the popstate triggered after the `replaceState` call in the go\n\t\t\t// method, then simply ignore it. The history entry has already been captured\n\t\t\tif ( this.ignorePopState ) {\n\t\t\t\tthis.ignorePopState = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If there is no state, and the history stack length is one were\n\t\t\t// probably getting the page load popstate fired by browsers like chrome\n\t\t\t// avoid it and set the one time flag to false.\n\t\t\t// TODO: Do we really need all these conditions? Comparing location hrefs\n\t\t\t// should be sufficient.\n\t\t\tif ( !event.originalEvent.state &&\n\t\t\t\tthis.history.stack.length === 1 &&\n\t\t\t\tthis.ignoreInitialHashChange ) {\n\t\t\t\tthis.ignoreInitialHashChange = false;\n\n\t\t\t\tif ( location.href === initialHref ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// account for direct manipulation of the hash. That is, we will receive a popstate\n\t\t\t// when the hash is changed by assignment, and it won't have a state associated. We\n\t\t\t// then need to squash the hash. See below for handling of hash assignment that\n\t\t\t// matches an existing history entry\n\t\t\t// TODO it might be better to only add to the history stack\n\t\t\t//      when the hash is adjacent to the active history entry\n\t\t\thash = path.parseLocation().hash;\n\t\t\tif ( !event.originalEvent.state && hash ) {\n\t\t\t\t// squash the hash that's been assigned on the URL with replaceState\n\t\t\t\t// also grab the resulting state object for storage\n\t\t\t\tstate = this.squash( hash );\n\n\t\t\t\t// record the new hash as an additional history entry\n\t\t\t\t// to match the browser's treatment of hash assignment\n\t\t\t\tthis.history.add( state.url, state );\n\n\t\t\t\t// pass the newly created state information\n\t\t\t\t// along with the event\n\t\t\t\tevent.historyState = state;\n\n\t\t\t\t// do not alter history, we've added a new history entry\n\t\t\t\t// so we know where we are\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If all else fails this is a popstate that comes from the back or forward buttons\n\t\t\t// make sure to set the state of our history stack properly, and record the directionality\n\t\t\tthis.history.direct({\n\t\t\t\turl: (event.originalEvent.state || {}).url || hash,\n\n\t\t\t\t// When the url is either forward or backward in history include the entry\n\t\t\t\t// as data on the event object for merging as data in the navigate event\n\t\t\t\tpresent: function( historyEntry, direction ) {\n\t\t\t\t\t// make sure to create a new object to pass down as the navigate event data\n\t\t\t\t\tevent.historyState = $.extend({}, historyEntry);\n\t\t\t\t\tevent.historyState.direction = direction;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// NOTE must bind before `navigate` special event hashchange binding otherwise the\n\t\t//      navigation data won't be attached to the hashchange event in time for those\n\t\t//      bindings to attach it to the `navigate` special event\n\t\t// TODO add a check here that `hashchange.navigate` is bound already otherwise it's\n\t\t//      broken (exception?)\n\t\thashchange: function( event ) {\n\t\t\tvar history, hash;\n\n\t\t\t// If hashchange listening is explicitly disabled or pushstate is supported\n\t\t\t// avoid making use of the hashchange handler.\n\t\t\tif (!$.event.special.navigate.isHashChangeEnabled() ||\n\t\t\t\t$.event.special.navigate.isPushStateEnabled() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// On occasion explicitly want to prevent the next hash from propogating because we only\n\t\t\t// with to alter the url to represent the new state do so here\n\t\t\tif ( this.preventNextHashChange ) {\n\t\t\t\tthis.preventNextHashChange = false;\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\thistory = this.history;\n\t\t\thash = path.parseLocation().hash;\n\n\t\t\t// If this is a hashchange caused by the back or forward button\n\t\t\t// make sure to set the state of our history stack properly\n\t\t\tthis.history.direct({\n\t\t\t\turl: hash,\n\n\t\t\t\t// When the url is either forward or backward in history include the entry\n\t\t\t\t// as data on the event object for merging as data in the navigate event\n\t\t\t\tpresent: function( historyEntry, direction ) {\n\t\t\t\t\t// make sure to create a new object to pass down as the navigate event data\n\t\t\t\t\tevent.hashchangeState = $.extend({}, historyEntry);\n\t\t\t\t\tevent.hashchangeState.direction = direction;\n\t\t\t\t},\n\n\t\t\t\t// When we don't find a hash in our history clearly we're aiming to go there\n\t\t\t\t// record the entry as new for future traversal\n\t\t\t\t//\n\t\t\t\t// NOTE it's not entirely clear that this is the right thing to do given that we\n\t\t\t\t//      can't know the users intention. It might be better to explicitly _not_\n\t\t\t\t//      support location.hash assignment in preference to $.navigate calls\n\t\t\t\t// TODO first arg to add should be the href, but it causes issues in identifying\n\t\t\t\t//      embeded pages\n\t\t\t\tmissing: function() {\n\t\t\t\t\thistory.add( hash, {\n\t\t\t\t\t\thash: hash,\n\t\t\t\t\t\ttitle: document.title\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})( jQuery );\n\n\n\n(function( $, undefined ) {\n\t// TODO consider queueing navigation activity until previous activities have completed\n\t//      so that end users don't have to think about it. Punting for now\n\t// TODO !! move the event bindings into callbacks on the navigate event\n\t$.mobile.navigate = function( url, data, noEvents ) {\n\t\t$.mobile.navigate.navigator.go( url, data, noEvents );\n\t};\n\n\t// expose the history on the navigate method in anticipation of full integration with\n\t// existing navigation functionalty that is tightly coupled to the history information\n\t$.mobile.navigate.history = new $.mobile.History();\n\n\t// instantiate an instance of the navigator for use within the $.navigate method\n\t$.mobile.navigate.navigator = new $.mobile.Navigator( $.mobile.navigate.history );\n\n\tvar loc = $.mobile.path.parseLocation();\n\t$.mobile.navigate.history.add( loc.href, {hash: loc.hash} );\n})( jQuery );\n\n\n// This plugin is an experiment for abstracting away the touch and mouse\n// events so that developers don't have to worry about which method of input\n// the device their document is loaded on supports.\n//\n// The idea here is to allow the developer to register listeners for the\n// basic mouse events, such as mousedown, mousemove, mouseup, and click,\n// and the plugin will take care of registering the correct listeners\n// behind the scenes to invoke the listener at the fastest possible time\n// for that device, while still retaining the order of event firing in\n// the traditional mouse environment, should multiple handlers be registered\n// on the same element for different events.\n//\n// The current version exposes the following virtual events to jQuery bind methods:\n// \"vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel\"\n\n(function( $, window, document, undefined ) {\n\nvar dataPropertyName = \"virtualMouseBindings\",\n\ttouchTargetPropertyName = \"virtualTouchID\",\n\tvirtualEventNames = \"vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel\".split( \" \" ),\n\ttouchEventProps = \"clientX clientY pageX pageY screenX screenY\".split( \" \" ),\n\tmouseHookProps = $.event.mouseHooks ? $.event.mouseHooks.props : [],\n\tmouseEventProps = $.event.props.concat( mouseHookProps ),\n\tactiveDocHandlers = {},\n\tresetTimerID = 0,\n\tstartX = 0,\n\tstartY = 0,\n\tdidScroll = false,\n\tclickBlockList = [],\n\tblockMouseTriggers = false,\n\tblockTouchTriggers = false,\n\teventCaptureSupported = \"addEventListener\" in document,\n\t$document = $( document ),\n\tnextTouchID = 1,\n\tlastTouchID = 0, threshold,\n\ti;\n\n$.vmouse = {\n\tmoveDistanceThreshold: 10,\n\tclickDistanceThreshold: 10,\n\tresetTimerDuration: 1500\n};\n\nfunction getNativeEvent( event ) {\n\n\twhile ( event && typeof event.originalEvent !== \"undefined\" ) {\n\t\tevent = event.originalEvent;\n\t}\n\treturn event;\n}\n\nfunction createVirtualEvent( event, eventType ) {\n\n\tvar t = event.type,\n\t\toe, props, ne, prop, ct, touch, i, j, len;\n\n\tevent = $.Event( event );\n\tevent.type = eventType;\n\n\toe = event.originalEvent;\n\tprops = $.event.props;\n\n\t// addresses separation of $.event.props in to $.event.mouseHook.props and Issue 3280\n\t// https://github.com/jquery/jquery-mobile/issues/3280\n\tif ( t.search( /^(mouse|click)/ ) > -1 ) {\n\t\tprops = mouseEventProps;\n\t}\n\n\t// copy original event properties over to the new event\n\t// this would happen if we could call $.event.fix instead of $.Event\n\t// but we don't have a way to force an event to be fixed multiple times\n\tif ( oe ) {\n\t\tfor ( i = props.length, prop; i; ) {\n\t\t\tprop = props[ --i ];\n\t\t\tevent[ prop ] = oe[ prop ];\n\t\t}\n\t}\n\n\t// make sure that if the mouse and click virtual events are generated\n\t// without a .which one is defined\n\tif ( t.search(/mouse(down|up)|click/) > -1 && !event.which ) {\n\t\tevent.which = 1;\n\t}\n\n\tif ( t.search(/^touch/) !== -1 ) {\n\t\tne = getNativeEvent( oe );\n\t\tt = ne.touches;\n\t\tct = ne.changedTouches;\n\t\ttouch = ( t && t.length ) ? t[0] : ( ( ct && ct.length ) ? ct[ 0 ] : undefined );\n\n\t\tif ( touch ) {\n\t\t\tfor ( j = 0, len = touchEventProps.length; j < len; j++) {\n\t\t\t\tprop = touchEventProps[ j ];\n\t\t\t\tevent[ prop ] = touch[ prop ];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn event;\n}\n\nfunction getVirtualBindingFlags( element ) {\n\n\tvar flags = {},\n\t\tb, k;\n\n\twhile ( element ) {\n\n\t\tb = $.data( element, dataPropertyName );\n\n\t\tfor (  k in b ) {\n\t\t\tif ( b[ k ] ) {\n\t\t\t\tflags[ k ] = flags.hasVirtualBinding = true;\n\t\t\t}\n\t\t}\n\t\telement = element.parentNode;\n\t}\n\treturn flags;\n}\n\nfunction getClosestElementWithVirtualBinding( element, eventType ) {\n\tvar b;\n\twhile ( element ) {\n\n\t\tb = $.data( element, dataPropertyName );\n\n\t\tif ( b && ( !eventType || b[ eventType ] ) ) {\n\t\t\treturn element;\n\t\t}\n\t\telement = element.parentNode;\n\t}\n\treturn null;\n}\n\nfunction enableTouchBindings() {\n\tblockTouchTriggers = false;\n}\n\nfunction disableTouchBindings() {\n\tblockTouchTriggers = true;\n}\n\nfunction enableMouseBindings() {\n\tlastTouchID = 0;\n\tclickBlockList.length = 0;\n\tblockMouseTriggers = false;\n\n\t// When mouse bindings are enabled, our\n\t// touch bindings are disabled.\n\tdisableTouchBindings();\n}\n\nfunction disableMouseBindings() {\n\t// When mouse bindings are disabled, our\n\t// touch bindings are enabled.\n\tenableTouchBindings();\n}\n\nfunction startResetTimer() {\n\tclearResetTimer();\n\tresetTimerID = setTimeout( function() {\n\t\tresetTimerID = 0;\n\t\tenableMouseBindings();\n\t}, $.vmouse.resetTimerDuration );\n}\n\nfunction clearResetTimer() {\n\tif ( resetTimerID ) {\n\t\tclearTimeout( resetTimerID );\n\t\tresetTimerID = 0;\n\t}\n}\n\nfunction triggerVirtualEvent( eventType, event, flags ) {\n\tvar ve;\n\n\tif ( ( flags && flags[ eventType ] ) ||\n\t\t\t\t( !flags && getClosestElementWithVirtualBinding( event.target, eventType ) ) ) {\n\n\t\tve = createVirtualEvent( event, eventType );\n\n\t\t$( event.target).trigger( ve );\n\t}\n\n\treturn ve;\n}\n\nfunction mouseEventCallback( event ) {\n\tvar touchID = $.data( event.target, touchTargetPropertyName ),\n\t\tve;\n\n\tif ( !blockMouseTriggers && ( !lastTouchID || lastTouchID !== touchID ) ) {\n\t\tve = triggerVirtualEvent( \"v\" + event.type, event );\n\t\tif ( ve ) {\n\t\t\tif ( ve.isDefaultPrevented() ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\tif ( ve.isPropagationStopped() ) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t\tif ( ve.isImmediatePropagationStopped() ) {\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction handleTouchStart( event ) {\n\n\tvar touches = getNativeEvent( event ).touches,\n\t\ttarget, flags, t;\n\n\tif ( touches && touches.length === 1 ) {\n\n\t\ttarget = event.target;\n\t\tflags = getVirtualBindingFlags( target );\n\n\t\tif ( flags.hasVirtualBinding ) {\n\n\t\t\tlastTouchID = nextTouchID++;\n\t\t\t$.data( target, touchTargetPropertyName, lastTouchID );\n\n\t\t\tclearResetTimer();\n\n\t\t\tdisableMouseBindings();\n\t\t\tdidScroll = false;\n\n\t\t\tt = getNativeEvent( event ).touches[ 0 ];\n\t\t\tstartX = t.pageX;\n\t\t\tstartY = t.pageY;\n\n\t\t\ttriggerVirtualEvent( \"vmouseover\", event, flags );\n\t\t\ttriggerVirtualEvent( \"vmousedown\", event, flags );\n\t\t}\n\t}\n}\n\nfunction handleScroll( event ) {\n\tif ( blockTouchTriggers ) {\n\t\treturn;\n\t}\n\n\tif ( !didScroll ) {\n\t\ttriggerVirtualEvent( \"vmousecancel\", event, getVirtualBindingFlags( event.target ) );\n\t}\n\n\tdidScroll = true;\n\tstartResetTimer();\n}\n\nfunction handleTouchMove( event ) {\n\tif ( blockTouchTriggers ) {\n\t\treturn;\n\t}\n\n\tvar t = getNativeEvent( event ).touches[ 0 ],\n\t\tdidCancel = didScroll,\n\t\tmoveThreshold = $.vmouse.moveDistanceThreshold,\n\t\tflags = getVirtualBindingFlags( event.target );\n\n\t\tdidScroll = didScroll ||\n\t\t\t( Math.abs( t.pageX - startX ) > moveThreshold ||\n\t\t\t\tMath.abs( t.pageY - startY ) > moveThreshold );\n\n\tif ( didScroll && !didCancel ) {\n\t\ttriggerVirtualEvent( \"vmousecancel\", event, flags );\n\t}\n\n\ttriggerVirtualEvent( \"vmousemove\", event, flags );\n\tstartResetTimer();\n}\n\nfunction handleTouchEnd( event ) {\n\tif ( blockTouchTriggers ) {\n\t\treturn;\n\t}\n\n\tdisableTouchBindings();\n\n\tvar flags = getVirtualBindingFlags( event.target ),\n\t\tve, t;\n\ttriggerVirtualEvent( \"vmouseup\", event, flags );\n\n\tif ( !didScroll ) {\n\t\tve = triggerVirtualEvent( \"vclick\", event, flags );\n\t\tif ( ve && ve.isDefaultPrevented() ) {\n\t\t\t// The target of the mouse events that follow the touchend\n\t\t\t// event don't necessarily match the target used during the\n\t\t\t// touch. This means we need to rely on coordinates for blocking\n\t\t\t// any click that is generated.\n\t\t\tt = getNativeEvent( event ).changedTouches[ 0 ];\n\t\t\tclickBlockList.push({\n\t\t\t\ttouchID: lastTouchID,\n\t\t\t\tx: t.clientX,\n\t\t\t\ty: t.clientY\n\t\t\t});\n\n\t\t\t// Prevent any mouse events that follow from triggering\n\t\t\t// virtual event notifications.\n\t\t\tblockMouseTriggers = true;\n\t\t}\n\t}\n\ttriggerVirtualEvent( \"vmouseout\", event, flags);\n\tdidScroll = false;\n\n\tstartResetTimer();\n}\n\nfunction hasVirtualBindings( ele ) {\n\tvar bindings = $.data( ele, dataPropertyName ),\n\t\tk;\n\n\tif ( bindings ) {\n\t\tfor ( k in bindings ) {\n\t\t\tif ( bindings[ k ] ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction dummyMouseHandler() {}\n\nfunction getSpecialEventObject( eventType ) {\n\tvar realType = eventType.substr( 1 );\n\n\treturn {\n\t\tsetup: function(/* data, namespace */) {\n\t\t\t// If this is the first virtual mouse binding for this element,\n\t\t\t// add a bindings object to its data.\n\n\t\t\tif ( !hasVirtualBindings( this ) ) {\n\t\t\t\t$.data( this, dataPropertyName, {} );\n\t\t\t}\n\n\t\t\t// If setup is called, we know it is the first binding for this\n\t\t\t// eventType, so initialize the count for the eventType to zero.\n\t\t\tvar bindings = $.data( this, dataPropertyName );\n\t\t\tbindings[ eventType ] = true;\n\n\t\t\t// If this is the first virtual mouse event for this type,\n\t\t\t// register a global handler on the document.\n\n\t\t\tactiveDocHandlers[ eventType ] = ( activeDocHandlers[ eventType ] || 0 ) + 1;\n\n\t\t\tif ( activeDocHandlers[ eventType ] === 1 ) {\n\t\t\t\t$document.bind( realType, mouseEventCallback );\n\t\t\t}\n\n\t\t\t// Some browsers, like Opera Mini, won't dispatch mouse/click events\n\t\t\t// for elements unless they actually have handlers registered on them.\n\t\t\t// To get around this, we register dummy handlers on the elements.\n\n\t\t\t$( this ).bind( realType, dummyMouseHandler );\n\n\t\t\t// For now, if event capture is not supported, we rely on mouse handlers.\n\t\t\tif ( eventCaptureSupported ) {\n\t\t\t\t// If this is the first virtual mouse binding for the document,\n\t\t\t\t// register our touchstart handler on the document.\n\n\t\t\t\tactiveDocHandlers[ \"touchstart\" ] = ( activeDocHandlers[ \"touchstart\" ] || 0) + 1;\n\n\t\t\t\tif ( activeDocHandlers[ \"touchstart\" ] === 1 ) {\n\t\t\t\t\t$document.bind( \"touchstart\", handleTouchStart )\n\t\t\t\t\t\t.bind( \"touchend\", handleTouchEnd )\n\n\t\t\t\t\t\t// On touch platforms, touching the screen and then dragging your finger\n\t\t\t\t\t\t// causes the window content to scroll after some distance threshold is\n\t\t\t\t\t\t// exceeded. On these platforms, a scroll prevents a click event from being\n\t\t\t\t\t\t// dispatched, and on some platforms, even the touchend is suppressed. To\n\t\t\t\t\t\t// mimic the suppression of the click event, we need to watch for a scroll\n\t\t\t\t\t\t// event. Unfortunately, some platforms like iOS don't dispatch scroll\n\t\t\t\t\t\t// events until *AFTER* the user lifts their finger (touchend). This means\n\t\t\t\t\t\t// we need to watch both scroll and touchmove events to figure out whether\n\t\t\t\t\t\t// or not a scroll happenens before the touchend event is fired.\n\n\t\t\t\t\t\t.bind( \"touchmove\", handleTouchMove )\n\t\t\t\t\t\t.bind( \"scroll\", handleScroll );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tteardown: function(/* data, namespace */) {\n\t\t\t// If this is the last virtual binding for this eventType,\n\t\t\t// remove its global handler from the document.\n\n\t\t\t--activeDocHandlers[ eventType ];\n\n\t\t\tif ( !activeDocHandlers[ eventType ] ) {\n\t\t\t\t$document.unbind( realType, mouseEventCallback );\n\t\t\t}\n\n\t\t\tif ( eventCaptureSupported ) {\n\t\t\t\t// If this is the last virtual mouse binding in existence,\n\t\t\t\t// remove our document touchstart listener.\n\n\t\t\t\t--activeDocHandlers[ \"touchstart\" ];\n\n\t\t\t\tif ( !activeDocHandlers[ \"touchstart\" ] ) {\n\t\t\t\t\t$document.unbind( \"touchstart\", handleTouchStart )\n\t\t\t\t\t\t.unbind( \"touchmove\", handleTouchMove )\n\t\t\t\t\t\t.unbind( \"touchend\", handleTouchEnd )\n\t\t\t\t\t\t.unbind( \"scroll\", handleScroll );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar $this = $( this ),\n\t\t\t\tbindings = $.data( this, dataPropertyName );\n\n\t\t\t// teardown may be called when an element was\n\t\t\t// removed from the DOM. If this is the case,\n\t\t\t// jQuery core may have already stripped the element\n\t\t\t// of any data bindings so we need to check it before\n\t\t\t// using it.\n\t\t\tif ( bindings ) {\n\t\t\t\tbindings[ eventType ] = false;\n\t\t\t}\n\n\t\t\t// Unregister the dummy event handler.\n\n\t\t\t$this.unbind( realType, dummyMouseHandler );\n\n\t\t\t// If this is the last virtual mouse binding on the\n\t\t\t// element, remove the binding data from the element.\n\n\t\t\tif ( !hasVirtualBindings( this ) ) {\n\t\t\t\t$this.removeData( dataPropertyName );\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Expose our custom events to the jQuery bind/unbind mechanism.\n\nfor ( i = 0; i < virtualEventNames.length; i++ ) {\n\t$.event.special[ virtualEventNames[ i ] ] = getSpecialEventObject( virtualEventNames[ i ] );\n}\n\n// Add a capture click handler to block clicks.\n// Note that we require event capture support for this so if the device\n// doesn't support it, we punt for now and rely solely on mouse events.\nif ( eventCaptureSupported ) {\n\tdocument.addEventListener( \"click\", function( e ) {\n\t\tvar cnt = clickBlockList.length,\n\t\t\ttarget = e.target,\n\t\t\tx, y, ele, i, o, touchID;\n\n\t\tif ( cnt ) {\n\t\t\tx = e.clientX;\n\t\t\ty = e.clientY;\n\t\t\tthreshold = $.vmouse.clickDistanceThreshold;\n\n\t\t\t// The idea here is to run through the clickBlockList to see if\n\t\t\t// the current click event is in the proximity of one of our\n\t\t\t// vclick events that had preventDefault() called on it. If we find\n\t\t\t// one, then we block the click.\n\t\t\t//\n\t\t\t// Why do we have to rely on proximity?\n\t\t\t//\n\t\t\t// Because the target of the touch event that triggered the vclick\n\t\t\t// can be different from the target of the click event synthesized\n\t\t\t// by the browser. The target of a mouse/click event that is synthesized\n\t\t\t// from a touch event seems to be implementation specific. For example,\n\t\t\t// some browsers will fire mouse/click events for a link that is near\n\t\t\t// a touch event, even though the target of the touchstart/touchend event\n\t\t\t// says the user touched outside the link. Also, it seems that with most\n\t\t\t// browsers, the target of the mouse/click event is not calculated until the\n\t\t\t// time it is dispatched, so if you replace an element that you touched\n\t\t\t// with another element, the target of the mouse/click will be the new\n\t\t\t// element underneath that point.\n\t\t\t//\n\t\t\t// Aside from proximity, we also check to see if the target and any\n\t\t\t// of its ancestors were the ones that blocked a click. This is necessary\n\t\t\t// because of the strange mouse/click target calculation done in the\n\t\t\t// Android 2.1 browser, where if you click on an element, and there is a\n\t\t\t// mouse/click handler on one of its ancestors, the target will be the\n\t\t\t// innermost child of the touched element, even if that child is no where\n\t\t\t// near the point of touch.\n\n\t\t\tele = target;\n\n\t\t\twhile ( ele ) {\n\t\t\t\tfor ( i = 0; i < cnt; i++ ) {\n\t\t\t\t\to = clickBlockList[ i ];\n\t\t\t\t\ttouchID = 0;\n\n\t\t\t\t\tif ( ( ele === target && Math.abs( o.x - x ) < threshold && Math.abs( o.y - y ) < threshold ) ||\n\t\t\t\t\t\t\t\t$.data( ele, touchTargetPropertyName ) === o.touchID ) {\n\t\t\t\t\t\t// XXX: We may want to consider removing matches from the block list\n\t\t\t\t\t\t//      instead of waiting for the reset timer to fire.\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tele = ele.parentNode;\n\t\t\t}\n\t\t}\n\t}, true);\n}\n})( jQuery, window, document );\n\n\n(function( $, window, undefined ) {\n\tvar $document = $( document ),\n\t\tsupportTouch = $.mobile.support.touch,\n\t\tscrollEvent = \"touchmove scroll\",\n\t\ttouchStartEvent = supportTouch ? \"touchstart\" : \"mousedown\",\n\t\ttouchStopEvent = supportTouch ? \"touchend\" : \"mouseup\",\n\t\ttouchMoveEvent = supportTouch ? \"touchmove\" : \"mousemove\";\n\n\t// setup new event shortcuts\n\t$.each( ( \"touchstart touchmove touchend \" +\n\t\t\"tap taphold \" +\n\t\t\"swipe swipeleft swiperight \" +\n\t\t\"scrollstart scrollstop\" ).split( \" \" ), function( i, name ) {\n\n\t\t$.fn[ name ] = function( fn ) {\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\n\t\t};\n\n\t\t// jQuery < 1.8\n\t\tif ( $.attrFn ) {\n\t\t\t$.attrFn[ name ] = true;\n\t\t}\n\t});\n\n\tfunction triggerCustomEvent( obj, eventType, event ) {\n\t\tvar originalType = event.type;\n\t\tevent.type = eventType;\n\t\t$.event.dispatch.call( obj, event );\n\t\tevent.type = originalType;\n\t}\n\n\t// also handles scrollstop\n\t$.event.special.scrollstart = {\n\n\t\tenabled: true,\n\t\tsetup: function() {\n\n\t\t\tvar thisObject = this,\n\t\t\t\t$this = $( thisObject ),\n\t\t\t\tscrolling,\n\t\t\t\ttimer;\n\n\t\t\tfunction trigger( event, state ) {\n\t\t\t\tscrolling = state;\n\t\t\t\ttriggerCustomEvent( thisObject, scrolling ? \"scrollstart\" : \"scrollstop\", event );\n\t\t\t}\n\n\t\t\t// iPhone triggers scroll after a small delay; use touchmove instead\n\t\t\t$this.bind( scrollEvent, function( event ) {\n\n\t\t\t\tif ( !$.event.special.scrollstart.enabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif ( !scrolling ) {\n\t\t\t\t\ttrigger( event, true );\n\t\t\t\t}\n\n\t\t\t\tclearTimeout( timer );\n\t\t\t\ttimer = setTimeout( function() {\n\t\t\t\t\ttrigger( event, false );\n\t\t\t\t}, 50 );\n\t\t\t});\n\t\t},\n\t\tteardown: function() {\n\t\t\t$( this ).unbind( scrollEvent );\n\t\t}\n\t};\n\n\t// also handles taphold\n\t$.event.special.tap = {\n\t\ttapholdThreshold: 750,\n\t\temitTapOnTaphold: true,\n\t\tsetup: function() {\n\t\t\tvar thisObject = this,\n\t\t\t\t$this = $( thisObject ),\n\t\t\t\tisTaphold = false;\n\n\t\t\t$this.bind( \"vmousedown\", function( event ) {\n\t\t\t\tisTaphold = false;\n\t\t\t\tif ( event.which && event.which !== 1 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar origTarget = event.target,\n\t\t\t\t\ttimer;\n\n\t\t\t\tfunction clearTapTimer() {\n\t\t\t\t\tclearTimeout( timer );\n\t\t\t\t}\n\n\t\t\t\tfunction clearTapHandlers() {\n\t\t\t\t\tclearTapTimer();\n\n\t\t\t\t\t$this.unbind( \"vclick\", clickHandler )\n\t\t\t\t\t\t.unbind( \"vmouseup\", clearTapTimer );\n\t\t\t\t\t$document.unbind( \"vmousecancel\", clearTapHandlers );\n\t\t\t\t}\n\n\t\t\t\tfunction clickHandler( event ) {\n\t\t\t\t\tclearTapHandlers();\n\n\t\t\t\t\t// ONLY trigger a 'tap' event if the start target is\n\t\t\t\t\t// the same as the stop target.\n\t\t\t\t\tif ( !isTaphold && origTarget === event.target ) {\n\t\t\t\t\t\ttriggerCustomEvent( thisObject, \"tap\", event );\n\t\t\t\t\t} else if ( isTaphold ) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$this.bind( \"vmouseup\", clearTapTimer )\n\t\t\t\t\t.bind( \"vclick\", clickHandler );\n\t\t\t\t$document.bind( \"vmousecancel\", clearTapHandlers );\n\n\t\t\t\ttimer = setTimeout( function() {\n\t\t\t\t\tif ( !$.event.special.tap.emitTapOnTaphold ) {\n\t\t\t\t\t\tisTaphold = true;\n\t\t\t\t\t}\n\t\t\t\t\ttriggerCustomEvent( thisObject, \"taphold\", $.Event( \"taphold\", { target: origTarget } ) );\n\t\t\t\t}, $.event.special.tap.tapholdThreshold );\n\t\t\t});\n\t\t},\n\t\tteardown: function() {\n\t\t\t$( this ).unbind( \"vmousedown\" ).unbind( \"vclick\" ).unbind( \"vmouseup\" );\n\t\t\t$document.unbind( \"vmousecancel\" );\n\t\t}\n\t};\n\n\t// also handles swipeleft, swiperight\n\t$.event.special.swipe = {\n\t\tscrollSupressionThreshold: 30, // More than this horizontal displacement, and we will suppress scrolling.\n\n\t\tdurationThreshold: 1000, // More time than this, and it isn't a swipe.\n\n\t\thorizontalDistanceThreshold: 30,  // Swipe horizontal displacement must be more than this.\n\n\t\tverticalDistanceThreshold: 75,  // Swipe vertical displacement must be less than this.\n\n\t\tstart: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event;\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ data.pageX, data.pageY ],\n\t\t\t\t\t\torigin: $( event.target )\n\t\t\t\t\t};\n\t\t},\n\n\t\tstop: function( event ) {\n\t\t\tvar data = event.originalEvent.touches ?\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event;\n\t\t\treturn {\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\n\t\t\t\t\t\tcoords: [ data.pageX, data.pageY ]\n\t\t\t\t\t};\n\t\t},\n\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\n\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }) );\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ) );\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\n\t\t},\n\n\t\tsetup: function() {\n\t\t\tvar thisObject = this,\n\t\t\t\t$this = $( thisObject );\n\n\t\t\t$this.bind( touchStartEvent, function( event ) {\n\t\t\t\tvar stop,\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\n\t\t\t\t\torigTarget = event.target,\n\t\t\t\t\temitted = false;\n\n\t\t\t\tfunction moveHandler( event ) {\n\t\t\t\t\tif ( !start ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\n\t\t\t\t\tif ( !emitted ) {\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\n\t\t\t\t\t}\n\t\t\t\t\t// prevent scrolling\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$this.bind( touchMoveEvent, moveHandler )\n\t\t\t\t\t.one( touchStopEvent, function() {\n\t\t\t\t\t\temitted = true;\n\t\t\t\t\t\t$this.unbind( touchMoveEvent, moveHandler );\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tteardown: function() {\n\t\t\t$( this ).unbind( touchStartEvent ).unbind( touchMoveEvent ).unbind( touchStopEvent );\n\t\t}\n\t};\n\t$.each({\n\t\tscrollstop: \"scrollstart\",\n\t\ttaphold: \"tap\",\n\t\tswipeleft: \"swipe\",\n\t\tswiperight: \"swipe\"\n\t}, function( event, sourceEvent ) {\n\n\t\t$.event.special[ event ] = {\n\t\t\tsetup: function() {\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\t$( this ).unbind( sourceEvent );\n\t\t\t}\n\t\t};\n\t});\n\n})( jQuery, this );\n\n\n\t// throttled resize event\n\t(function( $ ) {\n\t\t$.event.special.throttledresize = {\n\t\t\tsetup: function() {\n\t\t\t\t$( this ).bind( \"resize\", handler );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\t$( this ).unbind( \"resize\", handler );\n\t\t\t}\n\t\t};\n\n\t\tvar throttle = 250,\n\t\t\thandler = function() {\n\t\t\t\tcurr = ( new Date() ).getTime();\n\t\t\t\tdiff = curr - lastCall;\n\n\t\t\t\tif ( diff >= throttle ) {\n\n\t\t\t\t\tlastCall = curr;\n\t\t\t\t\t$( this ).trigger( \"throttledresize\" );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( heldCall ) {\n\t\t\t\t\t\tclearTimeout( heldCall );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Promise a held call will still execute\n\t\t\t\t\theldCall = setTimeout( handler, throttle - diff );\n\t\t\t\t}\n\t\t\t},\n\t\t\tlastCall = 0,\n\t\t\theldCall,\n\t\t\tcurr,\n\t\t\tdiff;\n\t})( jQuery );\n\n\n(function( $, window ) {\n\tvar win = $( window ),\n\t\tevent_name = \"orientationchange\",\n\t\tget_orientation,\n\t\tlast_orientation,\n\t\tinitial_orientation_is_landscape,\n\t\tinitial_orientation_is_default,\n\t\tportrait_map = { \"0\": true, \"180\": true },\n\t\tww, wh, landscape_threshold;\n\n\t// It seems that some device/browser vendors use window.orientation values 0 and 180 to\n\t// denote the \"default\" orientation. For iOS devices, and most other smart-phones tested,\n\t// the default orientation is always \"portrait\", but in some Android and RIM based tablets,\n\t// the default orientation is \"landscape\". The following code attempts to use the window\n\t// dimensions to figure out what the current orientation is, and then makes adjustments\n\t// to the to the portrait_map if necessary, so that we can properly decode the\n\t// window.orientation value whenever get_orientation() is called.\n\t//\n\t// Note that we used to use a media query to figure out what the orientation the browser\n\t// thinks it is in:\n\t//\n\t//     initial_orientation_is_landscape = $.mobile.media(\"all and (orientation: landscape)\");\n\t//\n\t// but there was an iPhone/iPod Touch bug beginning with iOS 4.2, up through iOS 5.1,\n\t// where the browser *ALWAYS* applied the landscape media query. This bug does not\n\t// happen on iPad.\n\n\tif ( $.support.orientation ) {\n\n\t\t// Check the window width and height to figure out what the current orientation\n\t\t// of the device is at this moment. Note that we've initialized the portrait map\n\t\t// values to 0 and 180, *AND* we purposely check for landscape so that if we guess\n\t\t// wrong, , we default to the assumption that portrait is the default orientation.\n\t\t// We use a threshold check below because on some platforms like iOS, the iPhone\n\t\t// form-factor can report a larger width than height if the user turns on the\n\t\t// developer console. The actual threshold value is somewhat arbitrary, we just\n\t\t// need to make sure it is large enough to exclude the developer console case.\n\n\t\tww = window.innerWidth || win.width();\n\t\twh = window.innerHeight || win.height();\n\t\tlandscape_threshold = 50;\n\n\t\tinitial_orientation_is_landscape = ww > wh && ( ww - wh ) > landscape_threshold;\n\n\t\t// Now check to see if the current window.orientation is 0 or 180.\n\t\tinitial_orientation_is_default = portrait_map[ window.orientation ];\n\n\t\t// If the initial orientation is landscape, but window.orientation reports 0 or 180, *OR*\n\t\t// if the initial orientation is portrait, but window.orientation reports 90 or -90, we\n\t\t// need to flip our portrait_map values because landscape is the default orientation for\n\t\t// this device/browser.\n\t\tif ( ( initial_orientation_is_landscape && initial_orientation_is_default ) || ( !initial_orientation_is_landscape && !initial_orientation_is_default ) ) {\n\t\t\tportrait_map = { \"-90\": true, \"90\": true };\n\t\t}\n\t}\n\n\t$.event.special.orientationchange = $.extend( {}, $.event.special.orientationchange, {\n\t\tsetup: function() {\n\t\t\t// If the event is supported natively, return false so that jQuery\n\t\t\t// will bind to the event using DOM methods.\n\t\t\tif ( $.support.orientation && !$.event.special.orientationchange.disabled ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Get the current orientation to avoid initial double-triggering.\n\t\t\tlast_orientation = get_orientation();\n\n\t\t\t// Because the orientationchange event doesn't exist, simulate the\n\t\t\t// event by testing window dimensions on resize.\n\t\t\twin.bind( \"throttledresize\", handler );\n\t\t},\n\t\tteardown: function() {\n\t\t\t// If the event is not supported natively, return false so that\n\t\t\t// jQuery will unbind the event using DOM methods.\n\t\t\tif ( $.support.orientation && !$.event.special.orientationchange.disabled ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Because the orientationchange event doesn't exist, unbind the\n\t\t\t// resize event handler.\n\t\t\twin.unbind( \"throttledresize\", handler );\n\t\t},\n\t\tadd: function( handleObj ) {\n\t\t\t// Save a reference to the bound event handler.\n\t\t\tvar old_handler = handleObj.handler;\n\n\t\t\thandleObj.handler = function( event ) {\n\t\t\t\t// Modify event object, adding the .orientation property.\n\t\t\t\tevent.orientation = get_orientation();\n\n\t\t\t\t// Call the originally-bound event handler and return its result.\n\t\t\t\treturn old_handler.apply( this, arguments );\n\t\t\t};\n\t\t}\n\t});\n\n\t// If the event is not supported natively, this handler will be bound to\n\t// the window resize event to simulate the orientationchange event.\n\tfunction handler() {\n\t\t// Get the current orientation.\n\t\tvar orientation = get_orientation();\n\n\t\tif ( orientation !== last_orientation ) {\n\t\t\t// The orientation has changed, so trigger the orientationchange event.\n\t\t\tlast_orientation = orientation;\n\t\t\twin.trigger( event_name );\n\t\t}\n\t}\n\n\t// Get the current page orientation. This method is exposed publicly, should it\n\t// be needed, as jQuery.event.special.orientationchange.orientation()\n\t$.event.special.orientationchange.orientation = get_orientation = function() {\n\t\tvar isPortrait = true, elem = document.documentElement;\n\n\t\t// prefer window orientation to the calculation based on screensize as\n\t\t// the actual screen resize takes place before or after the orientation change event\n\t\t// has been fired depending on implementation (eg android 2.3 is before, iphone after).\n\t\t// More testing is required to determine if a more reliable method of determining the new screensize\n\t\t// is possible when orientationchange is fired. (eg, use media queries + element + opacity)\n\t\tif ( $.support.orientation ) {\n\t\t\t// if the window orientation registers as 0 or 180 degrees report\n\t\t\t// portrait, otherwise landscape\n\t\t\tisPortrait = portrait_map[ window.orientation ];\n\t\t} else {\n\t\t\tisPortrait = elem && elem.clientWidth / elem.clientHeight < 1.1;\n\t\t}\n\n\t\treturn isPortrait ? \"portrait\" : \"landscape\";\n\t};\n\n\t$.fn[ event_name ] = function( fn ) {\n\t\treturn fn ? this.bind( event_name, fn ) : this.trigger( event_name );\n\t};\n\n\t// jQuery < 1.8\n\tif ( $.attrFn ) {\n\t\t$.attrFn[ event_name ] = true;\n\t}\n\n}( jQuery, this ));\n\n\n\n\n(function( $, undefined ) {\n\n\t// existing base tag?\n\tvar baseElement = $( \"head\" ).children( \"base\" ),\n\n\t// base element management, defined depending on dynamic base tag support\n\t// TODO move to external widget\n\tbase = {\n\n\t\t// define base element, for use in routing asset urls that are referenced\n\t\t// in Ajax-requested markup\n\t\telement: ( baseElement.length ? baseElement :\n\t\t\t$( \"<base>\", { href: $.mobile.path.documentBase.hrefNoHash } ).prependTo( $( \"head\" ) ) ),\n\n\t\tlinkSelector: \"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]\",\n\n\t\t// set the generated BASE element's href to a new page's base path\n\t\tset: function( href ) {\n\n\t\t\t// we should do nothing if the user wants to manage their url base\n\t\t\t// manually\n\t\t\tif ( !$.mobile.dynamicBaseEnabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// we should use the base tag if we can manipulate it dynamically\n\t\t\tif ( $.support.dynamicBaseTag ) {\n\t\t\t\tbase.element.attr( \"href\",\n\t\t\t\t\t$.mobile.path.makeUrlAbsolute( href, $.mobile.path.documentBase ) );\n\t\t\t}\n\t\t},\n\n\t\trewrite: function( href, page ) {\n\t\t\tvar newPath = $.mobile.path.get( href );\n\n\t\t\tpage.find( base.linkSelector ).each(function( i, link ) {\n\t\t\t\tvar thisAttr = $( link ).is( \"[href]\" ) ? \"href\" :\n\t\t\t\t\t$( link ).is( \"[src]\" ) ? \"src\" : \"action\",\n\t\t\t\tthisUrl = $( link ).attr( thisAttr );\n\n\t\t\t\t// XXX_jblas: We need to fix this so that it removes the document\n\t\t\t\t//            base URL, and then prepends with the new page URL.\n\t\t\t\t// if full path exists and is same, chop it - helps IE out\n\t\t\t\tthisUrl = thisUrl.replace( location.protocol + \"//\" +\n\t\t\t\t\tlocation.host + location.pathname, \"\" );\n\n\t\t\t\tif ( !/^(\\w+:|#|\\/)/.test( thisUrl ) ) {\n\t\t\t\t\t$( link ).attr( thisAttr, newPath + thisUrl );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// set the generated BASE element's href to a new page's base path\n\t\treset: function(/* href */) {\n\t\t\tbase.element.attr( \"href\", $.mobile.path.documentBase.hrefNoSearch );\n\t\t}\n\t};\n\n\t$.mobile.base = base;\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n$.mobile.widgets = {};\n\nvar originalWidget = $.widget,\n\n\t// Record the original, non-mobileinit-modified version of $.mobile.keepNative\n\t// so we can later determine whether someone has modified $.mobile.keepNative\n\tkeepNativeFactoryDefault = $.mobile.keepNative;\n\n$.widget = (function( orig ) {\n\treturn function() {\n\t\tvar constructor = orig.apply( this, arguments ),\n\t\t\tname = constructor.prototype.widgetName;\n\n\t\tconstructor.initSelector = ( ( constructor.prototype.initSelector !== undefined ) ?\n\t\t\tconstructor.prototype.initSelector : \":jqmData(role='\" + name + \"')\" );\n\n\t\t$.mobile.widgets[ name ] = constructor;\n\n\t\treturn constructor;\n\t};\n})( $.widget );\n\n// Make sure $.widget still has bridge and extend methods\n$.extend( $.widget, originalWidget );\n\n// For backcompat remove in 1.5\n$.mobile.document.on( \"create\", function( event ) {\n\t$( event.target ).enhanceWithin();\n});\n\n$.widget( \"mobile.page\", {\n\toptions: {\n\t\ttheme: \"a\",\n\t\tdomCache: false,\n\n\t\t// Deprecated in 1.4 remove in 1.5\n\t\tkeepNativeDefault: $.mobile.keepNative,\n\n\t\t// Deprecated in 1.4 remove in 1.5\n\t\tcontentTheme: null,\n\t\tenhanced: false\n\t},\n\n\t// DEPRECATED for > 1.4\n\t// TODO remove at 1.5\n\t_createWidget: function() {\n\t\t$.Widget.prototype._createWidget.apply( this, arguments );\n\t\tthis._trigger( \"init\" );\n\t},\n\n\t_create: function() {\n\t\t// If false is returned by the callbacks do not create the page\n\t\tif ( this._trigger( \"beforecreate\" ) === false ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( !this.options.enhanced ) {\n\t\t\tthis._enhance();\n\t\t}\n\n\t\tthis._on( this.element, {\n\t\t\tpagebeforehide: \"removeContainerBackground\",\n\t\t\tpagebeforeshow: \"_handlePageBeforeShow\"\n\t\t});\n\n\t\tthis.element.enhanceWithin();\n\t\t// Dialog widget is deprecated in 1.4 remove this in 1.5\n\t\tif ( $.mobile.getAttribute( this.element[0], \"role\" ) === \"dialog\" && $.mobile.dialog ) {\n\t\t\tthis.element.dialog();\n\t\t}\n\t},\n\n\t_enhance: function () {\n\t\tvar attrPrefix = \"data-\" + $.mobile.ns,\n\t\t\tself = this;\n\n\t\tif ( this.options.role ) {\n\t\t\tthis.element.attr( \"data-\" + $.mobile.ns + \"role\", this.options.role );\n\t\t}\n\n\t\tthis.element\n\t\t\t.attr( \"tabindex\", \"0\" )\n\t\t\t.addClass( \"ui-page ui-page-theme-\" + this.options.theme );\n\n\t\t// Manipulation of content os Deprecated as of 1.4 remove in 1.5\n\t\tthis.element.find( \"[\" + attrPrefix + \"role='content']\" ).each( function() {\n\t\t\tvar $this = $( this ),\n\t\t\t\ttheme = this.getAttribute( attrPrefix + \"theme\" ) || undefined;\n\t\t\t\tself.options.contentTheme = theme || self.options.contentTheme || ( self.options.dialog && self.options.theme ) || ( self.element.jqmData(\"role\") === \"dialog\" &&  self.options.theme );\n\t\t\t\t$this.addClass( \"ui-content\" );\n\t\t\t\tif ( self.options.contentTheme ) {\n\t\t\t\t\t$this.addClass( \"ui-body-\" + ( self.options.contentTheme ) );\n\t\t\t\t}\n\t\t\t\t// Add ARIA role\n\t\t\t\t$this.attr( \"role\", \"main\" ).addClass( \"ui-content\" );\n\t\t});\n\t},\n\n\tbindRemove: function( callback ) {\n\t\tvar page = this.element;\n\n\t\t// when dom caching is not enabled or the page is embedded bind to remove the page on hide\n\t\tif ( !page.data( \"mobile-page\" ).options.domCache &&\n\t\t\tpage.is( \":jqmData(external-page='true')\" ) ) {\n\n\t\t\t// TODO use _on - that is, sort out why it doesn't work in this case\n\t\t\tpage.bind( \"pagehide.remove\", callback || function( e, data ) {\n\n\t\t\t\t//check if this is a same page transition and if so don't remove the page\n\t\t\t\tif( !data.samePage ){\n\t\t\t\t\tvar $this = $( this ),\n\t\t\t\t\t\tprEvent = new $.Event( \"pageremove\" );\n\n\t\t\t\t\t$this.trigger( prEvent );\n\n\t\t\t\t\tif ( !prEvent.isDefaultPrevented() ) {\n\t\t\t\t\t\t$this.removeWithDependents();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t_setOptions: function( o ) {\n\t\tif ( o.theme !== undefined ) {\n\t\t\tthis.element.removeClass( \"ui-body-\" + this.options.theme ).addClass( \"ui-body-\" + o.theme );\n\t\t}\n\n\t\tif ( o.contentTheme !== undefined ) {\n\t\t\tthis.element.find( \"[data-\" + $.mobile.ns + \"='content']\" ).removeClass( \"ui-body-\" + this.options.contentTheme )\n\t\t\t\t.addClass( \"ui-body-\" + o.contentTheme );\n\t\t}\n\t},\n\n\t_handlePageBeforeShow: function(/* e */) {\n\t\tthis.setContainerBackground();\n\t},\n\t// Deprecated in 1.4 remove in 1.5\n\tremoveContainerBackground: function() {\n\t\tthis.element.closest( \":mobile-pagecontainer\" ).pagecontainer({ \"theme\": \"none\" });\n\t},\n\t// Deprecated in 1.4 remove in 1.5\n\t// set the page container background to the page theme\n\tsetContainerBackground: function( theme ) {\n\t\tthis.element.parent().pagecontainer( { \"theme\": theme || this.options.theme } );\n\t},\n\t// Deprecated in 1.4 remove in 1.5\n\tkeepNativeSelector: function() {\n\t\tvar options = this.options,\n\t\t\tkeepNative = $.trim( options.keepNative || \"\" ),\n\t\t\tglobalValue = $.trim( $.mobile.keepNative ),\n\t\t\toptionValue = $.trim( options.keepNativeDefault ),\n\n\t\t\t// Check if $.mobile.keepNative has changed from the factory default\n\t\t\tnewDefault = ( keepNativeFactoryDefault === globalValue ?\n\t\t\t\t\"\" : globalValue ),\n\n\t\t\t// If $.mobile.keepNative has not changed, use options.keepNativeDefault\n\t\t\toldDefault = ( newDefault === \"\" ? optionValue : \"\" );\n\n\t\t// Concatenate keepNative selectors from all sources where the value has\n\t\t// changed or, if nothing has changed, return the default\n\t\treturn ( ( keepNative ? [ keepNative ] : [] )\n\t\t\t.concat( newDefault ? [ newDefault ] : [] )\n\t\t\t.concat( oldDefault ? [ oldDefault ] : [] )\n\t\t\t.join( \", \" ) );\n\t}\n});\n})( jQuery );\n\n(function( $, undefined ) {\n\n\t$.widget( \"mobile.pagecontainer\", {\n\t\toptions: {\n\t\t\ttheme: \"a\"\n\t\t},\n\n\t\tinitSelector: false,\n\n\t\t_create: function() {\n\t\t\tthis.setLastScrollEnabled = true;\n\n\t\t\t// TODO consider moving the navigation handler OUT of widget into\n\t\t\t//      some other object as glue between the navigate event and the\n\t\t\t//      content widget load and change methods\n\t\t\tthis._on( this.window, { navigate: \"_filterNavigateEvents\" });\n\n\t\t\tthis._on( this.window, {\n\t\t\t\t// disable an scroll setting when a hashchange has been fired,\n\t\t\t\t// this only works because the recording of the scroll position\n\t\t\t\t// is delayed for 100ms after the browser might have changed the\n\t\t\t\t// position because of the hashchange\n\t\t\t\tnavigate: \"_disableRecordScroll\",\n\n\t\t\t\t// bind to scrollstop for the first page, \"pagechange\" won't be\n\t\t\t\t// fired in that case\n\t\t\t\tscrollstop: \"_delayedRecordScroll\"\n\t\t\t});\n\n\t\t\t// TODO move from page* events to content* events\n\t\t\tthis._on({ pagechange: \"_afterContentChange\" });\n\n\t\t\t// handle initial hashchange from chrome :(\n\t\t\tthis.window.one( \"navigate\", $.proxy(function() {\n\t\t\t\tthis.setLastScrollEnabled = true;\n\t\t\t}, this));\n\t\t},\n\n\t\t_setOptions: function( options ) {\n\t\t\tif ( options.theme !== undefined && options.theme !== \"none\" ) {\n\t\t\t\tthis.element.removeClass( \"ui-overlay-\" + this.options.theme )\n\t\t\t\t\t.addClass( \"ui-overlay-\" + options.theme );\n\t\t\t} else if ( options.theme !== undefined ) {\n\t\t\t\tthis.element.removeClass( \"ui-overlay-\" + this.options.theme );\n\t\t\t}\n\n\t\t\tthis._super( options );\n\t\t},\n\n\t\t_disableRecordScroll: function() {\n\t\t\tthis.setLastScrollEnabled = false;\n\t\t},\n\n\t\t_enableRecordScroll: function() {\n\t\t\tthis.setLastScrollEnabled = true;\n\t\t},\n\n\t\t// TODO consider the name here, since it's purpose specific\n\t\t_afterContentChange: function() {\n\t\t\t// once the page has changed, re-enable the scroll recording\n\t\t\tthis.setLastScrollEnabled = true;\n\n\t\t\t// remove any binding that previously existed on the get scroll\n\t\t\t// which may or may not be different than the scroll element\n\t\t\t// determined for this page previously\n\t\t\tthis._off( this.window, \"scrollstop\" );\n\n\t\t\t// determine and bind to the current scoll element which may be the\n\t\t\t// window or in the case of touch overflow the element touch overflow\n\t\t\tthis._on( this.window, { scrollstop: \"_delayedRecordScroll\" });\n\t\t},\n\n\t\t_recordScroll: function() {\n\t\t\t// this barrier prevents setting the scroll value based on\n\t\t\t// the browser scrolling the window based on a hashchange\n\t\t\tif ( !this.setLastScrollEnabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar active = this._getActiveHistory(),\n\t\t\t\tcurrentScroll, minScroll, defaultScroll;\n\n\t\t\tif ( active ) {\n\t\t\t\tcurrentScroll = this._getScroll();\n\t\t\t\tminScroll = this._getMinScroll();\n\t\t\t\tdefaultScroll = this._getDefaultScroll();\n\n\t\t\t\t// Set active page's lastScroll prop. If the location we're\n\t\t\t\t// scrolling to is less than minScrollBack, let it go.\n\t\t\t\tactive.lastScroll = currentScroll < minScroll ? defaultScroll : currentScroll;\n\t\t\t}\n\t\t},\n\n\t\t_delayedRecordScroll: function() {\n\t\t\tsetTimeout( $.proxy(this, \"_recordScroll\"), 100 );\n\t\t},\n\n\t\t_getScroll: function() {\n\t\t\treturn this.window.scrollTop();\n\t\t},\n\n\t\t_getMinScroll: function() {\n\t\t\treturn $.mobile.minScrollBack;\n\t\t},\n\n\t\t_getDefaultScroll: function() {\n\t\t\treturn $.mobile.defaultHomeScroll;\n\t\t},\n\n\t\t_filterNavigateEvents: function( e, data ) {\n\t\t\tvar url;\n\n\t\t\tif ( e.originalEvent && e.originalEvent.isDefaultPrevented() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\turl = e.originalEvent.type.indexOf( \"hashchange\" ) > -1 ? data.state.hash : data.state.url;\n\n\t\t\tif ( !url ) {\n\t\t\t\turl = this._getHash();\n\t\t\t}\n\n\t\t\tif ( !url || url === \"#\" || url.indexOf( \"#\" + $.mobile.path.uiStateKey ) === 0 ) {\n\t\t\t\turl = location.href;\n\t\t\t}\n\n\t\t\tthis._handleNavigate( url, data.state );\n\t\t},\n\n\t\t_getHash: function() {\n\t\t\treturn $.mobile.path.parseLocation().hash;\n\t\t},\n\n\t\t// TODO active page should be managed by the container (ie, it should be a property)\n\t\tgetActivePage: function() {\n\t\t\treturn this.activePage;\n\t\t},\n\n\t\t// TODO the first page should be a property set during _create using the logic\n\t\t//      that currently resides in init\n\t\t_getInitialContent: function() {\n\t\t\treturn $.mobile.firstPage;\n\t\t},\n\n\t\t// TODO each content container should have a history object\n\t\t_getHistory: function() {\n\t\t\treturn $.mobile.navigate.history;\n\t\t},\n\n\t\t// TODO use _getHistory\n\t\t_getActiveHistory: function() {\n\t\t\treturn $.mobile.navigate.history.getActive();\n\t\t},\n\n\t\t// TODO the document base should be determined at creation\n\t\t_getDocumentBase: function() {\n\t\t\treturn $.mobile.path.documentBase;\n\t\t},\n\n\t\tback: function() {\n\t\t\tthis.go( -1 );\n\t\t},\n\n\t\tforward: function() {\n\t\t\tthis.go( 1 );\n\t\t},\n\n\t\tgo: function( steps ) {\n\n\t\t\t//if hashlistening is enabled use native history method\n\t\t\tif ( $.mobile.hashListeningEnabled ) {\n\t\t\t\twindow.history.go( steps );\n\t\t\t} else {\n\n\t\t\t\t//we are not listening to the hash so handle history internally\n\t\t\t\tvar activeIndex = $.mobile.navigate.history.activeIndex,\n\t\t\t\t\tindex = activeIndex + parseInt( steps, 10 ),\n\t\t\t\t\turl = $.mobile.navigate.history.stack[ index ].url,\n\t\t\t\t\tdirection = ( steps >= 1 )? \"forward\" : \"back\";\n\n\t\t\t\t//update the history object\n\t\t\t\t$.mobile.navigate.history.activeIndex = index;\n\t\t\t\t$.mobile.navigate.history.previousIndex = activeIndex;\n\n\t\t\t\t//change to the new page\n\t\t\t\tthis.change( url, { direction: direction, changeHash: false, fromHashChange: true } );\n\t\t\t}\n\t\t},\n\n\t\t// TODO rename _handleDestination\n\t\t_handleDestination: function( to ) {\n\t\t\tvar history;\n\n\t\t\t// clean the hash for comparison if it's a url\n\t\t\tif ( $.type(to) === \"string\" ) {\n\t\t\t\tto = $.mobile.path.stripHash( to );\n\t\t\t}\n\n\t\t\tif ( to ) {\n\t\t\t\thistory = this._getHistory();\n\n\t\t\t\t// At this point, 'to' can be one of 3 things, a cached page\n\t\t\t\t// element from a history stack entry, an id, or site-relative /\n\t\t\t\t// absolute URL. If 'to' is an id, we need to resolve it against\n\t\t\t\t// the documentBase, not the location.href, since the hashchange\n\t\t\t\t// could've been the result of a forward/backward navigation\n\t\t\t\t// that crosses from an external page/dialog to an internal\n\t\t\t\t// page/dialog.\n\t\t\t\t//\n\t\t\t\t// TODO move check to history object or path object?\n\t\t\t\tto = !$.mobile.path.isPath( to ) ? ( $.mobile.path.makeUrlAbsolute( \"#\" + to, this._getDocumentBase() ) ) : to;\n\n\t\t\t\t// If we're about to go to an initial URL that contains a\n\t\t\t\t// reference to a non-existent internal page, go to the first\n\t\t\t\t// page instead. We know that the initial hash refers to a\n\t\t\t\t// non-existent page, because the initial hash did not end\n\t\t\t\t// up in the initial history entry\n\t\t\t\t// TODO move check to history object?\n\t\t\t\tif ( to === $.mobile.path.makeUrlAbsolute( \"#\" + history.initialDst, this._getDocumentBase() ) &&\n\t\t\t\t\thistory.stack.length &&\n\t\t\t\t\thistory.stack[0].url !== history.initialDst.replace( $.mobile.dialogHashKey, \"\" ) ) {\n\t\t\t\t\tto = this._getInitialContent();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn to || this._getInitialContent();\n\t\t},\n\n\t\t_handleDialog: function( changePageOptions, data ) {\n\t\t\tvar to, active, activeContent = this.getActivePage();\n\n\t\t\t// If current active page is not a dialog skip the dialog and continue\n\t\t\t// in the same direction\n\t\t\tif ( activeContent && !activeContent.hasClass( \"ui-dialog\" ) ) {\n\t\t\t\t// determine if we're heading forward or backward and continue\n\t\t\t\t// accordingly past the current dialog\n\t\t\t\tif ( data.direction === \"back\" ) {\n\t\t\t\t\tthis.back();\n\t\t\t\t} else {\n\t\t\t\t\tthis.forward();\n\t\t\t\t}\n\n\t\t\t\t// prevent changePage call\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\t// if the current active page is a dialog and we're navigating\n\t\t\t\t// to a dialog use the dialog objected saved in the stack\n\t\t\t\tto = data.pageUrl;\n\t\t\t\tactive = this._getActiveHistory();\n\n\t\t\t\t// make sure to set the role, transition and reversal\n\t\t\t\t// as most of this is lost by the domCache cleaning\n\t\t\t\t$.extend( changePageOptions, {\n\t\t\t\t\trole: active.role,\n\t\t\t\t\ttransition: active.transition,\n\t\t\t\t\treverse: data.direction === \"back\"\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn to;\n\t\t},\n\n\t\t_handleNavigate: function( url, data ) {\n\t\t\t//find first page via hash\n\t\t\t// TODO stripping the hash twice with handleUrl\n\t\t\tvar to = $.mobile.path.stripHash( url ), history = this._getHistory(),\n\n\t\t\t\t// transition is false if it's the first page, undefined\n\t\t\t\t// otherwise (and may be overridden by default)\n\t\t\t\ttransition = history.stack.length === 0 ? \"none\" : undefined,\n\n\t\t\t\t// default options for the changPage calls made after examining\n\t\t\t\t// the current state of the page and the hash, NOTE that the\n\t\t\t\t// transition is derived from the previous history entry\n\t\t\t\tchangePageOptions = {\n\t\t\t\t\tchangeHash: false,\n\t\t\t\t\tfromHashChange: true,\n\t\t\t\t\treverse: data.direction === \"back\"\n\t\t\t\t};\n\n\t\t\t$.extend( changePageOptions, data, {\n\t\t\t\ttransition: ( history.getLast() || {} ).transition || transition\n\t\t\t});\n\n\t\t\t// TODO move to _handleDestination ?\n\t\t\t// If this isn't the first page, if the current url is a dialog hash\n\t\t\t// key, and the initial destination isn't equal to the current target\n\t\t\t// page, use the special dialog handling\n\t\t\tif ( history.activeIndex > 0 &&\n\t\t\t\tto.indexOf( $.mobile.dialogHashKey ) > -1 &&\n\t\t\t\thistory.initialDst !== to ) {\n\n\t\t\t\tto = this._handleDialog( changePageOptions, data );\n\n\t\t\t\tif ( to === false ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._changeContent( this._handleDestination( to ), changePageOptions );\n\t\t},\n\n\t\t_changeContent: function( to, opts ) {\n\t\t\t$.mobile.changePage( to, opts );\n\t\t},\n\n\t\t_getBase: function() {\n\t\t\treturn $.mobile.base;\n\t\t},\n\n\t\t_getNs: function() {\n\t\t\treturn $.mobile.ns;\n\t\t},\n\n\t\t_enhance: function( content, role ) {\n\t\t\t// TODO consider supporting a custom callback, and passing in\n\t\t\t// the settings which includes the role\n\t\t\treturn content.page({ role: role });\n\t\t},\n\n\t\t_include: function( page, settings ) {\n\t\t\t// append to page and enhance\n\t\t\tpage.appendTo( this.element );\n\n\t\t\t// use the page widget to enhance\n\t\t\tthis._enhance( page, settings.role );\n\n\t\t\t// remove page on hide\n\t\t\tpage.page( \"bindRemove\" );\n\t\t},\n\n\t\t_find: function( absUrl ) {\n\t\t\t// TODO consider supporting a custom callback\n\t\t\tvar fileUrl = this._createFileUrl( absUrl ),\n\t\t\t\tdataUrl = this._createDataUrl( absUrl ),\n\t\t\t\tpage, initialContent = this._getInitialContent();\n\n\t\t\t// Check to see if the page already exists in the DOM.\n\t\t\t// NOTE do _not_ use the :jqmData pseudo selector because parenthesis\n\t\t\t//      are a valid url char and it breaks on the first occurence\n\t\t\tpage = this.element\n\t\t\t\t.children( \"[data-\" + this._getNs() +\"url='\" + dataUrl + \"']\" );\n\n\t\t\t// If we failed to find the page, check to see if the url is a\n\t\t\t// reference to an embedded page. If so, it may have been dynamically\n\t\t\t// injected by a developer, in which case it would be lacking a\n\t\t\t// data-url attribute and in need of enhancement.\n\t\t\tif ( page.length === 0 && dataUrl && !$.mobile.path.isPath( dataUrl ) ) {\n\t\t\t\tpage = this.element.children( $.mobile.path.hashToSelector(\"#\" + dataUrl) )\n\t\t\t\t\t.attr( \"data-\" + this._getNs() + \"url\", dataUrl )\n\t\t\t\t\t.jqmData( \"url\", dataUrl );\n\t\t\t}\n\n\t\t\t// If we failed to find a page in the DOM, check the URL to see if it\n\t\t\t// refers to the first page in the application. Also check to make sure\n\t\t\t// our cached-first-page is actually in the DOM. Some user deployed\n\t\t\t// apps are pruning the first page from the DOM for various reasons.\n\t\t\t// We check for this case here because we don't want a first-page with\n\t\t\t// an id falling through to the non-existent embedded page error case.\n\t\t\tif ( page.length === 0 &&\n\t\t\t\t$.mobile.path.isFirstPageUrl( fileUrl ) &&\n\t\t\t\tinitialContent &&\n\t\t\t\tinitialContent.parent().length ) {\n\t\t\t\tpage = $( initialContent );\n\t\t\t}\n\n\t\t\treturn page;\n\t\t},\n\n\t\t_getLoader: function() {\n\t\t\treturn $.mobile.loading();\n\t\t},\n\n\t\t_showLoading: function( delay, theme, msg, textonly ) {\n\t\t\t// This configurable timeout allows cached pages a brief\n\t\t\t// delay to load without showing a message\n\t\t\tif ( this._loadMsg ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._loadMsg = setTimeout($.proxy(function() {\n\t\t\t\tthis._getLoader().loader( \"show\", theme, msg, textonly );\n\t\t\t\tthis._loadMsg = 0;\n\t\t\t}, this), delay );\n\t\t},\n\n\t\t_hideLoading: function() {\n\t\t\t// Stop message show timer\n\t\t\tclearTimeout( this._loadMsg );\n\t\t\tthis._loadMsg = 0;\n\n\t\t\t// Hide loading message\n\t\t\tthis._getLoader().loader( \"hide\" );\n\t\t},\n\n\t\t_showError: function() {\n\t\t\t// make sure to remove the current loading message\n\t\t\tthis._hideLoading();\n\n\t\t\t// show the error message\n\t\t\tthis._showLoading( 0, $.mobile.pageLoadErrorMessageTheme, $.mobile.pageLoadErrorMessage, true );\n\n\t\t\t// hide the error message after a delay\n\t\t\t// TODO configuration\n\t\t\tsetTimeout( $.proxy(this, \"_hideLoading\"), 1500 );\n\t\t},\n\n\t\t_parse: function( html, fileUrl ) {\n\t\t\t// TODO consider allowing customization of this method. It's very JQM specific\n\t\t\tvar page, all = $( \"<div></div>\" );\n\n\t\t\t//workaround to allow scripts to execute when included in page divs\n\t\t\tall.get( 0 ).innerHTML = html;\n\n\t\t\tpage = all.find( \":jqmData(role='page'), :jqmData(role='dialog')\" ).first();\n\n\t\t\t//if page elem couldn't be found, create one and insert the body element's contents\n\t\t\tif ( !page.length ) {\n\t\t\t\tpage = $( \"<div data-\" + this._getNs() + \"role='page'>\" +\n\t\t\t\t\t( html.split( /<\\/?body[^>]*>/gmi )[1] || \"\" ) +\n\t\t\t\t\t\"</div>\" );\n\t\t\t}\n\n\t\t\t// TODO tagging a page with external to make sure that embedded pages aren't\n\t\t\t// removed by the various page handling code is bad. Having page handling code\n\t\t\t// in many places is bad. Solutions post 1.0\n\t\t\tpage.attr( \"data-\" + this._getNs() + \"url\", $.mobile.path.convertUrlToDataUrl(fileUrl) )\n\t\t\t\t.attr( \"data-\" + this._getNs() + \"external-page\", true );\n\n\t\t\treturn page;\n\t\t},\n\n\t\t_setLoadedTitle: function( page, html ) {\n\t\t\t//page title regexp\n\t\t\tvar newPageTitle = html.match( /<title[^>]*>([^<]*)/ ) && RegExp.$1;\n\n\t\t\tif ( newPageTitle && !page.jqmData(\"title\") ) {\n\t\t\t\tnewPageTitle = $( \"<div>\" + newPageTitle + \"</div>\" ).text();\n\t\t\t\tpage.jqmData( \"title\", newPageTitle );\n\t\t\t}\n\t\t},\n\n\t\t_isRewritableBaseTag: function() {\n\t\t\treturn $.mobile.dynamicBaseEnabled && !$.support.dynamicBaseTag;\n\t\t},\n\n\t\t_createDataUrl: function( absoluteUrl ) {\n\t\t\treturn $.mobile.path.convertUrlToDataUrl( absoluteUrl );\n\t\t},\n\n\t\t_createFileUrl: function( absoluteUrl ) {\n\t\t\treturn $.mobile.path.getFilePath( absoluteUrl );\n\t\t},\n\n\t\t_triggerWithDeprecated: function( name, data, page ) {\n\t\t\tvar deprecatedEvent = $.Event( \"page\" + name ),\n\t\t\t\tnewEvent = $.Event( this.widgetName + name );\n\n\t\t\t// DEPRECATED\n\t\t\t// trigger the old deprecated event on the page if it's provided\n\t\t\t( page || this.element ).trigger( deprecatedEvent, data );\n\n\t\t\t// use the widget trigger method for the new content* event\n\t\t\tthis.element.trigger( newEvent, data );\n\n\t\t\treturn {\n\t\t\t\tdeprecatedEvent: deprecatedEvent,\n\t\t\t\tevent: newEvent\n\t\t\t};\n\t\t},\n\n\t\t// TODO it would be nice to split this up more but everything appears to be \"one off\"\n\t\t//      or require ordering such that other bits are sprinkled in between parts that\n\t\t//      could be abstracted out as a group\n\t\t_loadSuccess: function( absUrl, triggerData, settings, deferred ) {\n\t\t\tvar fileUrl = this._createFileUrl( absUrl ),\n\t\t\t\tdataUrl = this._createDataUrl( absUrl );\n\n\t\t\treturn $.proxy(function( html, textStatus, xhr ) {\n\t\t\t\t//pre-parse html to check for a data-url,\n\t\t\t\t//use it as the new fileUrl, base path, etc\n\t\t\t\tvar content,\n\n\t\t\t\t\t// TODO handle dialogs again\n\t\t\t\t\tpageElemRegex = new RegExp( \"(<[^>]+\\\\bdata-\" + this._getNs() + \"role=[\\\"']?page[\\\"']?[^>]*>)\" ),\n\n\t\t\t\t\tdataUrlRegex = new RegExp( \"\\\\bdata-\" + this._getNs() + \"url=[\\\"']?([^\\\"'>]*)[\\\"']?\" );\n\n\t\t\t\t// data-url must be provided for the base tag so resource requests\n\t\t\t\t// can be directed to the correct url. loading into a temprorary\n\t\t\t\t// element makes these requests immediately\n\t\t\t\tif ( pageElemRegex.test( html ) &&\n\t\t\t\t\tRegExp.$1 &&\n\t\t\t\t\tdataUrlRegex.test( RegExp.$1 ) &&\n\t\t\t\t\tRegExp.$1 ) {\n\t\t\t\t\tfileUrl = $.mobile.path.getFilePath( $(\"<div>\" + RegExp.$1 + \"</div>\").text() );\n\t\t\t\t}\n\n\t\t\t\t//dont update the base tag if we are prefetching\n\t\t\t\tif ( settings.prefetch === undefined ) {\n\t\t\t\t\tthis._getBase().set( fileUrl );\n\t\t\t\t}\n\n\t\t\t\tcontent = this._parse( html, fileUrl );\n\n\t\t\t\tthis._setLoadedTitle( content, html );\n\n\t\t\t\t// Add the content reference and xhr to our triggerData.\n\t\t\t\ttriggerData.xhr = xhr;\n\t\t\t\ttriggerData.textStatus = textStatus;\n\n\t\t\t\t// DEPRECATED\n\t\t\t\ttriggerData.page = content;\n\n\t\t\t\ttriggerData.content = content;\n\n\t\t\t\t// If the default behavior is prevented, stop here!\n\t\t\t\t// Note that it is the responsibility of the listener/handler\n\t\t\t\t// that called preventDefault(), to resolve/reject the\n\t\t\t\t// deferred object within the triggerData.\n\t\t\t\tif ( !this._trigger( \"load\", undefined, triggerData ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// rewrite src and href attrs to use a base url if the base tag won't work\n\t\t\t\tif ( this._isRewritableBaseTag() && content ) {\n\t\t\t\t\tthis._getBase().rewrite( fileUrl, content );\n\t\t\t\t}\n\n\t\t\t\tthis._include( content, settings );\n\n\t\t\t\t// Enhancing the content may result in new dialogs/sub content being inserted\n\t\t\t\t// into the DOM. If the original absUrl refers to a sub-content, that is the\n\t\t\t\t// real content we are interested in.\n\t\t\t\tif ( absUrl.indexOf( \"&\" + $.mobile.subPageUrlKey ) > -1 ) {\n\t\t\t\t\tcontent = this.element.children( \"[data-\" + this._getNs() +\"url='\" + dataUrl + \"']\" );\n\t\t\t\t}\n\n\t\t\t\t// Remove loading message.\n\t\t\t\tif ( settings.showLoadMsg ) {\n\t\t\t\t\tthis._hideLoading();\n\t\t\t\t}\n\n\t\t\t\t// BEGIN DEPRECATED ---------------------------------------------------\n\t\t\t\t// Let listeners know the content loaded successfully.\n\t\t\t\tthis.element.trigger( \"pageload\" );\n\t\t\t\t// END DEPRECATED -----------------------------------------------------\n\n\t\t\t\tdeferred.resolve( absUrl, settings, content );\n\t\t\t}, this);\n\t\t},\n\n\t\t_loadDefaults: {\n\t\t\ttype: \"get\",\n\t\t\tdata: undefined,\n\n\t\t\t// DEPRECATED\n\t\t\treloadPage: false,\n\n\t\t\treload: false,\n\n\t\t\t// By default we rely on the role defined by the @data-role attribute.\n\t\t\trole: undefined,\n\n\t\t\tshowLoadMsg: false,\n\n\t\t\t// This delay allows loads that pull from browser cache to\n\t\t\t// occur without showing the loading message.\n\t\t\tloadMsgDelay: 50\n\t\t},\n\n\t\tload: function( url, options ) {\n\t\t\t// This function uses deferred notifications to let callers\n\t\t\t// know when the content is done loading, or if an error has occurred.\n\t\t\tvar deferred = ( options && options.deferred ) || $.Deferred(),\n\n\t\t\t\t// The default load options with overrides specified by the caller.\n\t\t\t\tsettings = $.extend( {}, this._loadDefaults, options ),\n\n\t\t\t\t// The DOM element for the content after it has been loaded.\n\t\t\t\tcontent = null,\n\n\t\t\t\t// The absolute version of the URL passed into the function. This\n\t\t\t\t// version of the URL may contain dialog/subcontent params in it.\n\t\t\t\tabsUrl = $.mobile.path.makeUrlAbsolute( url, this._findBaseWithDefault() ),\n\t\t\t\tfileUrl, dataUrl, pblEvent, triggerData;\n\n\t\t\t// DEPRECATED reloadPage\n\t\t\tsettings.reload = settings.reloadPage;\n\n\t\t\t// If the caller provided data, and we're using \"get\" request,\n\t\t\t// append the data to the URL.\n\t\t\tif ( settings.data && settings.type === \"get\" ) {\n\t\t\t\tabsUrl = $.mobile.path.addSearchParams( absUrl, settings.data );\n\t\t\t\tsettings.data = undefined;\n\t\t\t}\n\n\t\t\t// If the caller is using a \"post\" request, reload must be true\n\t\t\tif ( settings.data && settings.type === \"post\" ) {\n\t\t\t\tsettings.reload = true;\n\t\t\t}\n\n\t\t\t// The absolute version of the URL minus any dialog/subcontent params.\n\t\t\t// In otherwords the real URL of the content to be loaded.\n\t\t\tfileUrl = this._createFileUrl( absUrl );\n\n\t\t\t// The version of the Url actually stored in the data-url attribute of\n\t\t\t// the content. For embedded content, it is just the id of the page. For\n\t\t\t// content within the same domain as the document base, it is the site\n\t\t\t// relative path. For cross-domain content (Phone Gap only) the entire\n\t\t\t// absolute Url is used to load the content.\n\t\t\tdataUrl = this._createDataUrl( absUrl );\n\n\t\t\tcontent = this._find( absUrl );\n\n\t\t\t// If it isn't a reference to the first content and refers to missing\n\t\t\t// embedded content reject the deferred and return\n\t\t\tif ( content.length === 0 &&\n\t\t\t\t$.mobile.path.isEmbeddedPage(fileUrl) &&\n\t\t\t\t!$.mobile.path.isFirstPageUrl(fileUrl) ) {\n\t\t\t\tdeferred.reject( absUrl, settings );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Reset base to the default document base\n\t\t\t// TODO figure out why we doe this\n\t\t\tthis._getBase().reset();\n\n\t\t\t// If the content we are interested in is already in the DOM,\n\t\t\t// and the caller did not indicate that we should force a\n\t\t\t// reload of the file, we are done. Resolve the deferrred so that\n\t\t\t// users can bind to .done on the promise\n\t\t\tif ( content.length && !settings.reload ) {\n\t\t\t\tthis._enhance( content, settings.role );\n\t\t\t\tdeferred.resolve( absUrl, settings, content );\n\n\t\t\t\t//if we are reloading the content make sure we update\n\t\t\t\t// the base if its not a prefetch\n\t\t\t\tif ( !settings.prefetch ) {\n\t\t\t\t\tthis._getBase().set(url);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttriggerData = {\n\t\t\t\turl: url,\n\t\t\t\tabsUrl: absUrl,\n\t\t\t\tdataUrl: dataUrl,\n\t\t\t\tdeferred: deferred,\n\t\t\t\toptions: settings\n\t\t\t};\n\n\t\t\t// Let listeners know we're about to load content.\n\t\t\tpblEvent = this._triggerWithDeprecated( \"beforeload\", triggerData );\n\n\t\t\t// If the default behavior is prevented, stop here!\n\t\t\tif ( pblEvent.deprecatedEvent.isDefaultPrevented() ||\n\t\t\t\tpblEvent.event.isDefaultPrevented() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( settings.showLoadMsg ) {\n\t\t\t\tthis._showLoading( settings.loadMsgDelay );\n\t\t\t}\n\n\t\t\t// Reset base to the default document base.\n\t\t\t// only reset if we are not prefetching\n\t\t\tif ( settings.prefetch === undefined ) {\n\t\t\t\tthis._getBase().reset();\n\t\t\t}\n\n\t\t\tif ( !( $.mobile.allowCrossDomainPages ||\n\t\t\t\t$.mobile.path.isSameDomain($.mobile.path.documentUrl, absUrl ) ) ) {\n\t\t\t\tdeferred.reject( absUrl, settings );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Load the new content.\n\t\t\t$.ajax({\n\t\t\t\turl: fileUrl,\n\t\t\t\ttype: settings.type,\n\t\t\t\tdata: settings.data,\n\t\t\t\tcontentType: settings.contentType,\n\t\t\t\tdataType: \"html\",\n\t\t\t\tsuccess: this._loadSuccess( absUrl, triggerData, settings, deferred ),\n\t\t\t\terror: this._loadError( absUrl, triggerData, settings, deferred )\n\t\t\t});\n\t\t},\n\n\t\t_loadError: function( absUrl, triggerData, settings, deferred ) {\n\t\t\treturn $.proxy(function( xhr, textStatus, errorThrown ) {\n\t\t\t\t//set base back to current path\n\t\t\t\tthis._getBase().set( $.mobile.path.get() );\n\n\t\t\t\t// Add error info to our triggerData.\n\t\t\t\ttriggerData.xhr = xhr;\n\t\t\t\ttriggerData.textStatus = textStatus;\n\t\t\t\ttriggerData.errorThrown = errorThrown;\n\n\t\t\t\t// Let listeners know the page load failed.\n\t\t\t\tvar plfEvent = this._triggerWithDeprecated( \"loadfailed\", triggerData );\n\n\t\t\t\t// If the default behavior is prevented, stop here!\n\t\t\t\t// Note that it is the responsibility of the listener/handler\n\t\t\t\t// that called preventDefault(), to resolve/reject the\n\t\t\t\t// deferred object within the triggerData.\n\t\t\t\tif ( plfEvent.deprecatedEvent.isDefaultPrevented() ||\n\t\t\t\t\tplfEvent.event.isDefaultPrevented() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Remove loading message.\n\t\t\t\tif ( settings.showLoadMsg ) {\n\t\t\t\t\tthis._showError();\n\t\t\t\t}\n\n\t\t\t\tdeferred.reject( absUrl, settings );\n\t\t\t}, this);\n\t\t},\n\n\t\t_getTransitionHandler: function( transition ) {\n\t\t\ttransition = $.mobile._maybeDegradeTransition( transition );\n\n\t\t\t//find the transition handler for the specified transition. If there\n\t\t\t//isn't one in our transitionHandlers dictionary, use the default one.\n\t\t\t//call the handler immediately to kick-off the transition.\n\t\t\treturn $.mobile.transitionHandlers[ transition ] || $.mobile.defaultTransitionHandler;\n\t\t},\n\n\t\t// TODO move into transition handlers?\n\t\t_triggerCssTransitionEvents: function( to, from, prefix ) {\n\t\t\tvar samePage = false;\n\n\t\t\tprefix = prefix || \"\";\n\n\t\t\t// TODO decide if these events should in fact be triggered on the container\n\t\t\tif ( from ) {\n\n\t\t\t\t//Check if this is a same page transition and tell the handler in page\n\t\t\t\tif( to[0] === from[0] ){\n\t\t\t\t\tsamePage = true;\n\t\t\t\t}\n\n\t\t\t\t//trigger before show/hide events\n\t\t\t\t// TODO deprecate nextPage in favor of next\n\t\t\t\tthis._triggerWithDeprecated( prefix + \"hide\", { nextPage: to, samePage: samePage }, from );\n\t\t\t}\n\n\t\t\t// TODO deprecate prevPage in favor of previous\n\t\t\tthis._triggerWithDeprecated( prefix + \"show\", { prevPage: from || $( \"\" ) }, to );\n\t\t},\n\n\t\t// TODO make private once change has been defined in the widget\n\t\t_cssTransition: function( to, from, options ) {\n\t\t\tvar transition = options.transition,\n\t\t\t\treverse = options.reverse,\n\t\t\t\tdeferred = options.deferred,\n\t\t\t\tTransitionHandler,\n\t\t\t\tpromise;\n\n\t\t\tthis._triggerCssTransitionEvents( to, from, \"before\" );\n\n\t\t\t// TODO put this in a binding to events *outside* the widget\n\t\t\tthis._hideLoading();\n\n\t\t\tTransitionHandler = this._getTransitionHandler( transition );\n\n\t\t\tpromise = ( new TransitionHandler( transition, reverse, to, from ) ).transition();\n\n\t\t\t// TODO temporary accomodation of argument deferred\n\t\t\tpromise.done(function() {\n\t\t\t\tdeferred.resolve.apply( deferred, arguments );\n\t\t\t});\n\n\t\t\tpromise.done($.proxy(function() {\n\t\t\t\tthis._triggerCssTransitionEvents( to, from );\n\t\t\t}, this));\n\t\t},\n\n\t\t_releaseTransitionLock: function() {\n\t\t\t//release transition lock so navigation is free again\n\t\t\tisPageTransitioning = false;\n\t\t\tif ( pageTransitionQueue.length > 0 ) {\n\t\t\t\t$.mobile.changePage.apply( null, pageTransitionQueue.pop() );\n\t\t\t}\n\t\t},\n\n\t\t_removeActiveLinkClass: function( force ) {\n\t\t\t//clear out the active button state\n\t\t\t$.mobile.removeActiveLinkClass( force );\n\t\t},\n\n\t\t_loadUrl: function( to, triggerData, settings ) {\n\t\t\t// preserve the original target as the dataUrl value will be\n\t\t\t// simplified eg, removing ui-state, and removing query params\n\t\t\t// from the hash this is so that users who want to use query\n\t\t\t// params have access to them in the event bindings for the page\n\t\t\t// life cycle See issue #5085\n\t\t\tsettings.target = to;\n\t\t\tsettings.deferred = $.Deferred();\n\n\t\t\tthis.load( to, settings );\n\n\t\t\tsettings.deferred.done($.proxy(function( url, options, content ) {\n\t\t\t\tisPageTransitioning = false;\n\n\t\t\t\t// store the original absolute url so that it can be provided\n\t\t\t\t// to events in the triggerData of the subsequent changePage call\n\t\t\t\toptions.absUrl = triggerData.absUrl;\n\n\t\t\t\tthis.transition( content, triggerData, options );\n\t\t\t}, this));\n\n\t\t\tsettings.deferred.fail($.proxy(function(/* url, options */) {\n\t\t\t\tthis._removeActiveLinkClass( true );\n\t\t\t\tthis._releaseTransitionLock();\n\t\t\t\tthis._triggerWithDeprecated( \"changefailed\", triggerData );\n\t\t\t}, this));\n\t\t},\n\n\t\t_triggerPageBeforeChange: function( to, triggerData, settings ) {\n\t\t\tvar pbcEvent = new $.Event( \"pagebeforechange\" );\n\n\t\t\t$.extend(triggerData, { toPage: to, options: settings });\n\n\t\t\t// NOTE: preserve the original target as the dataUrl value will be\n\t\t\t// simplified eg, removing ui-state, and removing query params from\n\t\t\t// the hash this is so that users who want to use query params have\n\t\t\t// access to them in the event bindings for the page life cycle\n\t\t\t// See issue #5085\n\t\t\tif ( $.type(to) === \"string\" ) {\n\t\t\t\t// if the toPage is a string simply convert it\n\t\t\t\ttriggerData.absUrl = $.mobile.path.makeUrlAbsolute( to, this._findBaseWithDefault() );\n\t\t\t} else {\n\t\t\t\t// if the toPage is a jQuery object grab the absolute url stored\n\t\t\t\t// in the loadPage callback where it exists\n\t\t\t\ttriggerData.absUrl = settings.absUrl;\n\t\t\t}\n\n\t\t\t// Let listeners know we're about to change the current page.\n\t\t\tthis.element.trigger( pbcEvent, triggerData );\n\n\t\t\t// If the default behavior is prevented, stop here!\n\t\t\tif ( pbcEvent.isDefaultPrevented() ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\tchange: function( to, options ) {\n\t\t\t// If we are in the midst of a transition, queue the current request.\n\t\t\t// We'll call changePage() once we're done with the current transition\n\t\t\t// to service the request.\n\t\t\tif ( isPageTransitioning ) {\n\t\t\t\tpageTransitionQueue.unshift( arguments );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar settings = $.extend( {}, $.mobile.changePage.defaults, options ),\n\t\t\t\ttriggerData = {};\n\n\t\t\t// Make sure we have a fromPage.\n\t\t\tsettings.fromPage = settings.fromPage || this.activePage;\n\n\t\t\t// if the page beforechange default is prevented return early\n\t\t\tif ( !this._triggerPageBeforeChange(to, triggerData, settings) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// We allow \"pagebeforechange\" observers to modify the to in\n\t\t\t// the trigger data to allow for redirects. Make sure our to is\n\t\t\t// updated. We also need to re-evaluate whether it is a string,\n\t\t\t// because an object can also be replaced by a string\n\t\t\tto = triggerData.toPage;\n\n\t\t\t// If the caller passed us a url, call loadPage()\n\t\t\t// to make sure it is loaded into the DOM. We'll listen\n\t\t\t// to the promise object it returns so we know when\n\t\t\t// it is done loading or if an error ocurred.\n\t\t\tif ( $.type(to) === \"string\" ) {\n\t\t\t\t// Set the isPageTransitioning flag to prevent any requests from\n\t\t\t\t// entering this method while we are in the midst of loading a page\n\t\t\t\t// or transitioning.\n\t\t\t\tisPageTransitioning = true;\n\n\t\t\t\tthis._loadUrl( to, triggerData, settings );\n\t\t\t} else {\n\t\t\t\tthis.transition( to, triggerData, settings );\n\t\t\t}\n\t\t},\n\n\t\ttransition: function( toPage, triggerData, settings ) {\n\t\t\tvar fromPage, url, pageUrl, fileUrl,\n\t\t\t\tactive, activeIsInitialPage,\n\t\t\t\thistoryDir, pageTitle, isDialog,\n\t\t\t\talreadyThere, newPageTitle,\n\t\t\t\tparams,\tcssTransitionDeferred,\n\t\t\t\tbeforeTransition;\n\n\t\t\t// If we are in the midst of a transition, queue the current request.\n\t\t\t// We'll call changePage() once we're done with the current transition\n\t\t\t// to service the request.\n\t\t\tif ( isPageTransitioning ) {\n\t\t\t\t// make sure to only queue the to and settings values so the arguments\n\t\t\t\t// work with a call to the change method\n\t\t\t\tpageTransitionQueue.unshift( [toPage, settings] );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// DEPRECATED - this call only, in favor of the before transition\n\t\t\t// if the page beforechange default is prevented return early\n\t\t\tif ( !this._triggerPageBeforeChange(toPage, triggerData, settings) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if the (content|page)beforetransition default is prevented return early\n\t\t\t// Note, we have to check for both the deprecated and new events\n\t\t\tbeforeTransition = this._triggerWithDeprecated( \"beforetransition\", triggerData );\n\t\t\tif (beforeTransition.deprecatedEvent.isDefaultPrevented() ||\n\t\t\t\tbeforeTransition.event.isDefaultPrevented() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the isPageTransitioning flag to prevent any requests from\n\t\t\t// entering this method while we are in the midst of loading a page\n\t\t\t// or transitioning.\n\t\t\tisPageTransitioning = true;\n\n\t\t\t// If we are going to the first-page of the application, we need to make\n\t\t\t// sure settings.dataUrl is set to the application document url. This allows\n\t\t\t// us to avoid generating a document url with an id hash in the case where the\n\t\t\t// first-page of the document has an id attribute specified.\n\t\t\tif ( toPage[ 0 ] === $.mobile.firstPage[ 0 ] && !settings.dataUrl ) {\n\t\t\t\tsettings.dataUrl = $.mobile.path.documentUrl.hrefNoHash;\n\t\t\t}\n\n\t\t\t// The caller passed us a real page DOM element. Update our\n\t\t\t// internal state and then trigger a transition to the page.\n\t\t\tfromPage = settings.fromPage;\n\t\t\turl = ( settings.dataUrl && $.mobile.path.convertUrlToDataUrl(settings.dataUrl) ) ||\n\t\t\t\ttoPage.jqmData( \"url\" );\n\n\t\t\t// The pageUrl var is usually the same as url, except when url is obscured\n\t\t\t// as a dialog url. pageUrl always contains the file path\n\t\t\tpageUrl = url;\n\t\t\tfileUrl = $.mobile.path.getFilePath( url );\n\t\t\tactive = $.mobile.navigate.history.getActive();\n\t\t\tactiveIsInitialPage = $.mobile.navigate.history.activeIndex === 0;\n\t\t\thistoryDir = 0;\n\t\t\tpageTitle = document.title;\n\t\t\tisDialog = ( settings.role === \"dialog\" ||\n\t\t\t\ttoPage.jqmData( \"role\" ) === \"dialog\" ) &&\n\t\t\t\ttoPage.jqmData( \"dialog\" ) !== true;\n\n\t\t\t// By default, we prevent changePage requests when the fromPage and toPage\n\t\t\t// are the same element, but folks that generate content\n\t\t\t// manually/dynamically and reuse pages want to be able to transition to\n\t\t\t// the same page. To allow this, they will need to change the default\n\t\t\t// value of allowSamePageTransition to true, *OR*, pass it in as an\n\t\t\t// option when they manually call changePage(). It should be noted that\n\t\t\t// our default transition animations assume that the formPage and toPage\n\t\t\t// are different elements, so they may behave unexpectedly. It is up to\n\t\t\t// the developer that turns on the allowSamePageTransitiona option to\n\t\t\t// either turn off transition animations, or make sure that an appropriate\n\t\t\t// animation transition is used.\n\t\t\tif ( fromPage && fromPage[0] === toPage[0] &&\n\t\t\t\t!settings.allowSamePageTransition ) {\n\n\t\t\t\tisPageTransitioning = false;\n\t\t\t\tthis._triggerWithDeprecated( \"transition\", triggerData );\n\t\t\t\tthis.element.trigger( \"pagechange\", triggerData );\n\n\t\t\t\t// Even if there is no page change to be done, we should keep the\n\t\t\t\t// urlHistory in sync with the hash changes\n\t\t\t\tif ( settings.fromHashChange ) {\n\t\t\t\t\t$.mobile.navigate.history.direct({ url: url });\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// We need to make sure the page we are given has already been enhanced.\n\t\t\ttoPage.page({ role: settings.role });\n\n\t\t\t// If the changePage request was sent from a hashChange event, check to\n\t\t\t// see if the page is already within the urlHistory stack. If so, we'll\n\t\t\t// assume the user hit the forward/back button and will try to match the\n\t\t\t// transition accordingly.\n\t\t\tif ( settings.fromHashChange ) {\n\t\t\t\thistoryDir = settings.direction === \"back\" ? -1 : 1;\n\t\t\t}\n\n\t\t\t// Kill the keyboard.\n\t\t\t// XXX_jblas: We need to stop crawling the entire document to kill focus.\n\t\t\t//            Instead, we should be tracking focus with a delegate()\n\t\t\t//            handler so we already have the element in hand at this\n\t\t\t//            point.\n\t\t\t// Wrap this in a try/catch block since IE9 throw \"Unspecified error\" if\n\t\t\t// document.activeElement is undefined when we are in an IFrame.\n\t\t\ttry {\n\t\t\t\tif ( document.activeElement &&\n\t\t\t\t\tdocument.activeElement.nodeName.toLowerCase() !== \"body\" ) {\n\n\t\t\t\t\t$( document.activeElement ).blur();\n\t\t\t\t} else {\n\t\t\t\t\t$( \"input:focus, textarea:focus, select:focus\" ).blur();\n\t\t\t\t}\n\t\t\t} catch( e ) {}\n\n\t\t\t// Record whether we are at a place in history where a dialog used to be -\n\t\t\t// if so, do not add a new history entry and do not change the hash either\n\t\t\talreadyThere = false;\n\n\t\t\t// If we're displaying the page as a dialog, we don't want the url\n\t\t\t// for the dialog content to be used in the hash. Instead, we want\n\t\t\t// to append the dialogHashKey to the url of the current page.\n\t\t\tif ( isDialog && active ) {\n\t\t\t\t// on the initial page load active.url is undefined and in that case\n\t\t\t\t// should be an empty string. Moving the undefined -> empty string back\n\t\t\t\t// into urlHistory.addNew seemed imprudent given undefined better\n\t\t\t\t// represents the url state\n\n\t\t\t\t// If we are at a place in history that once belonged to a dialog, reuse\n\t\t\t\t// this state without adding to urlHistory and without modifying the\n\t\t\t\t// hash. However, if a dialog is already displayed at this point, and\n\t\t\t\t// we're about to display another dialog, then we must add another hash\n\t\t\t\t// and history entry on top so that one may navigate back to the\n\t\t\t\t// original dialog\n\t\t\t\tif ( active.url &&\n\t\t\t\t\tactive.url.indexOf( $.mobile.dialogHashKey ) > -1 &&\n\t\t\t\t\tthis.activePage &&\n\t\t\t\t\t!this.activePage.hasClass( \"ui-dialog\" ) &&\n\t\t\t\t\t$.mobile.navigate.history.activeIndex > 0 ) {\n\n\t\t\t\t\tsettings.changeHash = false;\n\t\t\t\t\talreadyThere = true;\n\t\t\t\t}\n\n\t\t\t\t// Normally, we tack on a dialog hash key, but if this is the location\n\t\t\t\t// of a stale dialog, we reuse the URL from the entry\n\t\t\t\turl = ( active.url || \"\" );\n\n\t\t\t\t// account for absolute urls instead of just relative urls use as hashes\n\t\t\t\tif ( !alreadyThere && url.indexOf(\"#\") > -1 ) {\n\t\t\t\t\turl += $.mobile.dialogHashKey;\n\t\t\t\t} else {\n\t\t\t\t\turl += \"#\" + $.mobile.dialogHashKey;\n\t\t\t\t}\n\n\t\t\t\t// tack on another dialogHashKey if this is the same as the initial hash\n\t\t\t\t// this makes sure that a history entry is created for this dialog\n\t\t\t\tif ( $.mobile.navigate.history.activeIndex === 0 && url === $.mobile.navigate.history.initialDst ) {\n\t\t\t\t\turl += $.mobile.dialogHashKey;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// if title element wasn't found, try the page div data attr too\n\t\t\t// If this is a deep-link or a reload ( active === undefined ) then just\n\t\t\t// use pageTitle\n\t\t\tnewPageTitle = ( !active ) ? pageTitle : toPage.jqmData( \"title\" ) ||\n\t\t\t\ttoPage.children( \":jqmData(role='header')\" ).find( \".ui-title\" ).text();\n\t\t\tif ( !!newPageTitle && pageTitle === document.title ) {\n\t\t\t\tpageTitle = newPageTitle;\n\t\t\t}\n\t\t\tif ( !toPage.jqmData( \"title\" ) ) {\n\t\t\t\ttoPage.jqmData( \"title\", pageTitle );\n\t\t\t}\n\n\t\t\t// Make sure we have a transition defined.\n\t\t\tsettings.transition = settings.transition ||\n\t\t\t\t( ( historyDir && !activeIsInitialPage ) ? active.transition : undefined ) ||\n\t\t\t\t( isDialog ? $.mobile.defaultDialogTransition : $.mobile.defaultPageTransition );\n\n\t\t\t//add page to history stack if it's not back or forward\n\t\t\tif ( !historyDir && alreadyThere ) {\n\t\t\t\t$.mobile.navigate.history.getActive().pageUrl = pageUrl;\n\t\t\t}\n\n\t\t\t// Set the location hash.\n\t\t\tif ( url && !settings.fromHashChange ) {\n\n\t\t\t\t// rebuilding the hash here since we loose it earlier on\n\t\t\t\t// TODO preserve the originally passed in path\n\t\t\t\tif ( !$.mobile.path.isPath( url ) && url.indexOf( \"#\" ) < 0 ) {\n\t\t\t\t\turl = \"#\" + url;\n\t\t\t\t}\n\n\t\t\t\t// TODO the property names here are just silly\n\t\t\t\tparams = {\n\t\t\t\t\ttransition: settings.transition,\n\t\t\t\t\ttitle: pageTitle,\n\t\t\t\t\tpageUrl: pageUrl,\n\t\t\t\t\trole: settings.role\n\t\t\t\t};\n\n\t\t\t\tif ( settings.changeHash !== false && $.mobile.hashListeningEnabled ) {\n\t\t\t\t\t$.mobile.navigate( url, params, true);\n\t\t\t\t} else if ( toPage[ 0 ] !== $.mobile.firstPage[ 0 ] ) {\n\t\t\t\t\t$.mobile.navigate.history.add( url, params );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//set page title\n\t\t\tdocument.title = pageTitle;\n\n\t\t\t//set \"toPage\" as activePage deprecated in 1.4 remove in 1.5\n\t\t\t$.mobile.activePage = toPage;\n\n\t\t\t//new way to handle activePage\n\t\t\tthis.activePage = toPage;\n\n\t\t\t// If we're navigating back in the URL history, set reverse accordingly.\n\t\t\tsettings.reverse = settings.reverse || historyDir < 0;\n\n\t\t\tcssTransitionDeferred = $.Deferred();\n\n\t\t\tthis._cssTransition(toPage, fromPage, {\n\t\t\t\ttransition: settings.transition,\n\t\t\t\treverse: settings.reverse,\n\t\t\t\tdeferred: cssTransitionDeferred\n\t\t\t});\n\n\t\t\tcssTransitionDeferred.done($.proxy(function( name, reverse, $to, $from, alreadyFocused ) {\n\t\t\t\t$.mobile.removeActiveLinkClass();\n\n\t\t\t\t//if there's a duplicateCachedPage, remove it from the DOM now that it's hidden\n\t\t\t\tif ( settings.duplicateCachedPage ) {\n\t\t\t\t\tsettings.duplicateCachedPage.remove();\n\t\t\t\t}\n\n\t\t\t\t// despite visibility: hidden addresses issue #2965\n\t\t\t\t// https://github.com/jquery/jquery-mobile/issues/2965\n\t\t\t\tif ( !alreadyFocused ) {\n\t\t\t\t\t$.mobile.focusPage( toPage );\n\t\t\t\t}\n\n\t\t\t\tthis._releaseTransitionLock();\n\t\t\t\tthis.element.trigger( \"pagechange\", triggerData );\n\t\t\t\tthis._triggerWithDeprecated( \"transition\", triggerData );\n\t\t\t}, this));\n\t\t},\n\n\t\t// determine the current base url\n\t\t_findBaseWithDefault: function() {\n\t\t\tvar closestBase = ( this.activePage &&\n\t\t\t$.mobile.getClosestBaseUrl( this.activePage ) );\n\t\treturn closestBase || $.mobile.path.documentBase.hrefNoHash;\n\t\t}\n\t});\n\n\t// The following handlers should be bound after mobileinit has been triggered\n\t// the following deferred is resolved in the init file\n\t$.mobile.navreadyDeferred = $.Deferred();\n\n\t//these variables make all page containers use the same queue and only navigate one at a time\n\t// queue to hold simultanious page transitions\n\tvar pageTransitionQueue = [],\n\n\t\t// indicates whether or not page is in process of transitioning\n\t\tisPageTransitioning = false;\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n\t\t// resolved on domready\n\tvar domreadyDeferred = $.Deferred(),\n\t\tdocumentUrl = $.mobile.path.documentUrl,\n\n\t\t// used to track last vclicked element to make sure its value is added to form data\n\t\t$lastVClicked = null;\n\n\t/* Event Bindings - hashchange, submit, and click */\n\tfunction findClosestLink( ele )\t{\n\t\twhile ( ele ) {\n\t\t\t// Look for the closest element with a nodeName of \"a\".\n\t\t\t// Note that we are checking if we have a valid nodeName\n\t\t\t// before attempting to access it. This is because the\n\t\t\t// node we get called with could have originated from within\n\t\t\t// an embedded SVG document where some symbol instance elements\n\t\t\t// don't have nodeName defined on them, or strings are of type\n\t\t\t// SVGAnimatedString.\n\t\t\tif ( ( typeof ele.nodeName === \"string\" ) && ele.nodeName.toLowerCase() === \"a\" ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tele = ele.parentNode;\n\t\t}\n\t\treturn ele;\n\t}\n\n\t$.mobile.loadPage = function( url, opts ) {\n\t\tvar container;\n\n\t\topts = opts || {};\n\t\tcontainer = ( opts.pageContainer || $.mobile.pageContainer );\n\n\t\t// create the deferred that will be supplied to loadPage callers\n\t\t// and resolved by the content widget's load method\n\t\topts.deferred = $.Deferred();\n\n\t\t// Preferring to allow exceptions for uninitialized opts.pageContainer\n\t\t// widgets so we know if we need to force init here for users\n\t\tcontainer.pagecontainer( \"load\", url, opts );\n\n\t\t// provide the deferred\n\t\treturn opts.deferred.promise();\n\t};\n\n\t//define vars for interal use\n\n\t/* internal utility functions */\n\n\t// NOTE Issue #4950 Android phonegap doesn't navigate back properly\n\t//      when a full page refresh has taken place. It appears that hashchange\n\t//      and replacestate history alterations work fine but we need to support\n\t//      both forms of history traversal in our code that uses backward history\n\t//      movement\n\t$.mobile.back = function() {\n\t\tvar nav = window.navigator;\n\n\t\t// if the setting is on and the navigator object is\n\t\t// available use the phonegap navigation capability\n\t\tif ( this.phonegapNavigationEnabled &&\n\t\t\tnav &&\n\t\t\tnav.app &&\n\t\t\tnav.app.backHistory ) {\n\t\t\tnav.app.backHistory();\n\t\t} else {\n\t\t\t$.mobile.pageContainer.pagecontainer( \"back\" );\n\t\t}\n\t};\n\n\t//direct focus to the page title, or otherwise first focusable element\n\t$.mobile.focusPage = function ( page ) {\n\t\tvar autofocus = page.find( \"[autofocus]\" ),\n\t\t\tpageTitle = page.find( \".ui-title:eq(0)\" );\n\n\t\tif ( autofocus.length ) {\n\t\t\tautofocus.focus();\n\t\t\treturn;\n\t\t}\n\n\t\tif ( pageTitle.length ) {\n\t\t\tpageTitle.focus();\n\t\t} else{\n\t\t\tpage.focus();\n\t\t}\n\t};\n\n\t// No-op implementation of transition degradation\n\t$.mobile._maybeDegradeTransition = $.mobile._maybeDegradeTransition || function( transition ) {\n\t\treturn transition;\n\t};\n\n\t/* exposed $.mobile methods */\n\n\t//animation complete callback\n\t$.fn.animationComplete = function( callback ) {\n\t\tif ( $.support.cssTransitions ) {\n\t\t\treturn $( this ).one( \"webkitAnimationEnd animationend\", callback );\n\t\t}\n\t\telse{\n\t\t\t// defer execution for consistency between webkit/non webkit\n\t\t\tsetTimeout( callback, 0 );\n\t\t\treturn $( this );\n\t\t}\n\t};\n\n\t$.mobile.changePage = function( to, options ) {\n\t\t$.mobile.pageContainer.pagecontainer( \"change\", to, options );\n\t};\n\n\t$.mobile.changePage.defaults = {\n\t\ttransition: undefined,\n\t\treverse: false,\n\t\tchangeHash: true,\n\t\tfromHashChange: false,\n\t\trole: undefined, // By default we rely on the role defined by the @data-role attribute.\n\t\tduplicateCachedPage: undefined,\n\t\tpageContainer: undefined,\n\t\tshowLoadMsg: true, //loading message shows by default when pages are being fetched during changePage\n\t\tdataUrl: undefined,\n\t\tfromPage: undefined,\n\t\tallowSamePageTransition: false\n\t};\n\n\t$.mobile._registerInternalEvents = function() {\n\t\tvar getAjaxFormData = function( $form, calculateOnly ) {\n\t\t\tvar url, ret = true, formData, vclickedName, method;\n\t\t\tif ( !$.mobile.ajaxEnabled ||\n\t\t\t\t\t// test that the form is, itself, ajax false\n\t\t\t\t\t$form.is( \":jqmData(ajax='false')\" ) ||\n\t\t\t\t\t// test that $.mobile.ignoreContentEnabled is set and\n\t\t\t\t\t// the form or one of it's parents is ajax=false\n\t\t\t\t\t!$form.jqmHijackable().length ||\n\t\t\t\t\t$form.attr( \"target\" ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\turl = ( $lastVClicked && $lastVClicked.attr( \"formaction\" ) ) ||\n\t\t\t\t$form.attr( \"action\" );\n\t\t\tmethod = ( $form.attr( \"method\" ) || \"get\" ).toLowerCase();\n\n\t\t\t// If no action is specified, browsers default to using the\n\t\t\t// URL of the document containing the form. Since we dynamically\n\t\t\t// pull in pages from external documents, the form should submit\n\t\t\t// to the URL for the source document of the page containing\n\t\t\t// the form.\n\t\t\tif ( !url ) {\n\t\t\t\t// Get the @data-url for the page containing the form.\n\t\t\t\turl = $.mobile.getClosestBaseUrl( $form );\n\n\t\t\t\t// NOTE: If the method is \"get\", we need to strip off the query string\n\t\t\t\t// because it will get replaced with the new form data. See issue #5710.\n\t\t\t\tif ( method === \"get\" ) {\n\t\t\t\t\turl = $.mobile.path.parseUrl( url ).hrefNoSearch;\n\t\t\t\t}\n\n\t\t\t\tif ( url === $.mobile.path.documentBase.hrefNoHash ) {\n\t\t\t\t\t// The url we got back matches the document base,\n\t\t\t\t\t// which means the page must be an internal/embedded page,\n\t\t\t\t\t// so default to using the actual document url as a browser\n\t\t\t\t\t// would.\n\t\t\t\t\turl = documentUrl.hrefNoSearch;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\turl = $.mobile.path.makeUrlAbsolute(  url, $.mobile.getClosestBaseUrl( $form ) );\n\n\t\t\tif ( ( $.mobile.path.isExternal( url ) && !$.mobile.path.isPermittedCrossDomainRequest( documentUrl, url ) ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ( !calculateOnly ) {\n\t\t\t\tformData = $form.serializeArray();\n\n\t\t\t\tif ( $lastVClicked && $lastVClicked[ 0 ].form === $form[ 0 ] ) {\n\t\t\t\t\tvclickedName = $lastVClicked.attr( \"name\" );\n\t\t\t\t\tif ( vclickedName ) {\n\t\t\t\t\t\t// Make sure the last clicked element is included in the form\n\t\t\t\t\t\t$.each( formData, function( key, value ) {\n\t\t\t\t\t\t\tif ( value.name === vclickedName ) {\n\t\t\t\t\t\t\t\t// Unset vclickedName - we've found it in the serialized data already\n\t\t\t\t\t\t\t\tvclickedName = \"\";\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif ( vclickedName ) {\n\t\t\t\t\t\t\tformData.push( { name: vclickedName, value: $lastVClicked.attr( \"value\" ) } );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tret = {\n\t\t\t\t\turl: url,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\ttype:\t\tmethod,\n\t\t\t\t\t\tdata:\t\t$.param( formData ),\n\t\t\t\t\t\ttransition:\t$form.jqmData( \"transition\" ),\n\t\t\t\t\t\treverse:\t$form.jqmData( \"direction\" ) === \"reverse\",\n\t\t\t\t\t\treloadPage:\ttrue\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t};\n\n\t\t//bind to form submit events, handle with Ajax\n\t\t$.mobile.document.delegate( \"form\", \"submit\", function( event ) {\n\t\t\tvar formData;\n\n\t\t\tif ( !event.isDefaultPrevented() ) {\n\t\t\t\tformData = getAjaxFormData( $( this ) );\n\t\t\t\tif ( formData ) {\n\t\t\t\t\t$.mobile.changePage( formData.url, formData.options );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//add active state on vclick\n\t\t$.mobile.document.bind( \"vclick\", function( event ) {\n\t\t\tvar $btn, btnEls, target = event.target, needClosest = false;\n\t\t\t// if this isn't a left click we don't care. Its important to note\n\t\t\t// that when the virtual event is generated it will create the which attr\n\t\t\tif ( event.which > 1 || !$.mobile.linkBindingEnabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Record that this element was clicked, in case we need it for correct\n\t\t\t// form submission during the \"submit\" handler above\n\t\t\t$lastVClicked = $( target );\n\n\t\t\t// Try to find a target element to which the active class will be applied\n\t\t\tif ( $.data( target, \"mobile-button\" ) ) {\n\t\t\t\t// If the form will not be submitted via AJAX, do not add active class\n\t\t\t\tif ( !getAjaxFormData( $( target ).closest( \"form\" ), true ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// We will apply the active state to this button widget - the parent\n\t\t\t\t// of the input that was clicked will have the associated data\n\t\t\t\tif ( target.parentNode ) {\n\t\t\t\t\ttarget = target.parentNode;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttarget = findClosestLink( target );\n\t\t\t\tif ( !( target && $.mobile.path.parseUrl( target.getAttribute( \"href\" ) || \"#\" ).hash !== \"#\" ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// TODO teach $.mobile.hijackable to operate on raw dom elements so the\n\t\t\t\t// link wrapping can be avoided\n\t\t\t\tif ( !$( target ).jqmHijackable().length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Avoid calling .closest by using the data set during .buttonMarkup()\n\t\t\t// List items have the button data in the parent of the element clicked\n\t\t\tif ( !!~target.className.indexOf( \"ui-link-inherit\" ) ) {\n\t\t\t\tif ( target.parentNode ) {\n\t\t\t\t\tbtnEls = $.data( target.parentNode, \"buttonElements\" );\n\t\t\t\t}\n\t\t\t// Otherwise, look for the data on the target itself\n\t\t\t} else {\n\t\t\t\tbtnEls = $.data( target, \"buttonElements\" );\n\t\t\t}\n\t\t\t// If found, grab the button's outer element\n\t\t\tif ( btnEls ) {\n\t\t\t\ttarget = btnEls.outer;\n\t\t\t} else {\n\t\t\t\tneedClosest = true;\n\t\t\t}\n\n\t\t\t$btn = $( target );\n\t\t\t// If the outer element wasn't found by the our heuristics, use .closest()\n\t\t\tif ( needClosest ) {\n\t\t\t\t$btn = $btn.closest( \".ui-btn\" );\n\t\t\t}\n\n\t\t\tif ( $btn.length > 0 &&\n\t\t\t\t!( $btn.hasClass( \"ui-state-disabled\" ||\n\n\t\t\t\t\t// DEPRECATED as of 1.4.0 - remove after 1.4.0 release\n\t\t\t\t\t// only ui-state-disabled should be present thereafter\n\t\t\t\t\t$btn.hasClass( \"ui-disabled\" ) ) ) ) {\n\t\t\t\t$.mobile.removeActiveLinkClass( true );\n\t\t\t\t$.mobile.activeClickedLink = $btn;\n\t\t\t\t$.mobile.activeClickedLink.addClass( $.mobile.activeBtnClass );\n\t\t\t}\n\t\t});\n\n\t\t// click routing - direct to HTTP or Ajax, accordingly\n\t\t$.mobile.document.bind( \"click\", function( event ) {\n\t\t\tif ( !$.mobile.linkBindingEnabled || event.isDefaultPrevented() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar link = findClosestLink( event.target ),\n\t\t\t\t$link = $( link ),\n\n\t\t\t\t//remove active link class if external (then it won't be there if you come back)\n\t\t\t\thttpCleanup = function() {\n\t\t\t\t\twindow.setTimeout(function() { $.mobile.removeActiveLinkClass( true ); }, 200 );\n\t\t\t\t},\n\t\t\t\tbaseUrl, href,\n\t\t\t\tuseDefaultUrlHandling, isExternal,\n\t\t\t\ttransition, reverse, role;\n\n\t\t\t// If a button was clicked, clean up the active class added by vclick above\n\t\t\tif ( $.mobile.activeClickedLink &&\n\t\t\t\t$.mobile.activeClickedLink[ 0 ] === event.target.parentNode ) {\n\t\t\t\thttpCleanup();\n\t\t\t}\n\n\t\t\t// If there is no link associated with the click or its not a left\n\t\t\t// click we want to ignore the click\n\t\t\t// TODO teach $.mobile.hijackable to operate on raw dom elements so the link wrapping\n\t\t\t// can be avoided\n\t\t\tif ( !link || event.which > 1 || !$link.jqmHijackable().length ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//if there's a data-rel=back attr, go back in history\n\t\t\tif ( $link.is( \":jqmData(rel='back')\" ) ) {\n\t\t\t\t$.mobile.back();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tbaseUrl = $.mobile.getClosestBaseUrl( $link );\n\n\t\t\t//get href, if defined, otherwise default to empty hash\n\t\t\thref = $.mobile.path.makeUrlAbsolute( $link.attr( \"href\" ) || \"#\", baseUrl );\n\n\t\t\t//if ajax is disabled, exit early\n\t\t\tif ( !$.mobile.ajaxEnabled && !$.mobile.path.isEmbeddedPage( href ) ) {\n\t\t\t\thttpCleanup();\n\t\t\t\t//use default click handling\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// XXX_jblas: Ideally links to application pages should be specified as\n\t\t\t//            an url to the application document with a hash that is either\n\t\t\t//            the site relative path or id to the page. But some of the\n\t\t\t//            internal code that dynamically generates sub-pages for nested\n\t\t\t//            lists and select dialogs, just write a hash in the link they\n\t\t\t//            create. This means the actual URL path is based on whatever\n\t\t\t//            the current value of the base tag is at the time this code\n\t\t\t//            is called. For now we are just assuming that any url with a\n\t\t\t//            hash in it is an application page reference.\n\t\t\tif ( href.search( \"#\" ) !== -1 ) {\n\t\t\t\thref = href.replace( /[^#]*#/, \"\" );\n\t\t\t\tif ( !href ) {\n\t\t\t\t\t//link was an empty hash meant purely\n\t\t\t\t\t//for interaction, so we ignore it.\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t} else if ( $.mobile.path.isPath( href ) ) {\n\t\t\t\t\t//we have apath so make it the href we want to load.\n\t\t\t\t\thref = $.mobile.path.makeUrlAbsolute( href, baseUrl );\n\t\t\t\t} else {\n\t\t\t\t\t//we have a simple id so use the documentUrl as its base.\n\t\t\t\t\thref = $.mobile.path.makeUrlAbsolute( \"#\" + href, documentUrl.hrefNoHash );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Should we handle this link, or let the browser deal with it?\n\t\t\tuseDefaultUrlHandling = $link.is( \"[rel='external']\" ) || $link.is( \":jqmData(ajax='false')\" ) || $link.is( \"[target]\" );\n\n\t\t\t// Some embedded browsers, like the web view in Phone Gap, allow cross-domain XHR\n\t\t\t// requests if the document doing the request was loaded via the file:// protocol.\n\t\t\t// This is usually to allow the application to \"phone home\" and fetch app specific\n\t\t\t// data. We normally let the browser handle external/cross-domain urls, but if the\n\t\t\t// allowCrossDomainPages option is true, we will allow cross-domain http/https\n\t\t\t// requests to go through our page loading logic.\n\n\t\t\t//check for protocol or rel and its not an embedded page\n\t\t\t//TODO overlap in logic from isExternal, rel=external check should be\n\t\t\t//     moved into more comprehensive isExternalLink\n\t\t\tisExternal = useDefaultUrlHandling || ( $.mobile.path.isExternal( href ) && !$.mobile.path.isPermittedCrossDomainRequest( documentUrl, href ) );\n\n\t\t\tif ( isExternal ) {\n\t\t\t\thttpCleanup();\n\t\t\t\t//use default click handling\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//use ajax\n\t\t\ttransition = $link.jqmData( \"transition\" );\n\t\t\treverse = $link.jqmData( \"direction\" ) === \"reverse\" ||\n\t\t\t\t\t\t// deprecated - remove by 1.0\n\t\t\t\t\t\t$link.jqmData( \"back\" );\n\n\t\t\t//this may need to be more specific as we use data-rel more\n\t\t\trole = $link.attr( \"data-\" + $.mobile.ns + \"rel\" ) || undefined;\n\n\t\t\t$.mobile.changePage( href, { transition: transition, reverse: reverse, role: role, link: $link } );\n\t\t\tevent.preventDefault();\n\t\t});\n\n\t\t//prefetch pages when anchors with data-prefetch are encountered\n\t\t$.mobile.document.delegate( \".ui-page\", \"pageshow.prefetch\", function() {\n\t\t\tvar urls = [];\n\t\t\t$( this ).find( \"a:jqmData(prefetch)\" ).each(function() {\n\t\t\t\tvar $link = $( this ),\n\t\t\t\t\turl = $link.attr( \"href\" );\n\n\t\t\t\tif ( url && $.inArray( url, urls ) === -1 ) {\n\t\t\t\t\turls.push( url );\n\n\t\t\t\t\t$.mobile.loadPage( url, { role: $link.attr( \"data-\" + $.mobile.ns + \"rel\" ),prefetch: true } );\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// TODO ensure that the navigate binding in the content widget happens at the right time\n\t\t$.mobile.pageContainer.pagecontainer();\n\n\t\t//set page min-heights to be device specific\n\t\t$.mobile.document.bind( \"pageshow\", $.mobile.resetActivePageHeight );\n\t\t$.mobile.window.bind( \"throttledresize\", $.mobile.resetActivePageHeight );\n\n\t};//navreadyDeferred done callback\n\n\t$( function() { domreadyDeferred.resolve(); } );\n\n\t$.when( domreadyDeferred, $.mobile.navreadyDeferred ).done( function() { $.mobile._registerInternalEvents(); } );\n})( jQuery );\n\n\n(function( $, window, undefined ) {\n\n\t// TODO remove direct references to $.mobile and properties, we should\n\t//      favor injection with params to the constructor\n\t$.mobile.Transition = function() {\n\t\tthis.init.apply( this, arguments );\n\t};\n\n\t$.extend($.mobile.Transition.prototype, {\n\t\ttoPreClass: \" ui-page-pre-in\",\n\n\t\tinit: function( name, reverse, $to, $from ) {\n\t\t\t$.extend(this, {\n\t\t\t\tname: name,\n\t\t\t\treverse: reverse,\n\t\t\t\t$to: $to,\n\t\t\t\t$from: $from,\n\t\t\t\tdeferred: new $.Deferred()\n\t\t\t});\n\t\t},\n\n\t\tcleanFrom: function() {\n\t\t\tthis.$from\n\t\t\t\t.removeClass( $.mobile.activePageClass + \" out in reverse \" + this.name )\n\t\t\t\t.height( \"\" );\n\t\t},\n\n\t\t// NOTE overridden by child object prototypes, noop'd here as defaults\n\t\tbeforeDoneIn: function() {},\n\t\tbeforeDoneOut: function() {},\n\t\tbeforeStartOut: function() {},\n\n\t\tdoneIn: function() {\n\t\t\tthis.beforeDoneIn();\n\n\t\t\tthis.$to.removeClass( \"out in reverse \" + this.name ).height( \"\" );\n\n\t\t\tthis.toggleViewportClass();\n\n\t\t\t// In some browsers (iOS5), 3D transitions block the ability to scroll to the desired location during transition\n\t\t\t// This ensures we jump to that spot after the fact, if we aren't there already.\n\t\t\tif ( $.mobile.window.scrollTop() !== this.toScroll ) {\n\t\t\t\tthis.scrollPage();\n\t\t\t}\n\t\t\tif ( !this.sequential ) {\n\t\t\t\tthis.$to.addClass( $.mobile.activePageClass );\n\t\t\t}\n\t\t\tthis.deferred.resolve( this.name, this.reverse, this.$to, this.$from, true );\n\t\t},\n\n\t\tdoneOut: function( screenHeight, reverseClass, none, preventFocus ) {\n\t\t\tthis.beforeDoneOut();\n\t\t\tthis.startIn( screenHeight, reverseClass, none, preventFocus );\n\t\t},\n\n\t\thideIn: function( callback ) {\n\t\t\t// Prevent flickering in phonegap container: see comments at #4024 regarding iOS\n\t\t\tthis.$to.css( \"z-index\", -10 );\n\t\t\tcallback.call( this );\n\t\t\tthis.$to.css( \"z-index\", \"\" );\n\t\t},\n\n\t\tscrollPage: function() {\n\t\t\t// By using scrollTo instead of silentScroll, we can keep things better in order\n\t\t\t// Just to be precautios, disable scrollstart listening like silentScroll would\n\t\t\t$.event.special.scrollstart.enabled = false;\n\t\t\t//if we are hiding the url bar or the page was previously scrolled scroll to hide or return to position\n\t\t\tif ( $.mobile.hideUrlBar || this.toScroll !== $.mobile.defaultHomeScroll ) {\n\t\t\t\twindow.scrollTo( 0, this.toScroll );\n\t\t\t}\n\n\t\t\t// reenable scrollstart listening like silentScroll would\n\t\t\tsetTimeout( function() {\n\t\t\t\t$.event.special.scrollstart.enabled = true;\n\t\t\t}, 150 );\n\t\t},\n\n\t\tstartIn: function( screenHeight, reverseClass, none, preventFocus ) {\n\t\t\tthis.hideIn(function() {\n\t\t\t\tthis.$to.addClass( $.mobile.activePageClass + this.toPreClass );\n\n\t\t\t\t// Send focus to page as it is now display: block\n\t\t\t\tif ( !preventFocus ) {\n\t\t\t\t\t$.mobile.focusPage( this.$to );\n\t\t\t\t}\n\n\t\t\t\t// Set to page height\n\t\t\t\tthis.$to.height( screenHeight + this.toScroll );\n\n                if ( !none ) {\n                    this.scrollPage();\n                }\n\t\t\t});\n\n\t\t\tif ( !none ) {\n\t\t\t\tthis.$to.animationComplete( $.proxy(function() {\n\t\t\t\t\tthis.doneIn();\n\t\t\t\t}, this ));\n\t\t\t}\n\n\t\t\tthis.$to\n\t\t\t\t.removeClass( this.toPreClass )\n\t\t\t\t.addClass( this.name + \" in \" + reverseClass );\n\n\t\t\tif ( none ) {\n\t\t\t\tthis.doneIn();\n\t\t\t}\n\n\t\t},\n\n\t\tstartOut: function( screenHeight, reverseClass, none ) {\n\t\t\tthis.beforeStartOut( screenHeight, reverseClass, none );\n\n\t\t\t// Set the from page's height and start it transitioning out\n\t\t\t// Note: setting an explicit height helps eliminate tiling in the transitions\n\t\t\tthis.$from\n\t\t\t\t.height( screenHeight + $.mobile.window.scrollTop() )\n\t\t\t\t.addClass( this.name + \" out\" + reverseClass );\n\t\t},\n\n\t\ttoggleViewportClass: function() {\n\t\t\t$.mobile.pageContainer.toggleClass( \"ui-mobile-viewport-transitioning viewport-\" + this.name );\n\t\t},\n\n\t\ttransition: function() {\n\t\t\t// NOTE many of these could be calculated/recorded in the constructor, it's my\n\t\t\t//      opinion that binding them as late as possible has value with regards to\n\t\t\t//      better transitions with fewer bugs. Ie, it's not guaranteed that the\n\t\t\t//      object will be created and transition will be run immediately after as\n\t\t\t//      it is today. So we wait until transition is invoked to gather the following\n\t\t\tvar reverseClass = this.reverse ? \" reverse\" : \"\",\n\t\t\t\tscreenHeight = $.mobile.getScreenHeight(),\n\t\t\t\tmaxTransitionOverride = $.mobile.maxTransitionWidth !== false && $.mobile.window.width() > $.mobile.maxTransitionWidth,\n\t\t\t\tnone = !$.support.cssTransitions || !$.support.cssAnimations || maxTransitionOverride || !this.name || this.name === \"none\" || Math.max( $.mobile.window.scrollTop(), this.toScroll ) > $.mobile.getMaxScrollForTransition();\n\n\t\t\tthis.toScroll = $.mobile.navigate.history.getActive().lastScroll || $.mobile.defaultHomeScroll;\n\t\t\tthis.toggleViewportClass();\n\n\t\t\tif ( this.$from && !none ) {\n\t\t\t\tthis.startOut( screenHeight, reverseClass, none );\n\t\t\t} else {\n\t\t\t\tthis.doneOut( screenHeight, reverseClass, none, true );\n\t\t\t}\n\n\t\t\treturn this.deferred.promise();\n\t\t}\n\t});\n})( jQuery, this );\n\n\n(function( $ ) {\n\n\t$.mobile.SerialTransition = function() {\n\t\tthis.init.apply(this, arguments);\n\t};\n\n\t$.extend($.mobile.SerialTransition.prototype, $.mobile.Transition.prototype, {\n\t\tsequential: true,\n\n\t\tbeforeDoneOut: function() {\n\t\t\tif ( this.$from ) {\n\t\t\t\tthis.cleanFrom();\n\t\t\t}\n\t\t},\n\n\t\tbeforeStartOut: function( screenHeight, reverseClass, none ) {\n\t\t\tthis.$from.animationComplete($.proxy(function() {\n\t\t\t\tthis.doneOut( screenHeight, reverseClass, none );\n\t\t\t}, this ));\n\t\t}\n\t});\n\n})( jQuery );\n\n\n(function( $ ) {\n\n\t$.mobile.ConcurrentTransition = function() {\n\t\tthis.init.apply(this, arguments);\n\t};\n\n\t$.extend($.mobile.ConcurrentTransition.prototype, $.mobile.Transition.prototype, {\n\t\tsequential: false,\n\n\t\tbeforeDoneIn: function() {\n\t\t\tif ( this.$from ) {\n\t\t\t\tthis.cleanFrom();\n\t\t\t}\n\t\t},\n\n\t\tbeforeStartOut: function( screenHeight, reverseClass, none ) {\n\t\t\tthis.doneOut( screenHeight, reverseClass, none );\n\t\t}\n\t});\n\n})( jQuery );\n\n\n(function( $ ) {\n\n\t// generate the handlers from the above\n\tvar defaultGetMaxScrollForTransition = function() {\n\t\treturn $.mobile.getScreenHeight() * 3;\n\t};\n\n\t//transition handler dictionary for 3rd party transitions\n\t$.mobile.transitionHandlers = {\n\t\t\"sequential\": $.mobile.SerialTransition,\n\t\t\"simultaneous\": $.mobile.ConcurrentTransition\n\t};\n\n\t// Make our transition handler the public default.\n\t$.mobile.defaultTransitionHandler = $.mobile.transitionHandlers.sequential;\n\n\t$.mobile.transitionFallbacks = {};\n\n\t// If transition is defined, check if css 3D transforms are supported, and if not, if a fallback is specified\n\t$.mobile._maybeDegradeTransition = function( transition ) {\n\t\tif ( transition && !$.support.cssTransform3d && $.mobile.transitionFallbacks[ transition ] ) {\n\t\t\ttransition = $.mobile.transitionFallbacks[ transition ];\n\t\t}\n\n\t\treturn transition;\n\t};\n\n\t// Set the getMaxScrollForTransition to default if no implementation was set by user\n\t$.mobile.getMaxScrollForTransition = $.mobile.getMaxScrollForTransition || defaultGetMaxScrollForTransition;\n\n})( jQuery );\n\n/*\n* fallback transition for flip in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.flip = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for flow in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.flow = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for pop in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.pop = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for slide in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n// Use the simultaneous transitions handler for slide transitions\n$.mobile.transitionHandlers.slide = $.mobile.transitionHandlers.simultaneous;\n\n// Set the slide transitions's fallback to \"fade\"\n$.mobile.transitionFallbacks.slide = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for slidedown in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.slidedown = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for slidefade in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n// Set the slide transitions's fallback to \"fade\"\n$.mobile.transitionFallbacks.slidefade = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for slideup in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.slideup = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for turn in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.turn = \"fade\";\n\n})( jQuery, this );\n\n\n(function( $, undefined ) {\n\n$.mobile.degradeInputs = {\n\tcolor: false,\n\tdate: false,\n\tdatetime: false,\n\t\"datetime-local\": false,\n\temail: false,\n\tmonth: false,\n\tnumber: false,\n\trange: \"number\",\n\tsearch: \"text\",\n\ttel: false,\n\ttime: false,\n\turl: false,\n\tweek: false\n};\n// Backcompat remove in 1.5\n$.mobile.page.prototype.options.degradeInputs = $.mobile.degradeInputs;\n\n// Auto self-init widgets\n$.mobile.degradeInputsWithin = function( target ) {\n\n\ttarget = $( target );\n\n\t// Degrade inputs to avoid poorly implemented native functionality\n\ttarget.find( \"input\" ).not( $.mobile.page.prototype.keepNativeSelector() ).each(function() {\n\t\tvar element = $( this ),\n\t\t\ttype = this.getAttribute( \"type\" ),\n\t\t\toptType = $.mobile.degradeInputs[ type ] || \"text\",\n\t\t\thtml, hasType, findstr, repstr;\n\n\t\tif ( $.mobile.degradeInputs[ type ] ) {\n\t\t\thtml = $( \"<div>\" ).html( element.clone() ).html();\n\t\t\t// In IE browsers, the type sometimes doesn't exist in the cloned markup, so we replace the closing tag instead\n\t\t\thasType = html.indexOf( \" type=\" ) > -1;\n\t\t\tfindstr = hasType ? /\\s+type=[\"']?\\w+['\"]?/ : /\\/?>/;\n\t\t\trepstr = \" type=\\\"\" + optType + \"\\\" data-\" + $.mobile.ns + \"type=\\\"\" + type + \"\\\"\" + ( hasType ? \"\" : \">\" );\n\n\t\t\telement.replaceWith( html.replace( findstr, repstr ) );\n\t\t}\n\t});\n\n};\n\n})( jQuery );\n\n(function( $, window, undefined ) {\n\n$.widget( \"mobile.page\", $.mobile.page, {\n\toptions: {\n\n\t\t// Accepts left, right and none\n\t\tcloseBtn: \"left\",\n\t\tcloseBtnText: \"Close\",\n\t\toverlayTheme: \"a\",\n\t\tcorners: true,\n\t\tdialog: false\n\t},\n\n\t_create: function() {\n\t\tthis._super();\n\t\tif ( this.options.dialog ) {\n\n\t\t\t$.extend( this, {\n\t\t\t\t_inner: this.element.children(),\n\t\t\t\t_headerCloseButton: null\n\t\t\t});\n\n\t\t\tif ( !this.options.enhanced ) {\n\t\t\t\tthis._setCloseBtn( this.options.closeBtn );\n\t\t\t}\n\t\t}\n\t},\n\n\t_enhance: function() {\n\t\tthis._super();\n\n\t\t// Class the markup for dialog styling and wrap interior\n\t\tif ( this.options.dialog ) {\n\t\t\tthis.element.addClass( \"ui-dialog\" )\n\t\t\t\t.wrapInner( $( \"<div/>\", {\n\n\t\t\t\t\t// ARIA role\n\t\t\t\t\t\"role\" : \"dialog\",\n\t\t\t\t\t\"class\" : \"ui-dialog-contain ui-overlay-shadow\" +\n\t\t\t\t\t\t( this.options.corners ? \" ui-corner-all\" : \"\" )\n\t\t\t\t}));\n\t\t}\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar closeButtonLocation, closeButtonText,\n\t\t\tcurrentOpts = this.options;\n\n\t\tif ( options.corners !== undefined ) {\n\t\t\tthis._inner.toggleClass( \"ui-corner-all\", !!options.corners );\n\t\t}\n\n\t\tif ( options.overlayTheme !== undefined ) {\n\t\t\tif ( $.mobile.activePage[ 0 ] === this.element[ 0 ] ) {\n\t\t\t\tcurrentOpts.overlayTheme = options.overlayTheme;\n\t\t\t\tthis._handlePageBeforeShow();\n\t\t\t}\n\t\t}\n\n\t\tif ( options.closeBtnText !== undefined ) {\n\t\t\tcloseButtonLocation = currentOpts.closeBtn;\n\t\t\tcloseButtonText = options.closeBtnText;\n\t\t}\n\n\t\tif ( options.closeBtn !== undefined ) {\n\t\t\tcloseButtonLocation = options.closeBtn;\n\t\t}\n\n\t\tif ( closeButtonLocation ) {\n\t\t\tthis._setCloseBtn( closeButtonLocation, closeButtonText );\n\t\t}\n\n\t\tthis._super( options );\n\t},\n\n\t_handlePageBeforeShow: function () {\n\t\tif ( this.options.overlayTheme && this.options.dialog ) {\n\t\t\tthis.removeContainerBackground();\n\t\t\tthis.setContainerBackground( this.options.overlayTheme );\n\t\t} else {\n\t\t\tthis._super();\n\t\t}\n\t},\n\n\t_setCloseBtn: function( location, text ) {\n\t\tvar dst,\n\t\t\tbtn = this._headerCloseButton;\n\n\t\t// Sanitize value\n\t\tlocation = \"left\" === location ? \"left\" : \"right\" === location ? \"right\" : \"none\";\n\n\t\tif ( \"none\" === location ) {\n\t\t\tif ( btn ) {\n\t\t\t\tbtn.remove();\n\t\t\t\tbtn = null;\n\t\t\t}\n\t\t} else if ( btn ) {\n\t\t\tbtn.removeClass( \"ui-btn-left ui-btn-right\" ).addClass( \"ui-btn-\" + location );\n\t\t\tif ( text ) {\n\t\t\t\tbtn.text( text );\n\t\t\t}\n\t\t} else {\n\t\t\tdst = this._inner.find( \":jqmData(role='header')\" ).first();\n\t\t\tbtn = $( \"<a></a>\", {\n\t\t\t\t\t\"href\": \"#\",\n\t\t\t\t\t\"class\": \"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-\" + location\n\t\t\t\t})\n\t\t\t\t.attr( \"data-\" + $.mobile.ns + \"rel\", \"back\" )\n\t\t\t\t.text( text || this.options.closeBtnText || \"\" )\n\t\t\t\t.prependTo( dst );\n\t\t\tthis._on( btn, { click: \"close\" } );\n\t\t}\n\n\t\tthis._headerCloseButton = btn;\n\t}\n});\n\n})( jQuery, this );\n\n(function( $, window, undefined ) {\n\n$.widget( \"mobile.dialog\", {\n\toptions: {\n\n\t\t// Accepts left, right and none\n\t\tcloseBtn: \"left\",\n\t\tcloseBtnText: \"Close\",\n\t\toverlayTheme: \"a\",\n\t\tcorners: true\n\t},\n\n\t// Override the theme set by the page plugin on pageshow\n\t_handlePageBeforeShow: function() {\n\t\tthis._isCloseable = true;\n\t\tif ( this.options.overlayTheme ) {\n\t\t\tthis.element\n\t\t\t\t.page( \"removeContainerBackground\" )\n\t\t\t\t.page( \"setContainerBackground\", this.options.overlayTheme );\n\t\t}\n\t},\n\n\t_handlePageBeforeHide: function() {\n\t\tthis._isCloseable = false;\n\t},\n\n\t// click and submit events:\n\t// - clicks and submits should use the closing transition that the dialog\n\t//   opened with unless a data-transition is specified on the link/form\n\t// - if the click was on the close button, or the link has a data-rel=\"back\"\n\t//   it'll go back in history naturally\n\t_handleVClickSubmit: function( event ) {\n\t\tvar attrs,\n\t\t\t$target = $( event.target ).closest( event.type === \"vclick\" ? \"a\" : \"form\" );\n\n\t\tif ( $target.length && !$target.jqmData( \"transition\" ) ) {\n\t\t\tattrs = {};\n\t\t\tattrs[ \"data-\" + $.mobile.ns + \"transition\" ] =\n\t\t\t\t( $.mobile.navigate.history.getActive() || {} )[ \"transition\" ] ||\n\t\t\t\t$.mobile.defaultDialogTransition;\n\t\t\tattrs[ \"data-\" + $.mobile.ns + \"direction\" ] = \"reverse\";\n\t\t\t$target.attr( attrs );\n\t\t}\n\t},\n\n\t_create: function() {\n\t\tvar elem = this.element,\n\t\t\topts = this.options;\n\n\t\t// Class the markup for dialog styling and wrap interior\n\t\telem.addClass( \"ui-dialog\" )\n\t\t\t.wrapInner( $( \"<div/>\", {\n\n\t\t\t\t// ARIA role\n\t\t\t\t\"role\" : \"dialog\",\n\t\t\t\t\"class\" : \"ui-dialog-contain ui-overlay-shadow\" +\n\t\t\t\t\t( !!opts.corners ? \" ui-corner-all\" : \"\" )\n\t\t\t}));\n\n\t\t$.extend( this, {\n\t\t\t_isCloseable: false,\n\t\t\t_inner: elem.children(),\n\t\t\t_headerCloseButton: null\n\t\t});\n\n\t\tthis._on( elem, {\n\t\t\tvclick: \"_handleVClickSubmit\",\n\t\t\tsubmit: \"_handleVClickSubmit\",\n\t\t\tpagebeforeshow: \"_handlePageBeforeShow\",\n\t\t\tpagebeforehide: \"_handlePageBeforeHide\"\n\t\t});\n\n\t\tthis._setCloseBtn( opts.closeBtn );\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar closeButtonLocation, closeButtonText,\n\t\t\tcurrentOpts = this.options;\n\n\t\tif ( options.corners !== undefined ) {\n\t\t\tthis._inner.toggleClass( \"ui-corner-all\", !!options.corners );\n\t\t}\n\n\t\tif ( options.overlayTheme !== undefined ) {\n\t\t\tif ( $.mobile.activePage[ 0 ] === this.element[ 0 ] ) {\n\t\t\t\tcurrentOpts.overlayTheme = options.overlayTheme;\n\t\t\t\tthis._handlePageBeforeShow();\n\t\t\t}\n\t\t}\n\n\t\tif ( options.closeBtnText !== undefined ) {\n\t\t\tcloseButtonLocation = currentOpts.closeBtn;\n\t\t\tcloseButtonText = options.closeBtnText;\n\t\t}\n\n\t\tif ( options.closeBtn !== undefined ) {\n\t\t\tcloseButtonLocation = options.closeBtn;\n\t\t}\n\n\t\tif ( closeButtonLocation ) {\n\t\t\tthis._setCloseBtn( closeButtonLocation, closeButtonText );\n\t\t}\n\n\t\tthis._super( options );\n\t},\n\n\t_setCloseBtn: function( location, text ) {\n\t\tvar dst,\n\t\t\tbtn = this._headerCloseButton;\n\n\t\t// Sanitize value\n\t\tlocation = \"left\" === location ? \"left\" : \"right\" === location ? \"right\" : \"none\";\n\n\t\tif ( \"none\" === location ) {\n\t\t\tif ( btn ) {\n\t\t\t\tbtn.remove();\n\t\t\t\tbtn = null;\n\t\t\t}\n\t\t} else if ( btn ) {\n\t\t\tbtn.removeClass( \"ui-btn-left ui-btn-right\" ).addClass( \"ui-btn-\" + location );\n\t\t\tif ( text ) {\n\t\t\t\tbtn.text( text );\n\t\t\t}\n\t\t} else {\n\t\t\tdst = this._inner.find( \":jqmData(role='header')\" ).first();\n\t\t\tbtn = $( \"<a></a>\", {\n\t\t\t\t\t\"role\": \"button\",\n\t\t\t\t\t\"href\": \"#\",\n\t\t\t\t\t\"class\": \"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-\" + location\n\t\t\t\t})\n\t\t\t\t.text( text || this.options.closeBtnText || \"\" )\n\t\t\t\t.prependTo( dst );\n\t\t\tthis._on( btn, { click: \"close\" } );\n\t\t}\n\n\t\tthis._headerCloseButton = btn;\n\t},\n\n\t// Close method goes back in history\n\tclose: function() {\n\t\tvar hist = $.mobile.navigate.history;\n\n\t\tif ( this._isCloseable ) {\n\t\t\tthis._isCloseable = false;\n\t\t\t// If the hash listening is enabled and there is at least one preceding history\n\t\t\t// entry it's ok to go back. Initial pages with the dialog hash state are an example\n\t\t\t// where the stack check is necessary\n\t\t\tif ( $.mobile.hashListeningEnabled && hist.activeIndex > 0 ) {\n\t\t\t\t$.mobile.back();\n\t\t\t} else {\n\t\t\t\t$.mobile.pageContainer.pagecontainer( \"back\" );\n\t\t\t}\n\t\t}\n\t}\n});\n\n})( jQuery, this );\n\n(function( $, undefined ) {\n\nvar rInitialLetter = /([A-Z])/g;\n\n$.widget( \"mobile.collapsible\", {\n\toptions: {\n\t\tenhanced: false,\n\t\texpandCueText: null,\n\t\tcollapseCueText: null,\n\t\tcollapsed: true,\n\t\theading: \"h1,h2,h3,h4,h5,h6,legend\",\n\t\tcollapsedIcon: null,\n\t\texpandedIcon: null,\n\t\ticonpos: null,\n\t\ttheme: null,\n\t\tcontentTheme: null,\n\t\tinset: null,\n\t\tcorners: null,\n\t\tmini: null\n\t},\n\n\t_create: function() {\n\t\tvar elem = this.element,\n\t\t\tui = {\n\t\t\t\taccordion: elem\n\t\t\t\t\t.closest( \":jqmData(role='collapsible-set')\" +\n\t\t\t\t\t\t( $.mobile.collapsibleset ? \", :mobile-collapsibleset\" : \"\" ) )\n\t\t\t\t\t.addClass( \"ui-collapsible-set\" )\n\t\t\t};\n\n\t\t$.extend( this, {\n\t\t\t_ui: ui\n\t\t});\n\n\t\tif ( this.options.enhanced ) {\n\t\t\tui.heading = $( \".ui-collapsible-heading\", this.element[ 0 ] );\n\t\t\tui.content = ui.heading.next();\n\t\t\tui.anchor = $( \"a\", ui.heading[ 0 ] ).first();\n\t\t\tui.status = ui.anchor.children( \".ui-collapsible-heading-status\" );\n\t\t} else {\n\t\t\tthis._enhance( elem, ui );\n\t\t}\n\n\t\tthis._on( ui.heading, {\n\t\t\t\"tap\": function() {\n\t\t\t\tui.heading.find( \"a\" ).first().addClass( $.mobile.activeBtnClass );\n\t\t\t},\n\n\t\t\t\"click\": function( event ) {\n\t\t\t\tthis._handleExpandCollapse( !ui.heading.hasClass( \"ui-collapsible-heading-collapsed\" ) );\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t});\n\t},\n\n\t// Adjust the keys inside options for inherited values\n\t_getOptions: function( options ) {\n\t\tvar key,\n\t\t\taccordion = this._ui.accordion,\n\t\t\taccordionWidget = this._ui.accordionWidget;\n\n\t\t// Copy options\n\t\toptions = $.extend( {}, options );\n\n\t\tif ( accordion.length && !accordionWidget ) {\n\t\t\tthis._ui.accordionWidget =\n\t\t\taccordionWidget = accordion.data( \"mobile-collapsibleset\" );\n\t\t}\n\n\t\tfor ( key in options ) {\n\n\t\t\t// Retrieve the option value first from the options object passed in and, if\n\t\t\t// null, from the parent accordion or, if that's null too, or if there's no\n\t\t\t// parent accordion, then from the defaults.\n\t\t\toptions[ key ] =\n\t\t\t\t( options[ key ] != null ) ? options[ key ] :\n\t\t\t\t( accordionWidget ) ? accordionWidget.options[ key ] :\n\t\t\t\taccordion.length ? $.mobile.getAttribute( accordion[ 0 ],\n\t\t\t\t\tkey.replace( rInitialLetter, \"-$1\" ).toLowerCase() ):\n\t\t\t\tnull;\n\n\t\t\tif ( null == options[ key ] ) {\n\t\t\t\toptions[ key ] = $.mobile.collapsible.defaults[ key ];\n\t\t\t}\n\t\t}\n\n\t\treturn options;\n\t},\n\n\t_themeClassFromOption: function( prefix, value ) {\n\t\treturn ( value ? ( value === \"none\" ? \"\" : prefix + value ) : \"\" );\n\t},\n\n\t_enhance: function( elem, ui ) {\n\t\tvar iconclass,\n\t\t\topts = this._getOptions( this.options ),\n\t\t\tcontentThemeClass = this._themeClassFromOption( \"ui-body-\", opts.contentTheme );\n\n\t\telem.addClass( \"ui-collapsible \" +\n\t\t\t( opts.inset ? \"ui-collapsible-inset \" : \"\" ) +\n\t\t\t( opts.inset && opts.corners ? \"ui-corner-all \" : \"\" ) +\n\t\t\t( contentThemeClass ? \"ui-collapsible-themed-content \" : \"\" ) );\n\t\tui.originalHeading = elem.children( this.options.heading ).first(),\n\t\tui.content = elem\n\t\t\t.wrapInner( \"<div \" +\n\t\t\t\t\"class='ui-collapsible-content \" +\n\t\t\t\tcontentThemeClass + \"'></div>\" )\n\t\t\t.children( \".ui-collapsible-content\" ),\n\t\tui.heading = ui.originalHeading;\n\n\t\t// Replace collapsibleHeading if it's a legend\n\t\tif ( ui.heading.is( \"legend\" ) ) {\n\t\t\tui.heading = $( \"<div role='heading'>\"+ ui.heading.html() +\"</div>\" );\n\t\t\tui.placeholder = $( \"<div><!-- placeholder for legend --></div>\" ).insertBefore( ui.originalHeading );\n\t\t\tui.originalHeading.remove();\n\t\t}\n\n\t\ticonclass = ( opts.collapsed ? ( opts.collapsedIcon ? \"ui-icon-\" + opts.collapsedIcon : \"\" ):\n\t\t\t( opts.expandedIcon ? \"ui-icon-\" + opts.expandedIcon : \"\" ) );\n\n\t\tui.status = $( \"<span class='ui-collapsible-heading-status'></span>\" );\n\t\tui.anchor = ui.heading\n\t\t\t.detach()\n\t\t\t//modify markup & attributes\n\t\t\t.addClass( \"ui-collapsible-heading\" )\n\t\t\t.append( ui.status )\n\t\t\t.wrapInner( \"<a href='#' class='ui-collapsible-heading-toggle'></a>\" )\n\t\t\t.find( \"a\" )\n\t\t\t\t.first()\n\t\t\t\t.addClass( \"ui-btn \" +\n\t\t\t\t\t( iconclass ? iconclass + \" \" : \"\" ) +\n\t\t\t\t\t( iconclass ? ( \"ui-btn-icon-\" +\n\t\t\t\t\t\t( opts.iconpos === \"right\" ? \"right\" : \"left\" ) ) +\n\t\t\t\t\t\t\" \" : \"\" ) +\n\t\t\t\t\tthis._themeClassFromOption( \"ui-btn-\", opts.theme ) + \" \" +\n\t\t\t\t\t( opts.mini ? \"ui-mini \" : \"\" ) );\n\n\t\t//drop heading in before content\n\t\tui.heading.insertBefore( ui.content );\n\n\t\tthis._handleExpandCollapse( this.options.collapsed );\n\n\t\treturn ui;\n\t},\n\n\trefresh: function() {\n\t\tvar key, options = {};\n\n\t\tfor ( key in $.mobile.collapsible.defaults ) {\n\t\t\toptions[ key ] = this.options[ key ];\n\t\t}\n\n\t\tthis._setOptions( options );\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar isCollapsed, newTheme, oldTheme, hasCorners,\n\t\t\telem = this.element,\n\t\t\tcurrentOpts = this._getOptions( this.options ),\n\t\t\tui = this._ui,\n\t\t\tanchor = ui.anchor,\n\t\t\tstatus = ui.status,\n\t\t\topts = this._getOptions( options );\n\n\t\t// First and foremost we need to make sure the collapsible is in the proper\n\t\t// state, in case somebody decided to change the collapsed option at the\n\t\t// same time as another option\n\t\tif ( options.collapsed !== undefined ) {\n\t\t\tthis._handleExpandCollapse( options.collapsed );\n\t\t}\n\n\t\tisCollapsed = elem.hasClass( \"ui-collapsible-collapsed\" );\n\n\t\t// Only options referring to the current state need to be applied right away\n\t\t// It is enough to store options covering the alternate in this.options.\n\t\tif ( isCollapsed ) {\n\t\t\tif ( opts.expandCueText !== undefined ) {\n\t\t\t\tstatus.text( opts.expandCueText );\n\t\t\t}\n\t\t\tif ( opts.collapsedIcon !== undefined ) {\n\t\t\t\tif ( currentOpts.collapsedIcon ) {\n\t\t\t\t\tanchor.removeClass( \"ui-icon-\" + currentOpts.collapsedIcon );\n\t\t\t\t}\n\t\t\t\tif ( opts.collapsedIcon ) {\n\t\t\t\t\tanchor.addClass( \"ui-icon-\" + opts.collapsedIcon );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif ( opts.collapseCueText !== undefined ) {\n\t\t\t\tstatus.text( opts.collapseCueText );\n\t\t\t}\n\t\t\tif ( opts.expandedIcon !== undefined ) {\n\t\t\t\tif ( currentOpts.expandedIcon ) {\n\t\t\t\t\tanchor.removeClass( \"ui-icon-\" + currentOpts.expandedIcon );\n\t\t\t\t}\n\t\t\t\tif ( opts.expandedIcon ) {\n\t\t\t\t\tanchor.addClass( \"ui-icon-\" + opts.expandedIcon );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( opts.iconpos !== undefined ) {\n\t\t\tanchor.removeClass( \"ui-btn-icon-\" + ( currentOpts.iconPos === \"right\" ? \"right\" : \"left\" ) );\n\t\t\tanchor.addClass( \"ui-btn-icon-\" + ( opts.iconPos === \"right\" ? \"right\" : \"left\" ) );\n\t\t}\n\n\t\tif ( opts.theme !== undefined ) {\n\t\t\toldTheme = this._themeClassFromOption( \"ui-btn-\", currentOpts.theme );\n\t\t\tnewTheme = this._themeClassFromOption( \"ui-btn-\", opts.theme );\n\t\t\tanchor.removeClass( oldTheme ).addClass( newTheme );\n\t\t}\n\n\t\tif ( opts.contentTheme !== undefined ) {\n\t\t\toldTheme = this._themeClassFromOption( \"ui-body-\", currentOpts.theme );\n\t\t\tnewTheme = this._themeClassFromOption( \"ui-body-\", opts.theme );\n\t\t\tui.content.removeClass( oldTheme ).addClass( newTheme );\n\t\t}\n\n\t\tif ( opts.inset !== undefined ) {\n\t\t\telem.toggleClass( \"ui-collapsible-inset\", opts.inset );\n\t\t\thasCorners = !!( opts.inset && ( opts.corners || currentOpts.corners ) );\n\t\t}\n\n\t\tif ( opts.corners !== undefined ) {\n\t\t\thasCorners = !!( opts.corners && ( opts.inset || currentOpts.inset ) );\n\t\t}\n\n\t\tif ( hasCorners !== undefined ) {\n\t\t\telem.toggleClass( \"ui-corner-all\", hasCorners );\n\t\t}\n\n\t\tif ( opts.mini !== undefined ) {\n\t\t\tanchor.toggleClass( \"ui-mini\", opts.mini );\n\t\t}\n\n\t\tthis._super( options );\n\t},\n\n\t_handleExpandCollapse: function( isCollapse ) {\n\t\tvar opts = this._getOptions( this.options ),\n\t\t\tui = this._ui;\n\n\t\tui.status.text( isCollapse ? opts.expandCueText : opts.collapseCueText );\n\t\tui.heading\n\t\t\t.toggleClass( \"ui-collapsible-heading-collapsed\", isCollapse )\n\t\t\t.find( \"a\" ).first()\n\t\t\t.toggleClass( \"ui-icon-\" + opts.expandedIcon, !isCollapse )\n\n\t\t\t// logic or cause same icon for expanded/collapsed state would remove the ui-icon-class\n\t\t\t.toggleClass( \"ui-icon-\" + opts.collapsedIcon, ( isCollapse || opts.expandedIcon === opts.collapsedIcon ) )\n\t\t\t.removeClass( $.mobile.activeBtnClass );\n\n\t\tthis.element.toggleClass( \"ui-collapsible-collapsed\", isCollapse );\n\t\tui.content\n\t\t\t.toggleClass( \"ui-collapsible-content-collapsed\", isCollapse )\n\t\t\t.attr( \"aria-hidden\", isCollapse )\n\t\t\t.trigger( \"updatelayout\" );\n\t\tthis.options.collapsed = isCollapse;\n\t\tthis._trigger( isCollapse ? \"collapse\" : \"expand\" );\n\t},\n\n\texpand: function() {\n\t\tthis._handleExpandCollapse( false );\n\t},\n\n\tcollapse: function() {\n\t\tthis._handleExpandCollapse( true );\n\t},\n\n\t_destroy: function() {\n\t\tvar ui = this._ui,\n\t\t\topts = this.options;\n\n\t\tif ( opts.enhanced ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ui.placeholder ) {\n\t\t\tui.originalHeading.insertBefore( ui.placeholder );\n\t\t\tui.placeholder.remove();\n\t\t\tui.heading.remove();\n\t\t} else {\n\t\t\tui.status.remove();\n\t\t\tui.heading\n\t\t\t\t.removeClass( \"ui-collapsible-heading ui-collapsible-heading-collapsed\" )\n\t\t\t\t.children()\n\t\t\t\t\t.contents()\n\t\t\t\t\t\t.unwrap();\n\t\t}\n\n\t\tui.anchor.contents().unwrap();\n\t\tui.content.contents().unwrap();\n\t\tthis.element\n\t\t\t.removeClass( \"ui-collapsible ui-collapsible-collapsed \" +\n\t\t\t\t\"ui-collapsible-themed-content ui-collapsible-inset ui-corner-all\" );\n\t}\n});\n\n// Defaults to be used by all instances of collapsible if per-instance values\n// are unset or if nothing is specified by way of inheritance from an accordion.\n// Note that this hash does not contain options \"collapsed\" or \"heading\",\n// because those are not inheritable.\n$.mobile.collapsible.defaults = {\n\texpandCueText: \" click to expand contents\",\n\tcollapseCueText: \" click to collapse contents\",\n\tcollapsedIcon: \"plus\",\n\tcontentTheme: \"inherit\",\n\texpandedIcon: \"minus\",\n\ticonpos: \"left\",\n\tinset: true,\n\tcorners: true,\n\ttheme: \"inherit\",\n\tmini: false\n};\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.mobile.behaviors.addFirstLastClasses = {\n\t_getVisibles: function( $els, create ) {\n\t\tvar visibles;\n\n\t\tif ( create ) {\n\t\t\tvisibles = $els.not( \".ui-screen-hidden\" );\n\t\t} else {\n\t\t\tvisibles = $els.filter( \":visible\" );\n\t\t\tif ( visibles.length === 0 ) {\n\t\t\t\tvisibles = $els.not( \".ui-screen-hidden\" );\n\t\t\t}\n\t\t}\n\n\t\treturn visibles;\n\t},\n\n\t_addFirstLastClasses: function( $els, $visibles, create ) {\n\t\t$els.removeClass( \"ui-first-child ui-last-child\" );\n\t\t$visibles.eq( 0 ).addClass( \"ui-first-child\" ).end().last().addClass( \"ui-last-child\" );\n\t\tif ( !create ) {\n\t\t\tthis.element.trigger( \"updatelayout\" );\n\t\t}\n\t},\n\n\t_removeFirstLastClasses: function( $els ) {\n\t\t$els.removeClass( \"ui-first-child ui-last-child\" );\n\t}\n};\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nvar childCollapsiblesSelector = \":mobile-collapsible, \" + $.mobile.collapsible.initSelector;\n\n$.widget( \"mobile.collapsibleset\", $.extend( {\n\n\t// The initSelector is deprecated as of 1.4.0. In 1.5.0 we will use\n\t// :jqmData(role='collapsibleset') which will allow us to get rid of the line\n\t// below altogether, because the autoinit will generate such an initSelector\n\tinitSelector: \":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')\",\n\n\toptions: $.extend( {\n\t\tenhanced: false,\n\t}, $.mobile.collapsible.defaults ),\n\n\t_handleCollapsibleExpand: function( event ) {\n\t\tvar closestCollapsible = $( event.target ).closest( \".ui-collapsible\" );\n\n\t\tif ( closestCollapsible.parent().is( \":mobile-collapsibleset, :jqmData(role='collapsible-set')\" ) ) {\n\t\t\tclosestCollapsible\n\t\t\t\t.siblings( \".ui-collapsible:not(.ui-collapsible-collapsed)\" )\n\t\t\t\t.collapsible( \"collapse\" );\n\t\t}\n\t},\n\n\t_create: function() {\n\t\tvar elem = this.element,\n\t\t\topts = this.options;\n\n\t\t$.extend( this, {\n\t\t\t_classes: \"\"\n\t\t});\n\n\t\tif ( !opts.enhanced ) {\n\t\t\telem.addClass( \"ui-collapsible-set \" +\n\t\t\t\tthis._themeClassFromOption( \"ui-group-theme-\", opts.theme ) + \" \" +\n\t\t\t\t( opts.corners && opts.inset ? \"ui-corner-all \" : \"\" ) );\n\t\t\tthis.element.find( $.mobile.collapsible.initSelector ).collapsible();\n\t\t}\n\n\t\tthis._on( elem, { collapsibleexpand: \"_handleCollapsibleExpand\" } );\n\t},\n\n\t_themeClassFromOption: function( prefix, value ) {\n\t\treturn ( value ? ( value === \"none\" ? \"\" : prefix + value ) : \"\" );\n\t},\n\n\t_init: function() {\n\t\tthis._refresh( true );\n\n\t\t// Because the corners are handled by the collapsible itself and the default state is collapsed\n\t\t// That was causing https://github.com/jquery/jquery-mobile/issues/4116\n\t\tthis.element\n\t\t\t.children( childCollapsiblesSelector )\n\t\t\t.filter( \":jqmData(collapsed='false')\" )\n\t\t\t.collapsible( \"expand\" );\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar ret, hasCorners,\n\t\t\telem = this.element,\n\t\t\tthemeClass = this._themeClassFromOption( \"ui-group-theme-\", options.theme );\n\n\t\tif ( themeClass ) {\n\t\t\telem\n\t\t\t\t.removeClass( this._themeClassFromOption( \"ui-group-theme-\", this.options.theme ) )\n\t\t\t\t.addClass( themeClass );\n\t\t}\n\n\t\tif ( options.inset !== undefined ) {\n\t\t\thasCorners = !!( options.inset && ( options.corners || this.options.corners ) );\n\t\t}\n\n\t\tif ( options.corners !== undefined ) {\n\t\t\thasCorners = !!( options.corners && ( options.inset || this.options.inset ) );\n\t\t}\n\n\t\tif ( hasCorners !== undefined ) {\n\t\t\telem.toggleClass( \"ui-corner-all\", hasCorners );\n\t\t}\n\n\t\tret = this._super( options );\n\t\tthis.element.children( \":mobile-collapsible\" ).collapsible( \"refresh\" );\n\t\treturn ret;\n\t},\n\n\t_destroy: function() {\n\t\tvar el = this.element;\n\n\t\tthis._removeFirstLastClasses( el.children( childCollapsiblesSelector ) );\n\t\tel\n\t\t\t.removeClass( \"ui-collapsible-set ui-corner-all \" +\n\t\t\t\tthis._themeClassFromOption( \"ui-group-theme-\", this.options.theme ) )\n\t\t\t.children( \":mobile-collapsible\" )\n\t\t\t.collapsible( \"destroy\" );\n\t},\n\n\t_refresh: function( create ) {\n\t\tvar collapsiblesInSet = this.element.children( childCollapsiblesSelector );\n\n\t\tthis.element.find( $.mobile.collapsible.initSelector ).not( \".ui-collapsible\" ).collapsible();\n\n\t\tthis._addFirstLastClasses( collapsiblesInSet, this._getVisibles( collapsiblesInSet, create ), create );\n\t},\n\n\trefresh: function() {\n\t\tthis._refresh( false );\n\t}\n}, $.mobile.behaviors.addFirstLastClasses ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n// Deprecated in 1.4\n$.fn.fieldcontain = function(/* options */) {\n\treturn this.addClass( \"ui-field-contain\" );\n};\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.fn.grid = function( options ) {\n\treturn this.each(function() {\n\n\t\tvar $this = $( this ),\n\t\t\to = $.extend({\n\t\t\t\tgrid: null\n\t\t\t}, options ),\n\t\t\t$kids = $this.children(),\n\t\t\tgridCols = { solo:1, a:2, b:3, c:4, d:5 },\n\t\t\tgrid = o.grid,\n\t\t\titerator,\n\t\t\tletter;\n\n\t\t\tif ( !grid ) {\n\t\t\t\tif ( $kids.length <= 5 ) {\n\t\t\t\t\tfor ( letter in gridCols ) {\n\t\t\t\t\t\tif ( gridCols[ letter ] === $kids.length ) {\n\t\t\t\t\t\t\tgrid = letter;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgrid = \"a\";\n\t\t\t\t\t$this.addClass( \"ui-grid-duo\" );\n\t\t\t\t}\n\t\t\t}\n\t\t\titerator = gridCols[grid];\n\n\t\t$this.addClass( \"ui-grid-\" + grid );\n\n\t\t$kids.filter( \":nth-child(\" + iterator + \"n+1)\" ).addClass( \"ui-block-a\" );\n\n\t\tif ( iterator > 1 ) {\n\t\t\t$kids.filter( \":nth-child(\" + iterator + \"n+2)\" ).addClass( \"ui-block-b\" );\n\t\t}\n\t\tif ( iterator > 2 ) {\n\t\t\t$kids.filter( \":nth-child(\" + iterator + \"n+3)\" ).addClass( \"ui-block-c\" );\n\t\t}\n\t\tif ( iterator > 3 ) {\n\t\t\t$kids.filter( \":nth-child(\" + iterator + \"n+4)\" ).addClass( \"ui-block-d\" );\n\t\t}\n\t\tif ( iterator > 4 ) {\n\t\t\t$kids.filter( \":nth-child(\" + iterator + \"n+5)\" ).addClass( \"ui-block-e\" );\n\t\t}\n\t});\n};\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.navbar\", {\n\toptions: {\n\t\ticonpos: \"top\",\n\t\tgrid: null\n\t},\n\n\t_create: function() {\n\n\t\tvar $navbar = this.element,\n\t\t\t$navbtns = $navbar.find( \"a\" ),\n\t\t\ticonpos = $navbtns.filter( \":jqmData(icon)\" ).length ? this.options.iconpos : undefined;\n\n\t\t$navbar.addClass( \"ui-navbar\" )\n\t\t\t.attr( \"role\", \"navigation\" )\n\t\t\t.find( \"ul\" )\n\t\t\t.jqmEnhanceable()\n\t\t\t.grid({ grid: this.options.grid });\n\n\t\t$navbtns\n\t\t\t.each( function() {\n\t\t\t\tvar icon = $.mobile.getAttribute( this, \"icon\" ),\n\t\t\t\t\ttheme = $.mobile.getAttribute( this, \"theme\" ),\n\t\t\t\t\tclasses = \"ui-btn\";\n\n\t\t\t\tif ( theme ) {\n\t\t\t\t\tclasses += \" ui-btn-\" + theme;\n\t\t\t\t}\n\t\t\t\tif ( icon ) {\n\t\t\t\t\tclasses += \" ui-icon-\" + icon + \" ui-btn-icon-\" + iconpos;\n\t\t\t\t}\n\t\t\t\t$( this ).addClass( classes );\n\t\t\t});\n\n\t\t$navbar.delegate( \"a\", \"vclick\", function( /* event */ ) {\n\t\t\tvar activeBtn = $( this );\n\n\t\t\tif ( !( activeBtn.hasClass( \"ui-state-disabled\" ) ||\n\n\t\t\t\t// DEPRECATED as of 1.4.0 - remove after 1.4.0 release\n\t\t\t\t// only ui-state-disabled should be present thereafter\n\t\t\t\tactiveBtn.hasClass( \"ui-disabled\" ) ||\n\t\t\t\tactiveBtn.hasClass( $.mobile.activeBtnClass ) ) ) {\n\n\t\t\t\t$navbtns.removeClass( $.mobile.activeBtnClass );\n\t\t\t\tactiveBtn.addClass( $.mobile.activeBtnClass );\n\n\t\t\t\t// The code below is a workaround to fix #1181\n\t\t\t\t$( document ).one( \"pagehide\", function() {\n\t\t\t\t\tactiveBtn.removeClass( $.mobile.activeBtnClass );\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t// Buttons in the navbar with ui-state-persist class should regain their active state before page show\n\t\t$navbar.closest( \".ui-page\" ).bind( \"pagebeforeshow\", function() {\n\t\t\t$navbtns.filter( \".ui-state-persist\" ).addClass( $.mobile.activeBtnClass );\n\t\t});\n\t}\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nvar getAttr = $.mobile.getAttribute;\n\n$.widget( \"mobile.listview\", $.extend( {\n\n\toptions: {\n\t\ttheme: null,\n\t\tcountTheme: null, /* Deprecated in 1.4 */\n\t\tdividerTheme: null,\n\t\ticon: \"carat-r\",\n\t\tsplitIcon: \"carat-r\",\n\t\tsplitTheme: null,\n\t\tcorners: true,\n\t\tshadow: true,\n\t\tinset: false\n\t},\n\n\t_create: function() {\n\t\tvar t = this,\n\t\t\tlistviewClasses = \"\";\n\n\t\tlistviewClasses += t.options.inset ? \" ui-listview-inset\" : \"\";\n\n\t\tif ( !!t.options.inset ) {\n\t\t\tlistviewClasses += t.options.corners ? \" ui-corner-all\" : \"\";\n\t\t\tlistviewClasses += t.options.shadow ? \" ui-shadow\" : \"\";\n\t\t}\n\n\t\t// create listview markup\n\t\tt.element.addClass( \" ui-listview\" + listviewClasses );\n\n\t\tt.refresh( true );\n\t},\n\n\t// TODO: Remove in 1.5\n\t_findFirstElementByTagName: function( ele, nextProp, lcName, ucName ) {\n\t\tvar dict = {};\n\t\tdict[ lcName ] = dict[ ucName ] = true;\n\t\twhile ( ele ) {\n\t\t\tif ( dict[ ele.nodeName ] ) {\n\t\t\t\treturn ele;\n\t\t\t}\n\t\t\tele = ele[ nextProp ];\n\t\t}\n\t\treturn null;\n\t},\n\t// TODO: Remove in 1.5\n\t_addThumbClasses: function( containers ) {\n\t\tvar i, img, len = containers.length;\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\timg = $( this._findFirstElementByTagName( containers[ i ].firstChild, \"nextSibling\", \"img\", \"IMG\" ) );\n\t\t\tif ( img.length ) {\n\t\t\t\t$( this._findFirstElementByTagName( img[ 0 ].parentNode, \"parentNode\", \"li\", \"LI\" ) ).addClass( img.hasClass( \"ui-li-icon\" ) ? \"ui-li-has-icon\" : \"ui-li-has-thumb\" );\n\t\t\t}\n\t\t}\n\t},\n\n\t_getChildrenByTagName: function( ele, lcName, ucName ) {\n\t\tvar results = [],\n\t\t\tdict = {};\n\t\tdict[ lcName ] = dict[ ucName ] = true;\n\t\tele = ele.firstChild;\n\t\twhile ( ele ) {\n\t\t\tif ( dict[ ele.nodeName ] ) {\n\t\t\t\tresults.push( ele );\n\t\t\t}\n\t\t\tele = ele.nextSibling;\n\t\t}\n\t\treturn $( results );\n\t},\n\n\t_beforeListviewRefresh: $.noop,\n\t_afterListviewRefresh: $.noop,\n\n\trefresh: function( create ) {\n\t\tvar buttonClass, pos, numli, item, itemClass, itemTheme, itemIcon, icon, a,\n\t\t\tisDivider, startCount, newStartCount, value, last, splittheme, splitThemeClass, spliticon,\n\t\t\taltButtonClass, dividerTheme, li,\n\t\t\to = this.options,\n\t\t\t$list = this.element,\n\t\t\tol = !!$.nodeName( $list[ 0 ], \"ol\" ),\n\t\t\tstart = $list.attr( \"start\" ),\n\t\t\titemClassDict = {},\n\t\t\tcountBubbles = $list.find( \".ui-li-count\" ),\n\t\t\tcountTheme = getAttr( $list[ 0 ], \"counttheme\" ) || this.options.countTheme,\n\t\t\tcountThemeClass = countTheme ? \"ui-body-\" + countTheme : \"ui-body-inherit\";\n\n\t\tif ( o.theme ) {\n\t\t\t$list.addClass( \"ui-group-theme-\" + o.theme );\n\t\t}\n\n\t\t// Check if a start attribute has been set while taking a value of 0 into account\n\t\tif ( ol && ( start || start === 0 ) ) {\n\t\t\tstartCount = parseInt( start, 10 ) - 1;\n\t\t\t$list.css( \"counter-reset\", \"listnumbering \" + startCount );\n\t\t}\n\n\t\tthis._beforeListviewRefresh();\n\n\t\tli = this._getChildrenByTagName( $list[ 0 ], \"li\", \"LI\" );\n\n\t\tfor ( pos = 0, numli = li.length; pos < numli; pos++ ) {\n\t\t\titem = li.eq( pos );\n\t\t\titemClass = \"\";\n\n\t\t\tif ( create || item[ 0 ].className.search( /\\bui-li-static\\b|\\bui-li-divider\\b/ ) < 0 ) {\n\t\t\t\ta = this._getChildrenByTagName( item[ 0 ], \"a\", \"A\" );\n\t\t\t\tisDivider = ( getAttr( item[ 0 ], \"role\" ) === \"list-divider\" );\n\t\t\t\tvalue = item.attr( \"value\" );\n\t\t\t\titemTheme = getAttr( item[ 0 ], \"theme\" );\n\n\t\t\t\tif ( a.length && a[ 0 ].className.search( /\\bui-btn\\b/ ) < 0 && !isDivider ) {\n\t\t\t\t\titemIcon = getAttr( item[ 0 ], \"icon\" );\n\t\t\t\t\ticon = ( itemIcon === false ) ? false : ( itemIcon || o.icon );\n\n\t\t\t\t\t// TODO: Remove in 1.5 together with links.js (links.js / .ui-link deprecated in 1.4)\n\t\t\t\t\ta.removeClass( \"ui-link\" );\n\n\t\t\t\t\tbuttonClass = \"ui-btn\";\n\n\t\t\t\t\tif ( itemTheme ) {\n\t\t\t\t\t\tbuttonClass += \" ui-btn-\" + itemTheme;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( a.length > 1 ) {\n\t\t\t\t\t\titemClass = \"ui-li-has-alt\";\n\n\t\t\t\t\t\tlast = a.last();\n\t\t\t\t\t\tsplittheme = getAttr( last[ 0 ], \"theme\" ) || o.splitTheme || getAttr( item[ 0 ], \"theme\", true );\n\t\t\t\t\t\tsplitThemeClass = splittheme ? \" ui-btn-\" + splittheme : \"\";\n\t\t\t\t\t\tspliticon = getAttr( last[ 0 ], \"icon\" ) || getAttr( item[ 0 ], \"icon\" ) || o.splitIcon;\n\t\t\t\t\t\taltButtonClass = \"ui-btn ui-btn-icon-notext ui-icon-\" + spliticon + splitThemeClass;\n\n\t\t\t\t\t\tlast\n\t\t\t\t\t\t\t.attr( \"title\", $.trim( last.getEncodedText() ) )\n\t\t\t\t\t\t\t.addClass( altButtonClass )\n\t\t\t\t\t\t\t.empty();\n\t\t\t\t\t} else if ( icon ) {\n\t\t\t\t\t\tbuttonClass += \" ui-btn-icon-right ui-icon-\" + icon;\n\t\t\t\t\t}\n\n\t\t\t\t\ta.first().addClass( buttonClass );\n\t\t\t\t} else if ( isDivider ) {\n\t\t\t\t\tdividerTheme = ( getAttr( item[ 0 ], \"theme\" ) || o.dividerTheme || o.theme );\n\n\t\t\t\t\titemClass = \"ui-li-divider ui-bar-\" + ( dividerTheme ? dividerTheme : \"inherit\" );\n\n\t\t\t\t\titem.attr( \"role\", \"heading\" );\n\t\t\t\t} else if ( a.length <= 0 ) {\n\t\t\t\t\titemClass = \"ui-li-static ui-body-\" + ( itemTheme ? itemTheme : \"inherit\" );\n\t\t\t\t}\n\t\t\t\tif ( ol && value ) {\n\t\t\t\t\tnewStartCount = parseInt( value , 10 ) - 1;\n\n\t\t\t\t\titem.css( \"counter-reset\", \"listnumbering \" + newStartCount );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Instead of setting item class directly on the list item\n\t\t\t// at this point in time, push the item into a dictionary\n\t\t\t// that tells us what class to set on it so we can do this after this\n\t\t\t// processing loop is finished.\n\n\t\t\tif ( !itemClassDict[ itemClass ] ) {\n\t\t\t\titemClassDict[ itemClass ] = [];\n\t\t\t}\n\n\t\t\titemClassDict[ itemClass ].push( item[ 0 ] );\n\t\t}\n\n\t\t// Set the appropriate listview item classes on each list item.\n\t\t// The main reason we didn't do this\n\t\t// in the for-loop above is because we can eliminate per-item function overhead\n\t\t// by calling addClass() and children() once or twice afterwards. This\n\t\t// can give us a significant boost on platforms like WP7.5.\n\n\t\tfor ( itemClass in itemClassDict ) {\n\t\t\t$( itemClassDict[ itemClass ] ).addClass( itemClass );\n\t\t}\n\n\t\tcountBubbles.each( function() {\n\t\t\t$( this ).closest( \"li\" ).addClass( \"ui-li-has-count\" );\n\t\t});\n\t\tif ( countThemeClass ) {\n\t\t\tcountBubbles.addClass( countThemeClass );\n\t\t}\n\n\t\t// Deprecated in 1.4. From 1.5 you have to add class ui-li-has-thumb or ui-li-has-icon to the LI.\n\t\tthis._addThumbClasses( li );\n\t\tthis._addThumbClasses( li.find( \".ui-btn\" ) );\n\n\t\tthis._afterListviewRefresh();\n\n\t\tthis._addFirstLastClasses( li, this._getVisibles( li, create ), create );\n\t}\n}, $.mobile.behaviors.addFirstLastClasses ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nfunction defaultAutodividersSelector( elt ) {\n\t// look for the text in the given element\n\tvar text = $.trim( elt.text() ) || null;\n\n\tif ( !text ) {\n\t\treturn null;\n\t}\n\n\t// create the text for the divider (first uppercased letter)\n\ttext = text.slice( 0, 1 ).toUpperCase();\n\n\treturn text;\n}\n\n$.widget( \"mobile.listview\", $.mobile.listview, {\n\toptions: {\n\t\tautodividers: false,\n\t\tautodividersSelector: defaultAutodividersSelector\n\t},\n\n\t_beforeListviewRefresh: function() {\n\t\tif ( this.options.autodividers ) {\n\t\t\tthis._replaceDividers();\n\t\t\tthis._superApply( arguments );\n\t\t}\n\t},\n\n\t_replaceDividers: function() {\n\t\tvar i, lis, li, dividerText,\n\t\t\tlastDividerText = null,\n\t\t\tlist = this.element,\n\t\t\tdivider;\n\n\t\tlist.children( \"li:jqmData(role='list-divider')\" ).remove();\n\n\t\tlis = list.children( \"li\" );\n\n\t\tfor ( i = 0; i < lis.length ; i++ ) {\n\t\t\tli = lis[ i ];\n\t\t\tdividerText = this.options.autodividersSelector( $( li ) );\n\n\t\t\tif ( dividerText && lastDividerText !== dividerText ) {\n\t\t\t\tdivider = document.createElement( \"li\" );\n\t\t\t\tdivider.appendChild( document.createTextNode( dividerText ) );\n\t\t\t\tdivider.setAttribute( \"data-\" + $.mobile.ns + \"role\", \"list-divider\" );\n\t\t\t\tli.parentNode.insertBefore( divider, li );\n\t\t\t}\n\n\t\t\tlastDividerText = dividerText;\n\t\t}\n\t}\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nvar rdivider = /(^|\\s)ui-li-divider($|\\s)/,\n\trhidden = /(^|\\s)ui-screen-hidden($|\\s)/;\n\n$.widget( \"mobile.listview\", $.mobile.listview, {\n\toptions: {\n\t\thideDividers: false\n\t},\n\n\t_afterListviewRefresh: function() {\n\t\tvar items, idx, item, hideDivider = true;\n\n\t\tthis._superApply( arguments );\n\n\t\tif ( this.options.hideDividers ) {\n\t\t\titems = this._getChildrenByTagName( this.element[ 0 ], \"li\", \"LI\" );\n\t\t\tfor ( idx = items.length - 1 ; idx > -1 ; idx-- ) {\n\t\t\t\titem = items[ idx ];\n\t\t\t\tif ( item.className.match( rdivider ) ) {\n\t\t\t\t\tif ( hideDivider ) {\n\t\t\t\t\t\titem.className = item.className + \" ui-screen-hidden\";\n\t\t\t\t\t}\n\t\t\t\t\thideDivider = true;\n\t\t\t\t} else {\n\t\t\t\t\tif ( !item.className.match( rhidden ) ) {\n\t\t\t\t\t\thideDivider = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.mobile.nojs = function( target ) {\n\t$( \":jqmData(role='nojs')\", target ).addClass( \"ui-nojs\" );\n};\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.mobile.behaviors.formReset = {\n\t_handleFormReset: function() {\n\t\tthis._on( this.element.closest( \"form\" ), {\n\t\t\treset: function() {\n\t\t\t\tthis._delay( \"_reset\" );\n\t\t\t}\n\t\t});\n\t}\n};\n\n})( jQuery );\n\n/*\n* \"checkboxradio\" plugin\n*/\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.checkboxradio\", $.extend( {\n\n\tinitSelector: \"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))\",\n\n\toptions: {\n\t\ttheme: \"inherit\",\n\t\tmini: false,\n\t\twrapperClass: null,\n\t\tenhanced: false,\n\t\ticonpos: \"left\"\n\n\t},\n\t_create: function() {\n\t\tvar input = this.element,\n\t\t\to = this.options,\n\t\t\tinheritAttr = function( input, dataAttr ) {\n\t\t\t\treturn input.jqmData( dataAttr ) ||\n\t\t\t\t\tinput.closest( \"form, fieldset\" ).jqmData( dataAttr );\n\t\t\t},\n\t\t\t// NOTE: Windows Phone could not find the label through a selector\n\t\t\t// filter works though.\n\t\t\tparentLabel = input.closest( \"label\" ),\n\t\t\tlabel = parentLabel.length ? parentLabel :\n\t\t\t\tinput\n\t\t\t\t\t.closest( \"form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')\" )\n\t\t\t\t\t.find( \"label\" )\n\t\t\t\t\t.filter( \"[for='\" + $.mobile.path.hashToSelector( input[0].id ) + \"']\" )\n\t\t\t\t\t.first(),\n\t\t\tinputtype = input[0].type,\n\t\t\tcheckedClass = \"ui-\" + inputtype + \"-on\",\n\t\t\tuncheckedClass = \"ui-\" + inputtype + \"-off\";\n\n\t\tif ( inputtype !== \"checkbox\" && inputtype !== \"radio\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.element[0].disabled ) {\n\t\t\tthis.options.disabled = true;\n\t\t}\n\n\t\to.iconpos = inheritAttr( input, \"iconpos\" ) || label.attr( \"data-\" + $.mobile.ns + \"iconpos\" ) || o.iconpos,\n\n\t\t// Establish options\n\t\to.mini = inheritAttr( input, \"mini\" ) || o.mini;\n\n\t\t// Expose for other methods\n\t\t$.extend( this, {\n\t\t\tinput: input,\n\t\t\tlabel: label,\n\t\t\tparentLabel: parentLabel,\n\t\t\tinputtype: inputtype,\n\t\t\tcheckedClass: checkedClass,\n\t\t\tuncheckedClass: uncheckedClass\n\t\t});\n\n\t\tif ( !this.options.enhanced ) {\n\t\t\tthis._enhance();\n\t\t}\n\n\t\tthis._on( label, {\n\t\t\tvmouseover: \"_handleLabelVMouseOver\",\n\t\t\tvclick: \"_handleLabelVClick\"\n\t\t});\n\n\t\tthis._on( input, {\n\t\t\tvmousedown: \"_cacheVals\",\n\t\t\tvclick: \"_handleInputVClick\",\n\t\t\tfocus: \"_handleInputFocus\",\n\t\t\tblur: \"_handleInputBlur\"\n\t\t});\n\n\t\tthis._handleFormReset();\n\t\tthis.refresh();\n\t},\n\n\t_enhance: function() {\n\t\tthis.label.addClass( \"ui-btn ui-corner-all\");\n\n\t\tif ( this.parentLabel.length > 0 ) {\n\t\t\tthis.input.add( this.label ).wrapAll( this._wrapper() );\n\t\t} else {\n\t\t\t//this.element.replaceWith( this.input.add( this.label ).wrapAll( this._wrapper() ) );\n\t\t\tthis.element.wrap( this._wrapper() );\n\t\t\tthis.element.parent().prepend( this.label );\n\t\t}\n\n\t\t// Wrap the input + label in a div\n\n\t\tthis._setOptions({\n\t\t\t\"theme\": this.options.theme,\n\t\t\t\"iconpos\": this.options.iconpos,\n\t\t\t\"mini\": this.options.mini\n\t\t});\n\n\t},\n\n\t_wrapper: function() {\n\t\treturn $( \"<div class='\"  +\n\t\t\t( this.options.wrapperClass ? this.options.wrapperClass : \"\" ) +\n\t\t\t\" ui-\" + this.inputtype +\n\t\t\t( this.options.disabled ? \" ui-state-disabled\" : \"\" ) + \"' >\" );\n\t},\n\n\t_handleInputFocus: function() {\n\t\tthis.label.addClass( $.mobile.focusClass );\n\t},\n\n\t_handleInputBlur: function() {\n\t\tthis.label.removeClass( $.mobile.focusClass );\n\t},\n\n\t_handleInputVClick: function() {\n\t\tvar $this = this.element;\n\n\t\t// Adds checked attribute to checked input when keyboard is used\n\t\tif ( $this.is( \":checked\" ) ) {\n\n\t\t\t$this.prop( \"checked\", true);\n\t\t\tthis._getInputSet().not( $this ).prop( \"checked\", false );\n\t\t} else {\n\t\t\t$this.prop( \"checked\", false );\n\t\t}\n\n\t\tthis._updateAll();\n\t},\n\n\t_handleLabelVMouseOver: function( event ) {\n\t\tif ( this.label.parent().hasClass( \"ui-state-disabled\" ) ) {\n\t\t\tevent.stopPropagation();\n\t\t}\n\t},\n\n\t_handleLabelVClick: function( event ) {\n\t\tvar input = this.element;\n\n\t\tif ( input.is( \":disabled\" ) ) {\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._cacheVals();\n\n\t\tinput.prop( \"checked\", this.inputtype === \"radio\" && true || !input.prop( \"checked\" ) );\n\n\t\t// trigger click handler's bound directly to the input as a substitute for\n\t\t// how label clicks behave normally in the browsers\n\t\t// TODO: it would be nice to let the browser's handle the clicks and pass them\n\t\t//       through to the associate input. we can swallow that click at the parent\n\t\t//       wrapper element level\n\t\tinput.triggerHandler( \"click\" );\n\n\t\t// Input set for common radio buttons will contain all the radio\n\t\t// buttons, but will not for checkboxes. clearing the checked status\n\t\t// of other radios ensures the active button state is applied properly\n\t\tthis._getInputSet().not( input ).prop( \"checked\", false );\n\n\t\tthis._updateAll();\n\t\treturn false;\n\t},\n\n\t_cacheVals: function() {\n\t\tthis._getInputSet().each( function() {\n\t\t\t$( this ).attr(\"data-\" + $.mobile.ns + \"cacheVal\", this.checked );\n\t\t});\n\t},\n\n\t//returns either a set of radios with the same name attribute, or a single checkbox\n\t_getInputSet: function() {\n\t\tif ( this.inputtype === \"checkbox\" ) {\n\t\t\treturn this.element;\n\t\t}\n\n\t\treturn this.element.closest( \"form, :jqmData(role='page'), :jqmData(role='dialog')\" )\n\t\t\t.find( \"input[name='\" + this.element[ 0 ].name + \"'][type='\" + this.inputtype + \"']\" );\n\t},\n\n\t_updateAll: function() {\n\t\tvar self = this;\n\n\t\tthis._getInputSet().each( function() {\n\t\t\tvar $this = $( this );\n\n\t\t\tif ( this.checked || self.inputtype === \"checkbox\" ) {\n\t\t\t\t$this.trigger( \"change\" );\n\t\t\t}\n\t\t})\n\t\t.checkboxradio( \"refresh\" );\n\t},\n\n\t_reset: function() {\n\t\tthis.refresh();\n\t},\n\n\t// Is the widget supposed to display an icon?\n\t_hasIcon: function() {\n\t\tvar controlgroup, controlgroupWidget,\n\t\t\tcontrolgroupConstructor = $.mobile.controlgroup;\n\n\t\t// If the controlgroup widget is defined ...\n\t\tif ( controlgroupConstructor ) {\n\t\t\tcontrolgroup = this.element.closest(\n\t\t\t\t\":mobile-controlgroup,\" +\n\t\t\t\tcontrolgroupConstructor.prototype.initSelector );\n\n\t\t\t// ... and the checkbox is in a controlgroup ...\n\t\t\tif ( controlgroup.length > 0 ) {\n\n\t\t\t\t// ... look for a controlgroup widget instance, and ...\n\t\t\t\tcontrolgroupWidget = $.data( controlgroup[ 0 ], \"mobile-controlgroup\" );\n\n\t\t\t\t// ... if found, decide based on the option value, ...\n\t\t\t\treturn ( ( controlgroupWidget ? controlgroupWidget.options.type :\n\n\t\t\t\t\t// ... otherwise decide based on the \"type\" data attribute.\n\t\t\t\t\tcontrolgroup.attr( \"data-\" + $.mobile.ns + \"type\" ) ) !== \"horizontal\" );\n\t\t\t}\n\t\t}\n\n\t\t// Normally, the widget displays an icon.\n\t\treturn true;\n\t},\n\n\trefresh: function() {\n\t\tvar hasIcon = this._hasIcon(),\n\t\t\tisChecked = this.element[ 0 ].checked,\n\t\t\tactive = $.mobile.activeBtnClass,\n\t\t\ticonposClass = \"ui-btn-icon-\" + this.options.iconpos,\n\t\t\taddClasses = [],\n\t\t\tremoveClasses = [];\n\n\t\tif ( hasIcon ) {\n\t\t\tremoveClasses.push( active );\n\t\t\taddClasses.push( iconposClass );\n\t\t} else {\n\t\t\tremoveClasses.push( iconposClass );\n\t\t\t( isChecked ? addClasses : removeClasses ).push( active );\n\t\t}\n\n\t\tif ( isChecked ) {\n\t\t\taddClasses.push( this.checkedClass );\n\t\t\tremoveClasses.push( this.uncheckedClass );\n\t\t} else {\n\t\t\taddClasses.push( this.uncheckedClass );\n\t\t\tremoveClasses.push( this.checkedClass );\n\t\t}\n\n\t\tthis.label\n\t\t\t.addClass( addClasses.join( \" \" ) )\n\t\t\t.removeClass( removeClasses.join( \" \" ) );\n\t},\n\n\twidget: function() {\n\t\treturn this.label.parent();\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar label = this.label,\n\t\t\tcurrentOptions = this.options,\n\t\t\touter = this.widget(),\n\t\t\thasIcon = this._hasIcon();\n\n\t\tif ( options.disabled !== undefined ) {\n\t\t\tthis.input.prop( \"disabled\", !!options.disabled );\n\t\t\touter.toggleClass( \"ui-state-disabled\", !!options.disabled );\n\t\t}\n\t\tif ( options.mini !== undefined ) {\n\t\t\touter.toggleClass( \"ui-mini\", !!options.mini );\n\t\t}\n\t\tif ( options.theme !== undefined ) {\n\t\t\tlabel\n\t\t\t\t.removeClass( \"ui-btn-\" + currentOptions.theme )\n\t\t\t\t.addClass( \"ui-btn-\" + options.theme );\n\t\t}\n\t\tif ( options.wrapperClass !== undefined ) {\n\t\t\touter\n\t\t\t\t.removeClass( currentOptions.wrapperClass )\n\t\t\t\t.addClass( options.wrapperClass );\n\t\t}\n\t\tif ( options.iconpos !== undefined && hasIcon ) {\n\t\t\tlabel.removeClass( \"ui-btn-icon-\" + currentOptions.iconpos ).addClass( \"ui-btn-icon-\" + options.iconpos );\n\t\t} else if ( !hasIcon ) {\n\t\t\tlabel.removeClass( \"ui-btn-icon-\" + currentOptions.iconpos );\n\t\t}\n\t\tthis._super( options );\n\t}\n\n}, $.mobile.behaviors.formReset ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.button\", {\n\n\tinitSelector: \"input[type='button'], input[type='submit'], input[type='reset']\",\n\n\toptions: {\n\t\ttheme: null,\n\t\ticon: null,\n\t\ticonpos: \"left\",\n\t\ticonshadow: false, /* TODO: Deprecated in 1.4, remove in 1.5. */\n\t\tcorners: true,\n\t\tshadow: true,\n\t\tinline: null,\n\t\tmini: null,\n\t\twrapperClass: null,\n\t\tenhanced: false\n\t},\n\n\t_create: function() {\n\n\t\tif ( this.element.is( \":disabled\" ) ) {\n\t\t\tthis.options.disabled = true;\n\t\t}\n\n\t\tif ( !this.options.enhanced ) {\n\t\t\tthis._enhance();\n\t\t}\n\n\t\t$.extend( this, {\n\t\t\twrapper: this.element.parent()\n\t\t});\n\n\t\tthis._on( {\n\t\t\tfocus: function() {\n\t\t\t\tthis.widget().addClass( $.mobile.focusClass );\n\t\t\t},\n\n\t\t\tblur: function() {\n\t\t\t\tthis.widget().removeClass( $.mobile.focusClass );\n\t\t\t}\n\t\t});\n\n\t\tthis.refresh( true );\n\t},\n\n\t_enhance: function() {\n\t\tthis.element.wrap( this._button() );\n\t},\n\n\t_button: function() {\n\t\tvar options = this.options,\n\t\t\ticonClasses = this._getIconClasses( this.options );\n\n\t\treturn $(\"<div class='ui-btn ui-input-btn\" +\n\t\t\t( options.wrapperClass ? \" \" + options.wrapperClass : \"\" ) +\n\t\t\t( options.theme ? \" ui-btn-\" + options.theme : \"\" ) +\n\t\t\t( options.corners ? \" ui-corner-all\" : \"\" ) +\n\t\t\t( options.shadow ? \" ui-shadow\" : \"\" ) +\n\t\t\t( options.inline ? \" ui-btn-inline\" : \"\" ) +\n\t\t\t( options.mini ? \" ui-mini\" : \"\" ) +\n\t\t\t( options.disabled ? \" ui-state-disabled\" : \"\" ) +\n\t\t\t( iconClasses ? ( \" \" + iconClasses ) : \"\" ) +\n\t\t\t\"' >\" + this.element.val() + \"</div>\" );\n\t},\n\n\twidget: function() {\n\t\treturn this.wrapper;\n\t},\n\n\t_destroy: function() {\n\t\t\tthis.element.insertBefore( this.button );\n\t\t\tthis.button.remove();\n\t},\n\n\t_getIconClasses: function( options ) {\n\t\treturn ( options.icon ? ( \"ui-icon-\" + options.icon +\n\t\t\t( options.iconshadow ? \" ui-shadow-icon\" : \"\" ) + /* TODO: Deprecated in 1.4, remove in 1.5. */\n\t\t\t\" ui-btn-icon-\" + options.iconpos ) : \"\" );\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar outer = this.widget();\n\n\t\tif ( options.theme !== undefined ) {\n\t\t\touter\n\t\t\t\t.removeClass( this.options.theme )\n\t\t\t\t.addClass( \"ui-btn-\" + options.theme );\n\t\t}\n\t\tif ( options.corners !== undefined ) {\n\t\t\touter.toggleClass( \"ui-corner-all\", options.corners );\n\t\t}\n\t\tif ( options.shadow !== undefined ) {\n\t\t\touter.toggleClass( \"ui-shadow\", options.shadow );\n\t\t}\n\t\tif ( options.inline !== undefined ) {\n\t\t\touter.toggleClass( \"ui-btn-inline\", options.inline );\n\t\t}\n\t\tif ( options.mini !== undefined ) {\n\t\t\touter.toggleClass( \"ui-mini\", options.mini );\n\t\t}\n\t\tif ( options.disabled !== undefined ) {\n\t\t\tthis.element.prop( \"disabled\", options.disabled );\n\t\t\touter.toggleClass( \"ui-state-disabled\", options.disabled );\n\t\t}\n\n\t\tif ( options.icon !== undefined ||\n\t\t\t\toptions.iconshadow !== undefined || /* TODO: Deprecated in 1.4, remove in 1.5. */\n\t\t\t\toptions.iconpos !== undefined ) {\n\t\t\touter\n\t\t\t\t.removeClass( this._getIconClasses( this.options ) )\n\t\t\t\t.addClass( this._getIconClasses(\n\t\t\t\t\t$.extend( {}, this.options, options ) ) );\n\t\t}\n\n\t\tthis._super( options );\n\t},\n\n\trefresh: function( create ) {\n\t\tif ( this.options.icon && this.options.iconpos === \"notext\" && this.element.attr( \"title\" ) ) {\n\t\t\tthis.element.attr( \"title\", this.element.val() );\n\t\t}\n\t\tif ( !create ) {\n\t\t\tvar originalElement = this.element.detach();\n\t\t\t$( this.wrapper ).text( this.element.val() ).append( originalElement );\n\t\t}\n\t}\n});\n\n})( jQuery );\n\n(function( $ ) {\n\tvar\tmeta = $( \"meta[name=viewport]\" ),\n\t\tinitialContent = meta.attr( \"content\" ),\n\t\tdisabledZoom = initialContent + \",maximum-scale=1, user-scalable=no\",\n\t\tenabledZoom = initialContent + \",maximum-scale=10, user-scalable=yes\",\n\t\tdisabledInitially = /(user-scalable[\\s]*=[\\s]*no)|(maximum-scale[\\s]*=[\\s]*1)[$,\\s]/.test( initialContent );\n\n\t$.mobile.zoom = $.extend( {}, {\n\t\tenabled: !disabledInitially,\n\t\tlocked: false,\n\t\tdisable: function( lock ) {\n\t\t\tif ( !disabledInitially && !$.mobile.zoom.locked ) {\n\t\t\t\tmeta.attr( \"content\", disabledZoom );\n\t\t\t\t$.mobile.zoom.enabled = false;\n\t\t\t\t$.mobile.zoom.locked = lock || false;\n\t\t\t}\n\t\t},\n\t\tenable: function( unlock ) {\n\t\t\tif ( !disabledInitially && ( !$.mobile.zoom.locked || unlock === true ) ) {\n\t\t\t\tmeta.attr( \"content\", enabledZoom );\n\t\t\t\t$.mobile.zoom.enabled = true;\n\t\t\t\t$.mobile.zoom.locked = false;\n\t\t\t}\n\t\t},\n\t\trestore: function() {\n\t\t\tif ( !disabledInitially ) {\n\t\t\t\tmeta.attr( \"content\", initialContent );\n\t\t\t\t$.mobile.zoom.enabled = true;\n\t\t\t}\n\t\t}\n\t});\n\n}( jQuery ));\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.textinput\", {\n\tinitSelector: \"input[type='text'],\" +\n\t\t\"input[type='search'],\" +\n\t\t\":jqmData(type='search'),\" +\n\t\t\"input[type='number'],\" +\n\t\t\":jqmData(type='number'),\" +\n\t\t\"input[type='password'],\" +\n\t\t\"input[type='email'],\" +\n\t\t\"input[type='url'],\" +\n\t\t\"input[type='tel'],\" +\n\t\t\"textarea,\" +\n\t\t\"input[type='time'],\" +\n\t\t\"input[type='date'],\" +\n\t\t\"input[type='month'],\" +\n\t\t\"input[type='week'],\" +\n\t\t\"input[type='datetime'],\" +\n\t\t\"input[type='datetime-local'],\" +\n\t\t\"input[type='color'],\" +\n\t\t\"input:not([type]),\" +\n\t\t\"input[type='file']\",\n\n\toptions: {\n\t\ttheme: null,\n\t\tcorners: true,\n\t\tmini: false,\n\t\t// This option defaults to true on iOS devices.\n\t\tpreventFocusZoom: /iPhone|iPad|iPod/.test( navigator.platform ) && navigator.userAgent.indexOf( \"AppleWebKit\" ) > -1,\n\t\twrapperClass: \"\",\n\t\tenhanced: false\n\t},\n\n\t_create: function() {\n\n\t\tvar options = this.options,\n\t\t\tisSearch = this.element.is( \"[type='search'], :jqmData(type='search')\" ),\n\t\t\tisTextarea = this.element[ 0 ].tagName === \"TEXTAREA\",\n\t\t\tisRange = this.element.is( \"[data-\" + ( $.mobile.ns || \"\" ) + \"type='range']\" ),\n\t\t\tinputNeedsWrap = ( (this.element.is( \"input\" ) ||\n\t\t\t\tthis.element.is( \"[data-\" + ( $.mobile.ns || \"\" ) + \"type='search']\" ) ) &&\n\t\t\t\t\t!isRange );\n\n\t\tif ( this.element.prop( \"disabled\" ) ) {\n\t\t\toptions.disabled = true;\n\t\t}\n\n\t\t$.extend( this, {\n\t\t\tclasses: this._classesFromOptions(),\n\t\t\tisSearch: isSearch,\n\t\t\tisTextarea: isTextarea,\n\t\t\tisRange: isRange,\n\t\t\tinputNeedsWrap: inputNeedsWrap\n\t\t});\n\n\t\tthis._autoCorrect();\n\n\t\tif ( !options.enhanced ) {\n\t\t\tthis._enhance();\n\t\t}\n\n\t\tthis._on( {\n\t\t\t\"focus\": \"_handleFocus\",\n\t\t\t\"blur\": \"_handleBlur\"\n\t\t});\n\n\t},\n\n\trefresh: function() {\n\t\tthis.setOptions({\n\t\t\t\"disabled\" : this.element.is( \":disabled\" )\n\t\t});\n\t},\n\n\t_enhance: function() {\n\t\tvar elementClasses = [];\n\n\t\tif ( this.isTextarea ) {\n\t\t\telementClasses.push( \"ui-input-text\" );\n\t\t}\n\n\t\tif ( this.isTextarea || this.isRange ) {\n\t\t\telementClasses.push( \"ui-shadow-inset\" );\n\t\t}\n\n\t\t//\"search\" and \"text\" input widgets\n\t\tif ( this.inputNeedsWrap ) {\n\t\t\tthis.element.wrap( this._wrap() );\n\t\t} else {\n\t\t\telementClasses = elementClasses.concat( this.classes );\n\t\t}\n\n\t\tthis.element.addClass( elementClasses.join( \" \" ) );\n\t},\n\n\twidget: function() {\n\t\treturn ( this.inputNeedsWrap ) ? this.element.parent() : this.element;\n\t},\n\n\t_classesFromOptions: function() {\n\t\tvar options = this.options,\n\t\t\tclasses = [];\n\n\t\tclasses.push( \"ui-body-\" + ( ( options.theme === null ) ? \"inherit\" : options.theme ) );\n\t\tif ( options.corners ) {\n\t\t\tclasses.push( \"ui-corner-all\" );\n\t\t}\n\t\tif ( options.mini ) {\n\t\t\tclasses.push( \"ui-mini\" );\n\t\t}\n\t\tif ( options.disabled ) {\n\t\t\tclasses.push( \"ui-state-disabled\" );\n\t\t}\n\t\tif ( options.wrapperClass ) {\n\t\t\tclasses.push( options.wrapperClass );\n\t\t}\n\n\t\treturn classes;\n\t},\n\n\t_wrap: function() {\n\t\treturn $( \"<div class='\" +\n\t\t\t( this.isSearch ? \"ui-input-search \" : \"ui-input-text \" ) +\n\t\t\tthis.classes.join( \" \" ) + \" \" +\n\t\t\t\"ui-shadow-inset'></div>\" );\n\t},\n\n\t_autoCorrect: function() {\n\t\t// XXX: Temporary workaround for issue 785 (Apple bug 8910589).\n\t\t//      Turn off autocorrect and autocomplete on non-iOS 5 devices\n\t\t//      since the popup they use can't be dismissed by the user. Note\n\t\t//      that we test for the presence of the feature by looking for\n\t\t//      the autocorrect property on the input element. We currently\n\t\t//      have no test for iOS 5 or newer so we're temporarily using\n\t\t//      the touchOverflow support flag for jQM 1.0. Yes, I feel dirty.\n\t\t//      - jblas\n\t\tif ( typeof this.element[0].autocorrect !== \"undefined\" &&\n\t\t\t!$.support.touchOverflow ) {\n\n\t\t\t// Set the attribute instead of the property just in case there\n\t\t\t// is code that attempts to make modifications via HTML.\n\t\t\tthis.element[0].setAttribute( \"autocorrect\", \"off\" );\n\t\t\tthis.element[0].setAttribute( \"autocomplete\", \"off\" );\n\t\t}\n\t},\n\n\t_handleBlur: function() {\n\t\tthis.widget().removeClass( $.mobile.focusClass );\n\t\tif ( this.options.preventFocusZoom ) {\n\t\t\t$.mobile.zoom.enable( true );\n\t\t}\n\t},\n\n\t_handleFocus: function() {\n\t\t// In many situations, iOS will zoom into the input upon tap, this\n\t\t// prevents that from happening\n\t\tif ( this.options.preventFocusZoom ) {\n\t\t\t$.mobile.zoom.disable( true );\n\t\t}\n\t\tthis.widget().addClass( $.mobile.focusClass );\n\t},\n\n\t_setOptions: function ( options ) {\n\t\tvar outer = this.widget();\n\n\t\tthis._super( options );\n\n\t\tif ( !( options.disabled === undefined &&\n\t\t\toptions.mini === undefined &&\n\t\t\toptions.corners === undefined &&\n\t\t\toptions.theme === undefined &&\n\t\t\toptions.wrapperClass === undefined ) ) {\n\n\t\t\touter.removeClass( this.classes.join( \" \" ) );\n\t\t\tthis.classes = this._classesFromOptions();\n\t\t\touter.addClass( this.classes.join( \" \" ) );\n\t\t}\n\n\t\tif ( options.disabled !== undefined ) {\n\t\t\tthis.element.prop( \"disabled\", !!options.disabled );\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tif ( this.options.enhanced ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( this.inputNeedsWrap ) {\n\t\t\tthis.element.unwrap();\n\t\t}\n\t\tthis.element.removeClass( \"ui-input-text \" + this.classes.join( \" \" ) );\n\t}\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.slider\", $.extend( {\n\tinitSelector: \"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')\",\n\n\twidgetEventPrefix: \"slide\",\n\n\toptions: {\n\t\ttheme: null,\n\t\ttrackTheme: null,\n\t\tcorners: true,\n\t\tmini: false,\n\t\thighlight: false\n\t},\n\n\t_create: function() {\n\n\t\t// TODO: Each of these should have comments explain what they're for\n\t\tvar self = this,\n\t\t\tcontrol = this.element,\n\t\t\ttrackTheme = this.options.trackTheme || $.mobile.getAttribute( control[ 0 ], \"theme\" ),\n\t\t\ttrackThemeClass = trackTheme ? \" ui-bar-\" + trackTheme : \" ui-bar-inherit\",\n\t\t\tcornerClass = ( this.options.corners || control.jqmData( \"corners\" ) ) ? \" ui-corner-all\" : \"\",\n\t\t\tminiClass = ( this.options.mini || control.jqmData( \"mini\" ) ) ? \" ui-mini\" : \"\",\n\t\t\tcType = control[ 0 ].nodeName.toLowerCase(),\n\t\t\tisToggleSwitch = ( cType === \"select\" ),\n\t\t\tisRangeslider = control.parent().is( \":jqmData(role='rangeslider')\" ),\n\t\t\tselectClass = ( isToggleSwitch ) ? \"ui-slider-switch\" : \"\",\n\t\t\tcontrolID = control.attr( \"id\" ),\n\t\t\t$label = $( \"[for='\" + controlID + \"']\" ),\n\t\t\tlabelID = $label.attr( \"id\" ) || controlID + \"-label\",\n\t\t\tmin = !isToggleSwitch ? parseFloat( control.attr( \"min\" ) ) : 0,\n\t\t\tmax =  !isToggleSwitch ? parseFloat( control.attr( \"max\" ) ) : control.find( \"option\" ).length-1,\n\t\t\tstep = window.parseFloat( control.attr( \"step\" ) || 1 ),\n\t\t\tdomHandle = document.createElement( \"a\" ),\n\t\t\thandle = $( domHandle ),\n\t\t\tdomSlider = document.createElement( \"div\" ),\n\t\t\tslider = $( domSlider ),\n\t\t\tvaluebg = this.options.highlight && !isToggleSwitch ? (function() {\n\t\t\t\tvar bg = document.createElement( \"div\" );\n\t\t\t\tbg.className = \"ui-slider-bg \" + $.mobile.activeBtnClass;\n\t\t\t\treturn $( bg ).prependTo( slider );\n\t\t\t})() : false,\n\t\t\toptions,\n\t\t\twrapper,\n\t\t\tj, length,\n\t\t\ti, optionsCount, origTabIndex,\n\t\t\tside, activeClass, sliderImg;\n\n\t\t$label.attr( \"id\", labelID );\n\t\tthis.isToggleSwitch = isToggleSwitch;\n\n\t\tdomHandle.setAttribute( \"href\", \"#\" );\n\t\tdomSlider.setAttribute( \"role\", \"application\" );\n\t\tdomSlider.className = [ this.isToggleSwitch ? \"ui-slider ui-slider-track ui-shadow-inset \" : \"ui-slider-track ui-shadow-inset \", selectClass, trackThemeClass, cornerClass, miniClass ].join( \"\" );\n\t\tdomHandle.className = \"ui-slider-handle\";\n\t\tdomSlider.appendChild( domHandle );\n\n\t\thandle.attr({\n\t\t\t\"role\": \"slider\",\n\t\t\t\"aria-valuemin\": min,\n\t\t\t\"aria-valuemax\": max,\n\t\t\t\"aria-valuenow\": this._value(),\n\t\t\t\"aria-valuetext\": this._value(),\n\t\t\t\"title\": this._value(),\n\t\t\t\"aria-labelledby\": labelID\n\t\t});\n\n\t\t$.extend( this, {\n\t\t\tslider: slider,\n\t\t\thandle: handle,\n\t\t\tcontrol: control,\n\t\t\ttype: cType,\n\t\t\tstep: step,\n\t\t\tmax: max,\n\t\t\tmin: min,\n\t\t\tvaluebg: valuebg,\n\t\t\tisRangeslider: isRangeslider,\n\t\t\tdragging: false,\n\t\t\tbeforeStart: null,\n\t\t\tuserModified: false,\n\t\t\tmouseMoved: false\n\t\t});\n\n\t\tif ( isToggleSwitch ) {\n\t\t\t// TODO: restore original tabindex (if any) in a destroy method\n\t\t\torigTabIndex = control.attr( \"tabindex\" );\n\t\t\tif ( origTabIndex ) {\n\t\t\t\thandle.attr( \"tabindex\", origTabIndex );\n\t\t\t}\n\t\t\tcontrol.attr( \"tabindex\", \"-1\" ).focus(function() {\n\t\t\t\t$( this ).blur();\n\t\t\t\thandle.focus();\n\t\t\t});\n\n\t\t\twrapper = document.createElement( \"div\" );\n\t\t\twrapper.className = \"ui-slider-inneroffset\";\n\n\t\t\tfor ( j = 0, length = domSlider.childNodes.length; j < length; j++ ) {\n\t\t\t\twrapper.appendChild( domSlider.childNodes[j] );\n\t\t\t}\n\n\t\t\tdomSlider.appendChild( wrapper );\n\n\t\t\t// slider.wrapInner( \"<div class='ui-slider-inneroffset'></div>\" );\n\n\t\t\t// make the handle move with a smooth transition\n\t\t\thandle.addClass( \"ui-slider-handle-snapping\" );\n\n\t\t\toptions = control.find( \"option\" );\n\n\t\t\tfor ( i = 0, optionsCount = options.length; i < optionsCount; i++ ) {\n\t\t\t\tside = !i ? \"b\" : \"a\";\n\t\t\t\tactiveClass = !i ? \"\" : \" \" + $.mobile.activeBtnClass;\n\t\t\t\tsliderImg = document.createElement( \"span\" );\n\n\t\t\t\tsliderImg.className = [ \"ui-slider-label ui-slider-label-\", side, activeClass ].join( \"\" );\n\t\t\t\tsliderImg.setAttribute( \"role\", \"img\" );\n\t\t\t\tsliderImg.appendChild( document.createTextNode( options[i].innerHTML ) );\n\t\t\t\t$( sliderImg ).prependTo( slider );\n\t\t\t}\n\n\t\t\tself._labels = $( \".ui-slider-label\", slider );\n\n\t\t}\n\n\t\t// monitor the input for updated values\n\t\tcontrol.addClass( isToggleSwitch ? \"ui-slider-switch\" : \"ui-slider-input\" );\n\n\t\tthis._on( control, {\n\t\t\t\"change\": \"_controlChange\",\n\t\t\t\"keyup\": \"_controlKeyup\",\n\t\t\t\"blur\": \"_controlBlur\",\n\t\t\t\"vmouseup\": \"_controlVMouseUp\"\n\t\t});\n\n\t\tslider.bind( \"vmousedown\", $.proxy( this._sliderVMouseDown, this ) )\n\t\t\t.bind( \"vclick\", false );\n\n\t\t// We have to instantiate a new function object for the unbind to work properly\n\t\t// since the method itself is defined in the prototype (causing it to unbind everything)\n\t\tthis._on( document, { \"vmousemove\": \"_preventDocumentDrag\" });\n\t\tthis._on( slider.add( document ), { \"vmouseup\": \"_sliderVMouseUp\" });\n\n\t\tslider.insertAfter( control );\n\n\t\t// wrap in a div for styling purposes\n\t\tif ( !isToggleSwitch && !isRangeslider ) {\n\t\t\twrapper = this.options.mini ? \"<div class='ui-slider ui-mini'>\" : \"<div class='ui-slider'>\";\n\n\t\t\tcontrol.add( slider ).wrapAll( wrapper );\n\t\t}\n\n\t\t// bind the handle event callbacks and set the context to the widget instance\n\t\tthis._on( this.handle, {\n\t\t\t\"vmousedown\": \"_handleVMouseDown\",\n\t\t\t\"keydown\": \"_handleKeydown\",\n\t\t\t\"keyup\": \"_handleKeyup\"\n\t\t});\n\n\t\tthis.handle.bind( \"vclick\", false );\n\n\t\tthis._handleFormReset();\n\n\t\tthis.refresh( undefined, undefined, true );\n\t},\n\n\t_setOptions: function( options ) {\n\t\tif ( options.theme !== undefined ) {\n\t\t\tthis._setTheme( options.theme );\n\t\t}\n\n\t\tif ( options.trackTheme !== undefined ) {\n\t\t\tthis._setTrackTheme( options.trackTheme );\n\t\t}\n\n\t\tif ( options.corners !== undefined ) {\n\t\t\tthis._setCorners( options.corners );\n\t\t}\n\n\t\tif ( options.mini !== undefined ) {\n\t\t\tthis._setMini( options.mini );\n\t\t}\n\n\t\tif ( options.highlight !== undefined ) {\n\t\t\tthis._setHighlight( options.highlight );\n\t\t}\n\n\t\tif ( options.disabled !== undefined ) {\n\t\t\tthis._setDisabled( options.disabled );\n\t\t}\n\t\tthis._super( options );\n\t},\n\n\t_controlChange: function( event ) {\n\t\t// if the user dragged the handle, the \"change\" event was triggered from inside refresh(); don't call refresh() again\n\t\tif ( this._trigger( \"controlchange\", event ) === false ) {\n\t\t\treturn false;\n\t\t}\n\t\tif ( !this.mouseMoved ) {\n\t\t\tthis.refresh( this._value(), true );\n\t\t}\n\t},\n\n\t_controlKeyup: function(/* event */) { // necessary?\n\t\tthis.refresh( this._value(), true, true );\n\t},\n\n\t_controlBlur: function(/* event */) {\n\t\tthis.refresh( this._value(), true );\n\t},\n\n\t// it appears the clicking the up and down buttons in chrome on\n\t// range/number inputs doesn't trigger a change until the field is\n\t// blurred. Here we check thif the value has changed and refresh\n\t_controlVMouseUp: function(/* event */) {\n\t\tthis._checkedRefresh();\n\t},\n\n\t// NOTE force focus on handle\n\t_handleVMouseDown: function(/* event */) {\n\t\tthis.handle.focus();\n\t},\n\n\t_handleKeydown: function( event ) {\n\t\tvar index = this._value();\n\t\tif ( this.options.disabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// In all cases prevent the default and mark the handle as active\n\t\tswitch ( event.keyCode ) {\n\t\t\tcase $.mobile.keyCode.HOME:\n\t\t\tcase $.mobile.keyCode.END:\n\t\t\tcase $.mobile.keyCode.PAGE_UP:\n\t\t\tcase $.mobile.keyCode.PAGE_DOWN:\n\t\t\tcase $.mobile.keyCode.UP:\n\t\t\tcase $.mobile.keyCode.RIGHT:\n\t\t\tcase $.mobile.keyCode.DOWN:\n\t\t\tcase $.mobile.keyCode.LEFT:\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif ( !this._keySliding ) {\n\t\t\t\t\tthis._keySliding = true;\n\t\t\t\t\tthis.handle.addClass( \"ui-state-active\" ); /* TODO: We don't use this class for styling. Do we need to add it? */\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// move the slider according to the keypress\n\t\tswitch ( event.keyCode ) {\n\t\t\tcase $.mobile.keyCode.HOME:\n\t\t\t\tthis.refresh( this.min );\n\t\t\t\tbreak;\n\t\t\tcase $.mobile.keyCode.END:\n\t\t\t\tthis.refresh( this.max );\n\t\t\t\tbreak;\n\t\t\tcase $.mobile.keyCode.PAGE_UP:\n\t\t\tcase $.mobile.keyCode.UP:\n\t\t\tcase $.mobile.keyCode.RIGHT:\n\t\t\t\tthis.refresh( index + this.step );\n\t\t\t\tbreak;\n\t\t\tcase $.mobile.keyCode.PAGE_DOWN:\n\t\t\tcase $.mobile.keyCode.DOWN:\n\t\t\tcase $.mobile.keyCode.LEFT:\n\t\t\t\tthis.refresh( index - this.step );\n\t\t\t\tbreak;\n\t\t}\n\t}, // remove active mark\n\n\t_handleKeyup: function(/* event */) {\n\t\tif ( this._keySliding ) {\n\t\t\tthis._keySliding = false;\n\t\t\tthis.handle.removeClass( \"ui-state-active\" ); /* See comment above. */\n\t\t}\n\t},\n\n\t_sliderVMouseDown: function( event ) {\n\t\t// NOTE: we don't do this in refresh because we still want to\n\t\t//       support programmatic alteration of disabled inputs\n\t\tif ( this.options.disabled || !( event.which === 1 || event.which === 0 || event.which === undefined ) ) {\n\t\t\treturn false;\n\t\t}\n\t\tif ( this._trigger( \"beforestart\", event ) === false ) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.dragging = true;\n\t\tthis.userModified = false;\n\t\tthis.mouseMoved = false;\n\n\t\tif ( this.isToggleSwitch ) {\n\t\t\tthis.beforeStart = this.element[0].selectedIndex;\n\t\t}\n\n\t\tthis.refresh( event );\n\t\tthis._trigger( \"start\" );\n\t\treturn false;\n\t},\n\n\t_sliderVMouseUp: function() {\n\t\tif ( this.dragging ) {\n\t\t\tthis.dragging = false;\n\n\t\t\tif ( this.isToggleSwitch ) {\n\t\t\t\t// make the handle move with a smooth transition\n\t\t\t\tthis.handle.addClass( \"ui-slider-handle-snapping\" );\n\n\t\t\t\tif ( this.mouseMoved ) {\n\t\t\t\t\t// this is a drag, change the value only if user dragged enough\n\t\t\t\t\tif ( this.userModified ) {\n\t\t\t\t\t\tthis.refresh( this.beforeStart === 0 ? 1 : 0 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.refresh( this.beforeStart );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// this is just a click, change the value\n\t\t\t\t\tthis.refresh( this.beforeStart === 0 ? 1 : 0 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.mouseMoved = false;\n\t\t\tthis._trigger( \"stop\" );\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t_preventDocumentDrag: function( event ) {\n\t\t\t// NOTE: we don't do this in refresh because we still want to\n\t\t\t//       support programmatic alteration of disabled inputs\n\t\t\tif ( this._trigger( \"drag\", event ) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ( this.dragging && !this.options.disabled ) {\n\n\t\t\t\t// this.mouseMoved must be updated before refresh() because it will be used in the control \"change\" event\n\t\t\t\tthis.mouseMoved = true;\n\n\t\t\t\tif ( this.isToggleSwitch ) {\n\t\t\t\t\t// make the handle move in sync with the mouse\n\t\t\t\t\tthis.handle.removeClass( \"ui-slider-handle-snapping\" );\n\t\t\t\t}\n\n\t\t\t\tthis.refresh( event );\n\n\t\t\t\t// only after refresh() you can calculate this.userModified\n\t\t\t\tthis.userModified = this.beforeStart !== this.element[0].selectedIndex;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t_checkedRefresh: function() {\n\t\tif ( this.value !== this._value() ) {\n\t\t\tthis.refresh( this._value() );\n\t\t}\n\t},\n\n\t_value: function() {\n\t\treturn  this.isToggleSwitch ? this.element[0].selectedIndex : parseFloat( this.element.val() ) ;\n\t},\n\n\t_reset: function() {\n\t\tthis.refresh( undefined, false, true );\n\t},\n\n\trefresh: function( val, isfromControl, preventInputUpdate ) {\n\t\t// NOTE: we don't return here because we want to support programmatic\n\t\t//       alteration of the input value, which should still update the slider\n\n\t\tvar self = this,\n\t\t\tparentTheme = $.mobile.getAttribute( this.element[ 0 ], \"theme\" ),\n\t\t\ttheme = this.options.theme || parentTheme,\n\t\t\tthemeClass =  theme ? \" ui-btn-\" + theme : \"\",\n\t\t\ttrackTheme = this.options.trackTheme || parentTheme,\n\t\t\ttrackThemeClass = trackTheme ? \" ui-bar-\" + trackTheme : \" ui-bar-inherit\",\n\t\t\tcornerClass = this.options.corners ? \" ui-corner-all\" : \"\",\n\t\t\tminiClass = this.options.mini ? \" ui-mini\" : \"\",\n\t\t\tleft, width, data, tol,\n\t\t\tpxStep, percent,\n\t\t\tcontrol, isInput, optionElements, min, max, step,\n\t\t\tnewval, valModStep, alignValue, percentPerStep,\n\t\t\thandlePercent, aPercent, bPercent,\n\t\t\tvalueChanged;\n\n\t\tself.slider[0].className = [ this.isToggleSwitch ? \"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset\" : \"ui-slider-track ui-shadow-inset\", trackThemeClass, cornerClass, miniClass ].join( \"\" );\n\t\tif ( this.options.disabled || this.element.prop( \"disabled\" ) ) {\n\t\t\tthis.disable();\n\t\t}\n\n\t\t// set the stored value for comparison later\n\t\tthis.value = this._value();\n\t\tif ( this.options.highlight && !this.isToggleSwitch && this.slider.find( \".ui-slider-bg\" ).length === 0 ) {\n\t\t\tthis.valuebg = (function() {\n\t\t\t\tvar bg = document.createElement( \"div\" );\n\t\t\t\tbg.className = \"ui-slider-bg \" + $.mobile.activeBtnClass;\n\t\t\t\treturn $( bg ).prependTo( self.slider );\n\t\t\t})();\n\t\t}\n\t\tthis.handle.addClass( \"ui-btn\" + themeClass + \" ui-shadow\" );\n\n\t\tcontrol = this.element;\n\t\tisInput = !this.isToggleSwitch;\n\t\toptionElements = isInput ? [] : control.find( \"option\" );\n\t\tmin =  isInput ? parseFloat( control.attr( \"min\" ) ) : 0;\n\t\tmax = isInput ? parseFloat( control.attr( \"max\" ) ) : optionElements.length - 1;\n\t\tstep = ( isInput && parseFloat( control.attr( \"step\" ) ) > 0 ) ? parseFloat( control.attr( \"step\" ) ) : 1;\n\n\t\tif ( typeof val === \"object\" ) {\n\t\t\tdata = val;\n\t\t\t// a slight tolerance helped get to the ends of the slider\n\t\t\ttol = 8;\n\n\t\t\tleft = this.slider.offset().left;\n\t\t\twidth = this.slider.width();\n\t\t\tpxStep = width/((max-min)/step);\n\t\t\tif ( !this.dragging ||\n\t\t\t\t\tdata.pageX < left - tol ||\n\t\t\t\t\tdata.pageX > left + width + tol ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( pxStep > 1 ) {\n\t\t\t\tpercent = ( ( data.pageX - left ) / width ) * 100;\n\t\t\t} else {\n\t\t\t\tpercent = Math.round( ( ( data.pageX - left ) / width ) * 100 );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( val == null ) {\n\t\t\t\tval = isInput ? parseFloat( control.val() || 0 ) : control[0].selectedIndex;\n\t\t\t}\n\t\t\tpercent = ( parseFloat( val ) - min ) / ( max - min ) * 100;\n\t\t}\n\n\t\tif ( isNaN( percent ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnewval = ( percent / 100 ) * ( max - min ) + min;\n\n\t\t//from jQuery UI slider, the following source will round to the nearest step\n\t\tvalModStep = ( newval - min ) % step;\n\t\talignValue = newval - valModStep;\n\n\t\tif ( Math.abs( valModStep ) * 2 >= step ) {\n\t\t\talignValue += ( valModStep > 0 ) ? step : ( -step );\n\t\t}\n\n\t\tpercentPerStep = 100/((max-min)/step);\n\t\t// Since JavaScript has problems with large floats, round\n\t\t// the final value to 5 digits after the decimal point (see jQueryUI: #4124)\n\t\tnewval = parseFloat( alignValue.toFixed(5) );\n\n\t\tif ( typeof pxStep === \"undefined\" ) {\n\t\t\tpxStep = width / ( (max-min) / step );\n\t\t}\n\t\tif ( pxStep > 1 && isInput ) {\n\t\t\tpercent = ( newval - min ) * percentPerStep * ( 1 / step );\n\t\t}\n\t\tif ( percent < 0 ) {\n\t\t\tpercent = 0;\n\t\t}\n\n\t\tif ( percent > 100 ) {\n\t\t\tpercent = 100;\n\t\t}\n\n\t\tif ( newval < min ) {\n\t\t\tnewval = min;\n\t\t}\n\n\t\tif ( newval > max ) {\n\t\t\tnewval = max;\n\t\t}\n\n\t\tthis.handle.css( \"left\", percent + \"%\" );\n\n\t\tthis.handle[0].setAttribute( \"aria-valuenow\", isInput ? newval : optionElements.eq( newval ).attr( \"value\" ) );\n\n\t\tthis.handle[0].setAttribute( \"aria-valuetext\", isInput ? newval : optionElements.eq( newval ).getEncodedText() );\n\n\t\tthis.handle[0].setAttribute( \"title\", isInput ? newval : optionElements.eq( newval ).getEncodedText() );\n\n\t\tif ( this.valuebg ) {\n\t\t\tthis.valuebg.css( \"width\", percent + \"%\" );\n\t\t}\n\n\t\t// drag the label widths\n\t\tif ( this._labels ) {\n\t\t\thandlePercent = this.handle.width() / this.slider.width() * 100;\n\t\t\taPercent = percent && handlePercent + ( 100 - handlePercent ) * percent / 100;\n\t\t\tbPercent = percent === 100 ? 0 : Math.min( handlePercent + 100 - aPercent, 100 );\n\n\t\t\tthis._labels.each(function() {\n\t\t\t\tvar ab = $( this ).hasClass( \"ui-slider-label-a\" );\n\t\t\t\t$( this ).width( ( ab ? aPercent : bPercent  ) + \"%\" );\n\t\t\t});\n\t\t}\n\n\t\tif ( !preventInputUpdate ) {\n\t\t\tvalueChanged = false;\n\n\t\t\t// update control\"s value\n\t\t\tif ( isInput ) {\n\t\t\t\tvalueChanged = control.val() !== newval;\n\t\t\t\tcontrol.val( newval );\n\t\t\t} else {\n\t\t\t\tvalueChanged = control[ 0 ].selectedIndex !== newval;\n\t\t\t\tcontrol[ 0 ].selectedIndex = newval;\n\t\t\t}\n\t\t\tif ( this._trigger( \"beforechange\", val ) === false) {\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ( !isfromControl && valueChanged ) {\n\t\t\t\tcontrol.trigger( \"change\" );\n\t\t\t}\n\t\t}\n\t},\n\n\t_setHighlight: function( value ) {\n\t\tvalue = !!value;\n\t\tif ( value ) {\n\t\t\tthis.options.highlight = !!value;\n\t\t\tthis.refresh();\n\t\t} else if ( this.valuebg ) {\n\t\t\tthis.valuebg.remove();\n\t\t\tthis.valuebg = false;\n\t\t}\n\t},\n\n\t_setTheme: function( value ) {\n\t\tthis.handle\n\t\t\t.removeClass( \"ui-btn-\" + this.options.theme )\n\t\t\t.addClass( \"ui-btn-\" + value );\n\n\t\tvar currentTheme = this.options.theme ? this.options.theme : \"inherit\",\n\t\t\tnewTheme = value ? value : \"inherit\";\n\n\t\tthis.control\n\t\t\t.removeClass( \"ui-body-\" + currentTheme )\n\t\t\t.addClass( \"ui-body-\" + newTheme );\n\t},\n\n\t_setTrackTheme: function( value ) {\n\t\tvar currentTrackTheme = this.options.trackTheme ? this.options.trackTheme : \"inherit\",\n\t\t\tnewTrackTheme = value ? value : \"inherit\";\n\n\t\tthis.slider\n\t\t\t.removeClass( \"ui-body-\" + currentTrackTheme )\n\t\t\t.addClass( \"ui-body-\" + newTrackTheme );\n\t},\n\n\t_setMini: function( value ) {\n\t\tvalue = !!value;\n\t\tif ( !this.isToggleSwitch && !this.isRangeslider ) {\n\t\t\tthis.slider.parent().toggleClass( \"ui-mini\", value );\n\t\t\tthis.element.toggleClass( \"ui-mini\", value );\n\t\t}\n\t\tthis.slider.toggleClass( \"ui-mini\", value );\n\t},\n\n\t_setCorners: function( value ) {\n\t\tthis.slider.toggleClass( \"ui-corner-all\", value );\n\n\t\tif ( !this.isToggleSwitch ) {\n\t\t\tthis.control.toggleClass( \"ui-corner-all\", value );\n\t\t}\n\t},\n\n\t_setDisabled: function( value ) {\n\t\tvalue = !!value;\n\t\tthis.element.prop( \"disabled\", value );\n\t\tthis.slider.toggleClass( \"ui-state-disabled\" ).attr( \"aria-disabled\", value );\n\t}\n\n}, $.mobile.behaviors.formReset ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nvar popup;\n\nfunction getPopup() {\n\tif ( !popup ) {\n\t\tpopup = $( \"<div></div>\", {\n\t\t\t\"class\": \"ui-slider-popup ui-shadow ui-corner-all\"\n\t\t});\n\t}\n\treturn popup.clone();\n}\n\n$.widget( \"mobile.slider\", $.mobile.slider, {\n\toptions: {\n\t\tpopupEnabled: false,\n\t\tshowValue: false\n\t},\n\n\t_create: function() {\n\t\tthis._super();\n\n\t\t$.extend( this, {\n\t\t\t_currentValue: null,\n\t\t\t_popup: null,\n\t\t\t_popupVisible: false\n\t\t});\n\n\t\tthis._setOption( \"popupEnabled\", this.options.popupEnabled );\n\n\t\tthis._on( this.handle, { \"vmousedown\" : \"_showPopup\" } );\n\t\tthis._on( this.slider.add( this.document ), { \"vmouseup\" : \"_hidePopup\" } );\n\t\tthis._refresh();\n\t},\n\n\t// position the popup centered 5px above the handle\n\t_positionPopup: function() {\n\t\tvar dstOffset = this.handle.offset();\n\n\t\tthis._popup.offset( {\n\t\t\tleft: dstOffset.left + ( this.handle.width() - this._popup.width() ) / 2,\n\t\t\ttop: dstOffset.top - this._popup.outerHeight() - 5\n\t\t});\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\n\t\tif ( key === \"showValue\" ) {\n\t\t\tthis.handle.html( value && !this.options.mini ? this._value() : \"\" );\n\t\t} else if ( key === \"popupEnabled\" ) {\n\t\t\tif ( value && !this._popup ) {\n\t\t\t\tthis._popup = getPopup()\n\t\t\t\t\t.addClass( \"ui-body-\" + ( this.options.theme || \"a\" ) )\n\t\t\t\t\t.insertBefore( this.element );\n\t\t\t}\n\t\t}\n\t},\n\n\t// show value on the handle and in popup\n\trefresh: function() {\n\t\tthis._super.apply( this, arguments );\n\t\tthis._refresh();\n\t},\n\n\t_refresh: function() {\n\t\tvar o = this.options, newValue;\n\n\t\tif ( o.popupEnabled ) {\n\t\t\t// remove the title attribute from the handle (which is\n\t\t\t// responsible for the annoying tooltip); NB we have\n\t\t\t// to do it here as the jqm slider sets it every time\n\t\t\t// the slider's value changes :(\n\t\t\tthis.handle.removeAttr( \"title\" );\n\t\t}\n\n\t\tnewValue = this._value();\n\t\tif ( newValue === this._currentValue ) {\n\t\t\treturn;\n\t\t}\n\t\tthis._currentValue = newValue;\n\n\t\tif ( o.popupEnabled && this._popup ) {\n\t\t\tthis._positionPopup();\n\t\t\tthis._popup.html( newValue );\n\t\t} else if ( o.showValue && !this.options.mini ) {\n\t\t\tthis.handle.html( newValue );\n\t\t}\n\t},\n\n\t_showPopup: function() {\n\t\tif ( this.options.popupEnabled && !this._popupVisible ) {\n\t\t\tthis.handle.html( \"\" );\n\t\t\tthis._popup.show();\n\t\t\tthis._positionPopup();\n\t\t\tthis._popupVisible = true;\n\t\t}\n\t},\n\n\t_hidePopup: function() {\n\t\tvar o = this.options;\n\n\t\tif ( o.popupEnabled && this._popupVisible ) {\n\t\t\tif ( o.showValue && !o.mini ) {\n\t\t\t\tthis.handle.html( this._value() );\n\t\t\t}\n\t\t\tthis._popup.hide();\n\t\t\tthis._popupVisible = false;\n\t\t}\n\t}\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.flipswitch\", $.extend({\n\n\toptions: {\n\t\tonText: \"On\",\n\t\toffText: \"Off\",\n\t\ttheme: null,\n\t\tenhanced: false,\n\t\twrapperClass: null,\n\t\tcorners: true,\n\t\tmini: false\n\t},\n\n\t_create: function() {\n\t\t\tif ( !this.options.enhanced ) {\n\t\t\t\tthis._enhance();\n\t\t\t} else {\n\t\t\t\t$.extend( this, {\n\t\t\t\t\tflipswitch: this.element.parent(),\n\t\t\t\t\ton: this.element.find( \".ui-flipswitch-on\" ).eq( 0 ),\n\t\t\t\t\toff: this.element.find( \".ui-flipswitch-off\" ).eq(0),\n\t\t\t\t\ttype: this.element.get( 0 ).tagName\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis._handleFormReset();\n\n\t\t\tif ( this.element.is( \":disabled\" ) ) {\n\t\t\t\tthis._setOptions({\n\t\t\t\t\t\"disabled\": true\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis._on( this.flipswitch, {\n\t\t\t\t\"click\": \"_toggle\",\n\t\t\t\t\"swipeleft\": \"_left\",\n\t\t\t\t\"swiperight\": \"_right\"\n\t\t\t});\n\n\t\t\tthis._on( this.on, {\n\t\t\t\t\"keydown\": \"_keydown\"\n\t\t\t});\n\n\t\t\tthis._on( {\n\t\t\t\t\"change\": \"refresh\"\n\t\t\t});\n\t},\n\n\twidget: function() {\n\t\treturn this.flipswitch;\n\t},\n\n\t_left: function() {\n\t\tthis.flipswitch.removeClass( \"ui-flipswitch-active\" );\n\t\tif ( this.type === \"SELECT\" ) {\n\t\t\tthis.element.get( 0 ).selectedIndex = 0;\n\t\t} else {\n\t\t\tthis.element.prop( \"checked\", false );\n\t\t}\n\t\tthis.element.trigger( \"change\" );\n\t},\n\n\t_right: function() {\n\t\tthis.flipswitch.addClass( \"ui-flipswitch-active\" );\n\t\tif ( this.type === \"SELECT\" ) {\n\t\t\tthis.element.get( 0 ).selectedIndex = 1;\n\t\t} else {\n\t\t\tthis.element.prop( \"checked\", true );\n\t\t}\n\t\tthis.element.trigger( \"change\" );\n\t},\n\n\t_enhance: function() {\n\t\tvar flipswitch = $( \"<div>\" ),\n\t\t\toptions = this.options,\n\t\t\telement = this.element,\n\t\t\ttheme = options.theme ? options.theme : \"inherit\",\n\t\t\ton = $( \"<span></span>\", { tabindex: 1 } ),\n\t\t\toff = $( \"<span></span>\" ),\n\t\t\ttype = element.get( 0 ).tagName,\n\t\t\tonText = ( type === \"INPUT\" ) ?\n\t\t\t\toptions.onText : element.find( \"option\" ).eq( 1 ).text(),\n\t\t\toffText = ( type === \"INPUT\" ) ?\n\t\t\t\toptions.offText : element.find( \"option\" ).eq( 0 ).text();\n\n\t\t\ton\n\t\t\t\t.addClass( \"ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit\" )\n\t\t\t\t.text( onText );\n\t\t\toff\n\t\t\t\t.addClass( \"ui-flipswitch-off\" )\n\t\t\t\t.text( offText );\n\n\t\t\tflipswitch\n\t\t\t\t.addClass( \"ui-flipswitch ui-shadow-inset \" +\n\t\t\t\t\t\"ui-bar-\" + theme + \" \" +\n\t\t\t\t\t( options.wrapperClass ? options.wrapperClass : \"\" ) + \" \" +\n\t\t\t\t\t( ( element.is( \":checked\" ) ||\n\t\t\t\t\t\telement\n\t\t\t\t\t\t\t.find( \"option\" )\n\t\t\t\t\t\t\t.eq( 1 )\n\t\t\t\t\t\t\t.is( \":selected\" ) ) ? \"ui-flipswitch-active\" : \"\" ) +\n\t\t\t\t\t( element.is(\":disabled\") ? \" ui-state-disabled\": \"\") +\n\t\t\t\t\t( options.corners ? \" ui-corner-all\": \"\" ) +\n\t\t\t\t\t( options.mini ? \" ui-mini\": \"\" ) )\n\t\t\t\t.append( on, off );\n\n\t\t\telement\n\t\t\t\t.addClass( \"ui-flipswitch-input\" )\n\t\t\t\t.after( flipswitch )\n\t\t\t\t.appendTo( flipswitch );\n\n\t\t$.extend( this, {\n\t\t\tflipswitch: flipswitch,\n\t\t\ton: on,\n\t\t\toff: off,\n\t\t\ttype: type\n\t\t});\n\t},\n\n\t_reset: function() {\n\t\tthis.refresh();\n\t},\n\n\trefresh: function() {\n\t\tvar direction,\n\t\t\texistingDirection = this.flipswitch.hasClass( \"ui-flipswitch-active\" ) ? \"_right\" : \"_left\";\n\n\t\tif ( this.type === \"SELECT\" ) {\n\t\t\tdirection = ( this.element.get( 0 ).selectedIndex > 0 ) ? \"_right\": \"_left\";\n\t\t} else {\n\t\t\tdirection = this.element.prop( \"checked\" ) ? \"_right\": \"_left\";\n\t\t}\n\n\t\tif ( direction !== existingDirection ) {\n\t\t\tthis[ direction ]();\n\t\t}\n\t},\n\n\t_toggle: function() {\n\t\tvar direction = this.flipswitch.hasClass( \"ui-flipswitch-active\" ) ? \"_left\" : \"_right\";\n\n\t\tthis[ direction ]();\n\t},\n\n\t_keydown: function( e ) {\n\t\tif ( e.which === $.mobile.keyCode.LEFT ) {\n\t\t\tthis._left();\n\t\t} else if ( e.which === $.mobile.keyCode.RIGHT ) {\n\t\t\tthis._right();\n\t\t} else if ( e.which === $.mobile.keyCode.SPACE ) {\n\t\t\tthis._toggle();\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\n\t_setOptions: function( options ) {\n\t\tif ( options.theme !== undefined ) {\n\t\t\tvar currentTheme = options.theme ? options.theme : \"inherit\",\n\t\t\t\tnewTheme = options.theme ? options.theme : \"inherit\";\n\n\t\t\tthis.widget()\n\t\t\t\t.removeClass( \"ui-bar-\" + currentTheme )\n\t\t\t\t.addClass( \"ui-bar-\" + newTheme );\n\t\t}\n\t\tif ( options.onText !== undefined ) {\n\t\t\tthis.on.text( options.onText );\n\t\t}\n\t\tif ( options.offText !== undefined ) {\n\t\t\tthis.off.text( options.offText );\n\t\t}\n\t\tif ( options.disabled !== undefined ) {\n\t\t\tthis.widget().toggleClass( \"ui-state-disabled\", options.disabled );\n\t\t}\n\t\tif ( options.mini !== undefined ) {\n\t\t\tthis.widget().toggleClass( \"ui-mini\", options.mini );\n\t\t}\n\t\tif ( options.corners !== undefined ) {\n\t\t\tthis.widget().toggleClass( \"ui-corner-all\", options.corners );\n\t\t}\n\n\t\tthis._super( options );\n\t},\n\n\t_destroy: function() {\n\t\tif ( this.options.enhanced ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.on.remove();\n\t\tthis.off.remove();\n\t\tthis.element.unwrap();\n\t\tthis.flipswitch.remove();\n\t\tthis.removeClass( \"ui-flipswitch-input\" );\n\t}\n\n}, $.mobile.behaviors.formReset ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\t$.widget( \"mobile.rangeslider\", $.extend( {\n\n\t\toptions: {\n\t\t\ttheme: null,\n\t\t\ttrackTheme: null,\n\t\t\tcorners: true,\n\t\t\tmini: false,\n\t\t\thighlight: true\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar $el = this.element,\n\t\t\telClass = this.options.mini ? \"ui-rangeslider ui-mini\" : \"ui-rangeslider\",\n\t\t\t_inputFirst = $el.find( \"input\" ).first(),\n\t\t\t_inputLast = $el.find( \"input\" ).last(),\n\t\t\t_label = $el.find( \"label\" ).first(),\n\t\t\t_sliderWidgetFirst = $.data( _inputFirst.get( 0 ), \"mobile-slider\" ) ||\n\t\t\t\t$.data( _inputFirst.slider().get( 0 ), \"mobile-slider\" ),\n\t\t\t_sliderWidgetLast = $.data( _inputLast.get(0), \"mobile-slider\" ) ||\n\t\t\t\t$.data( _inputLast.slider().get( 0 ), \"mobile-slider\" ),\n\t\t\t_sliderFirst = _sliderWidgetFirst.slider,\n\t\t\t_sliderLast = _sliderWidgetLast.slider,\n\t\t\tfirstHandle = _sliderWidgetFirst.handle,\n\t\t\t_sliders = $( \"<div class='ui-rangeslider-sliders' />\" ).appendTo( $el );\n\n\t\t\t_inputFirst.addClass( \"ui-rangeslider-first\" );\n\t\t\t_inputLast.addClass( \"ui-rangeslider-last\" );\n\t\t\t$el.addClass( elClass );\n\n\t\t\t_sliderFirst.appendTo( _sliders );\n\t\t\t_sliderLast.appendTo( _sliders );\n\t\t\t_label.insertBefore( $el );\n\t\t\tfirstHandle.prependTo( _sliderLast );\n\n\t\t\t$.extend( this, {\n\t\t\t\t_inputFirst: _inputFirst,\n\t\t\t\t_inputLast: _inputLast,\n\t\t\t\t_sliderFirst: _sliderFirst,\n\t\t\t\t_sliderLast: _sliderLast,\n\t\t\t\t_label: _label,\n\t\t\t\t_targetVal: null,\n\t\t\t\t_sliderTarget: false,\n\t\t\t\t_sliders: _sliders,\n\t\t\t\t_proxy: false\n\t\t\t});\n\n\t\t\tthis.refresh();\n\t\t\tthis._on( this.element.find( \"input.ui-slider-input\" ), {\n\t\t\t\t\"slidebeforestart\": \"_slidebeforestart\",\n\t\t\t\t\"slidestop\": \"_slidestop\",\n\t\t\t\t\"slidedrag\": \"_slidedrag\",\n\t\t\t\t\"slidebeforechange\": \"_change\",\n\t\t\t\t\"blur\": \"_change\",\n\t\t\t\t\"keyup\": \"_change\"\n\t\t\t});\n\t\t\tthis._on({\n\t\t\t\t\"mousedown\":\"_change\"\n\t\t\t});\n\t\t\tthis._on( this.element.closest( \"form\" ), {\n\t\t\t\t\"reset\":\"_handleReset\"\n\t\t\t});\n\t\t\tthis._on( firstHandle, {\n\t\t\t\t\"vmousedown\": \"_dragFirstHandle\"\n\t\t\t});\n\t\t},\n\t\t_handleReset: function() {\n\t\t\tvar self = this;\n\t\t\t//we must wait for the stack to unwind before updateing other wise sliders will not have updated yet\n\t\t\tsetTimeout( function() {\n\t\t\t\tself._updateHighlight();\n\t\t\t},0);\n\t\t},\n\n\t\t_dragFirstHandle: function( event ) {\n\t\t\t//if the first handle is dragged send the event to the first slider\n\t\t\t$.data( this._inputFirst.get(0), \"mobile-slider\" ).dragging = true;\n\t\t\t$.data( this._inputFirst.get(0), \"mobile-slider\" ).refresh( event );\n\t\t\treturn false;\n\t\t},\n\n\t\t_slidedrag: function( event ) {\n\t\t\tvar first = $( event.target ).is( this._inputFirst ),\n\t\t\t\totherSlider = ( first ) ? this._inputLast : this._inputFirst;\n\n\t\t\tthis._sliderTarget = false;\n\t\t\t//if the drag was initiated on an extreme and the other handle is focused send the events to\n\t\t\t//the closest handle\n\t\t\tif ( ( this._proxy === \"first\" && first ) || ( this._proxy === \"last\" && !first ) ) {\n\t\t\t\t$.data( otherSlider.get(0), \"mobile-slider\" ).dragging = true;\n\t\t\t\t$.data( otherSlider.get(0), \"mobile-slider\" ).refresh( event );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t_slidestop: function( event ) {\n\t\t\tvar first = $( event.target ).is( this._inputFirst );\n\n\t\t\tthis._proxy = false;\n\t\t\t//this stops dragging of the handle and brings the active track to the front\n\t\t\t//this makes clicks on the track go the the last handle used\n\t\t\tthis.element.find( \"input\" ).trigger( \"vmouseup\" );\n\t\t\tthis._sliderFirst.css( \"z-index\", first ? 1 : \"\" );\n\t\t},\n\n\t\t_slidebeforestart: function( event ) {\n\t\t\tthis._sliderTarget = false;\n\t\t\t//if the track is the target remember this and the original value\n\t\t\tif ( $( event.originalEvent.target ).hasClass( \"ui-slider-track\" ) ) {\n\t\t\t\tthis._sliderTarget = true;\n\t\t\t\tthis._targetVal = $( event.target ).val();\n\t\t\t}\n\t\t},\n\n\t\t_setOptions: function( options ) {\n\t\t\tif ( options.theme !== undefined ) {\n\t\t\t\tthis._setTheme( options.theme );\n\t\t\t}\n\n\t\t\tif ( options.trackTheme !== undefined ) {\n\t\t\t\tthis._setTrackTheme( options.trackTheme );\n\t\t\t}\n\n\t\t\tif ( options.mini !== undefined ) {\n\t\t\t\tthis._setMini( options.mini );\n\t\t\t}\n\n\t\t\tif ( options.highlight !== undefined ) {\n\t\t\t\tthis._setHighlight( options.highlight );\n\t\t\t}\n\t\t\tthis._super( options );\n\t\t\tthis.refresh();\n\t\t},\n\n\t\trefresh: function() {\n\t\t\tvar $el = this.element,\n\t\t\t\to = this.options;\n\n\t\t\tif ( this._inputFirst.is( \":disabled\" ) || this._inputLast.is( \":disabled\" ) ) {\n\t\t\t\tthis.options.disabled = true;\n\t\t\t}\n\n\t\t\t$el.find( \"input\" ).slider({\n\t\t\t\ttheme: o.theme,\n\t\t\t\ttrackTheme: o.trackTheme,\n\t\t\t\tdisabled: o.disabled,\n\t\t\t\tcorners: o.corners,\n\t\t\t\tmini: o.mini,\n\t\t\t\thighlight: o.highlight\n\t\t\t}).slider( \"refresh\" );\n\t\t\tthis._updateHighlight();\n\t\t},\n\n\t\t_change: function( event ) {\n\t\t\tif ( event.type === \"keyup\" ) {\n\t\t\t\tthis._updateHighlight();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar self = this,\n\t\t\t\tmin = parseFloat( this._inputFirst.val(), 10 ),\n\t\t\t\tmax = parseFloat( this._inputLast.val(), 10 ),\n\t\t\t\tfirst = $( event.target ).hasClass( \"ui-rangeslider-first\" ),\n\t\t\t\tthisSlider = first ? this._inputFirst : this._inputLast,\n\t\t\t\totherSlider = first ? this._inputLast : this._inputFirst;\n\n\t\t\tif ( ( this._inputFirst.val() > this._inputLast.val() && event.type === \"mousedown\" && !$(event.target).hasClass(\"ui-slider-handle\")) ) {\n\t\t\t\tthisSlider.blur();\n\t\t\t} else if ( event.type === \"mousedown\" ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( min > max && !this._sliderTarget ) {\n\t\t\t\t//this prevents min from being greater then max\n\t\t\t\tthisSlider.val( first ? max: min ).slider( \"refresh\" );\n\t\t\t\tthis._trigger( \"normalize\" );\n\t\t\t} else if ( min > max ) {\n\t\t\t\t//this makes it so clicks on the target on either extreme go to the closest handle\n\t\t\t\tthisSlider.val( this._targetVal ).slider( \"refresh\" );\n\n\t\t\t\t//You must wait for the stack to unwind so first slider is updated before updating second\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\totherSlider.val( first ? min: max ).slider( \"refresh\" );\n\t\t\t\t\t$.data( otherSlider.get(0), \"mobile-slider\" ).handle.focus();\n\t\t\t\t\tself._sliderFirst.css( \"z-index\", first ? \"\" : 1 );\n\t\t\t\t\tself._trigger( \"normalize\" );\n\t\t\t\t}, 0 );\n\t\t\t\tthis._proxy = ( first ) ? \"first\" : \"last\";\n\t\t\t}\n\t\t\t//fixes issue where when both _sliders are at min they cannot be adjusted\n\t\t\tif ( min === max ) {\n\t\t\t\t$.data( thisSlider.get(0), \"mobile-slider\" ).handle.css( \"z-index\", 1 );\n\t\t\t\t$.data( otherSlider.get(0), \"mobile-slider\" ).handle.css( \"z-index\", 0 );\n\t\t\t} else {\n\t\t\t\t$.data( otherSlider.get(0), \"mobile-slider\" ).handle.css( \"z-index\", \"\" );\n\t\t\t\t$.data( thisSlider.get(0), \"mobile-slider\" ).handle.css( \"z-index\", \"\" );\n\t\t\t}\n\n\t\t\tthis._updateHighlight();\n\n\t\t\tif ( min >= max ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t_updateHighlight: function() {\n\t\t\tvar min = parseInt( $.data( this._inputFirst.get(0), \"mobile-slider\" ).handle.get(0).style.left, 10 ),\n\t\t\t\tmax = parseInt( $.data( this._inputLast.get(0), \"mobile-slider\" ).handle.get(0).style.left, 10 ),\n\t\t\t\twidth = (max - min);\n\n\t\t\tthis.element.find( \".ui-slider-bg\" ).css({\n\t\t\t\t\"margin-left\": min + \"%\",\n\t\t\t\t\"width\": width + \"%\"\n\t\t\t});\n\t\t},\n\n\t\t_setTheme: function( value ) {\n\t\t\tthis._inputFirst.slider( \"option\", \"theme\", value );\n\t\t\tthis._inputLast.slider( \"option\", \"theme\", value );\n\t\t},\n\n\t\t_setTrackTheme: function( value ) {\n\t\t\tthis._inputFirst.slider( \"option\", \"trackTheme\", value );\n\t\t\tthis._inputLast.slider( \"option\", \"trackTheme\", value );\n\t\t},\n\n\t\t_setMini: function( value ) {\n\t\t\tthis._inputFirst.slider( \"option\", \"mini\", value );\n\t\t\tthis._inputLast.slider( \"option\", \"mini\", value );\n\t\t\tthis.element.toggleClass( \"ui-mini\", !!value );\n\t\t},\n\n\t\t_setHighlight: function( value ) {\n\t\t\tthis._inputFirst.slider( \"option\", \"highlight\", value );\n\t\t\tthis._inputLast.slider( \"option\", \"highlight\", value );\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tthis._label.prependTo( this.element );\n\t\t\tthis.element.removeClass( \"ui-rangeslider ui-mini\" );\n\t\t\tthis._inputFirst.after( this._sliderFirst );\n\t\t\tthis._inputLast.after( this._sliderLast );\n\t\t\tthis._sliders.remove();\n\t\t\tthis.element.find( \"input\" ).removeClass( \"ui-rangeslider-first ui-rangeslider-last\" ).slider( \"destroy\" );\n\t\t}\n\n\t}, $.mobile.behaviors.formReset ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n\t$.widget( \"mobile.textinput\", $.mobile.textinput, {\n\t\toptions: {\n\t\t\tclearBtn: false,\n\t\t\tclearBtnText: \"Clear text\"\n\t\t},\n\n\t\t_create: function() {\n\t\t\tthis._super();\n\n\t\t\tif ( !!this.options.clearBtn || this.isSearch ) {\n\t\t\t\tthis._addClearBtn();\n\t\t\t}\n\t\t},\n\n\t\tclearButton: function() {\n\n\t\t\treturn $( \"<a href='#' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all\" +\n    \"' title='\" + this.options.clearBtnText + \"'>\" + this.options.clearBtnText + \"</a>\" );\n\n\t\t},\n\n\t\t_clearBtnClick: function( event ) {\n\t\t\tthis.element.val( \"\" )\n\t\t\t\t\t.focus()\n\t\t\t\t\t.trigger( \"change\" );\n\n\t\t\tthis._clearBtn.addClass( \"ui-input-clear-hidden\" );\n\t\t\tevent.preventDefault();\n\t\t},\n\n\t\t_addClearBtn: function() {\n\n\t\t\tif ( !this.options.enhanced ) {\n\t\t\t\tthis._enhanceClear();\n\t\t\t}\n\n\t\t\t$.extend( this, {\n\t\t\t\t_clearBtn: this.widget().find(\"a.ui-input-clear\")\n\t\t\t});\n\n\t\t\tthis._bindClearEvents();\n\n\t\t\tthis._toggleClear();\n\n\t\t},\n\n\t\t_enhanceClear: function() {\n\n\t\t\tthis.clearButton().appendTo( this.widget() );\n\t\t\tthis.widget().addClass( \"ui-input-has-clear\" );\n\n\t\t},\n\n\t\t_bindClearEvents: function() {\n\n\t\t\tthis._on( this._clearBtn, {\n\t\t\t\t\"click\": \"_clearBtnClick\"\n\t\t\t});\n\n\t\t\tthis._on({\n\t\t\t\t\"keyup\": \"_toggleClear\",\n\t\t\t\t\"change\": \"_toggleClear\",\n\t\t\t\t\"input\": \"_toggleClear\",\n\t\t\t\t\"focus\": \"_toggleClear\",\n\t\t\t\t\"blur\": \"_toggleClear\",\n\t\t\t\t\"cut\": \"_toggleClear\",\n\t\t\t\t\"paste\": \"_toggleClear\"\n\n\t\t\t});\n\n\t\t},\n\n\t\t_unbindClear: function() {\n\t\t\tthis._off( this._clearBtn, \"click\");\n\t\t\tthis._off( this.element, \"keyup change input focus blur cut paste\" );\n\t\t},\n\n\t\t_setOptions: function( options ) {\n\t\t\tthis._super( options );\n\n\t\t\tif ( options.clearbtn !== undefined && !this.element.is( \"textarea, :jqmData(type='range')\" ) ) {\n\t\t\t\tif ( options.clearBtn ) {\n\t\t\t\t\tthis._addClearBtn();\n\t\t\t\t} else {\n\t\t\t\t\tthis._destroyClear();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( options.clearBtnText !== undefined && this._clearBtn !== undefined ) {\n\t\t\t\tthis._clearBtn.text( options.clearBtnText );\n\t\t\t}\n\t\t},\n\n\t\t_toggleClear: function() {\n\t\t\tthis._delay( \"_toggleClearClass\", 0 );\n\t\t},\n\n\t\t_toggleClearClass: function() {\n\t\t\tthis._clearBtn.toggleClass( \"ui-input-clear-hidden\", !this.element.val() );\n\t\t},\n\n\t\t_destroyClear: function() {\n\t\t\tthis.element.removeClass( \"ui-input-has-clear\" );\n\t\t\tthis._unbindClear()._clearBtn.remove();\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tthis._super();\n\t\t\tthis._destroyClear();\n\t\t}\n\n\t});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n\t$.widget( \"mobile.textinput\", $.mobile.textinput, {\n\t\toptions: {\n\t\t\tautogrow:true,\n\t\t\tkeyupTimeoutBuffer: 100\n\t\t},\n\n\t\t_create: function() {\n\t\t\tthis._super();\n\n\t\t\tif ( this.options.autogrow && this.isTextarea ) {\n\t\t\t\tthis._autogrow();\n\t\t\t}\n\t\t},\n\n\t\t_autogrow: function() {\n\t\t\tthis._on({\n\t\t\t\t\"keyup\": \"_timeout\",\n\t\t\t\t\"change\": \"_timeout\",\n\t\t\t\t\"input\": \"_timeout\",\n\t\t\t\t\"paste\": \"_timeout\",\n\t\t\t});\n\n\t\t\t// Attach to the various you-have-become-visible notifications that the\n\t\t\t// various framework elements emit.\n\t\t\t// TODO: Remove all but the updatelayout handler once #6426 is fixed.\n\t\t\tthis._on( true, this.document, {\n\n\t\t\t\t// TODO: Move to non-deprecated event\n\t\t\t\t\"pageshow\": \"_handleShow\",\n\t\t\t\t\"popupbeforeposition\": \"_handleShow\",\n\t\t\t\t\"updatelayout\": \"_handleShow\",\n\t\t\t\t\"panelopen\": \"_handleShow\"\n\t\t\t});\n\t\t},\n\n\t\t// Synchronously fix the widget height if this widget's parents are such\n\t\t// that they show/hide content at runtime. We still need to check whether\n\t\t// the widget is actually visible in case it is contained inside multiple\n\t\t// such containers. For example: panel contains collapsible contains\n\t\t// autogrow textinput. The panel may emit \"panelopen\" indicating that its\n\t\t// content has become visible, but the collapsible is still collapsed, so\n\t\t// the autogrow textarea is still not visible.\n\t\t_handleShow: function( event ) {\n\t\t\tif ( $.contains( event.target, this.element[ 0 ] ) &&\n\t\t\t\tthis.element.is( \":visible\" ) ) {\n\n\t\t\t\tif ( event.type !== \"popupbeforeposition\" ) {\n\t\t\t\t\tthis.element\n\t\t\t\t\t\t.addClass( \"ui-textinput-autogrow-resize\" )\n\t\t\t\t\t\t.one( \"transitionend webkitTransitionEnd oTransitionEnd\",\n\t\t\t\t\t\t\t$.proxy( function() {\n\t\t\t\t\t\t\t\tthis.element.removeClass( \"ui-textinput-autogrow-resize\" );\n\t\t\t\t\t\t\t}, this ) );\n\t\t\t\t}\n\t\t\t\tthis._prepareHeightUpdate();\n\t\t\t}\n\t\t},\n\n\t\t_unbindAutogrow: function() {\n\t\t\tthis._off( this.element, \"keyup change input paste\" );\n\t\t\tthis._off( this.document,\n\t\t\t\t\"pageshow popupbeforeposition updatelayout panelopen\" );\n\t\t},\n\n\t\tkeyupTimeout: null,\n\n\t\t_prepareHeightUpdate: function( delay ) {\n\t\t\tif ( this.keyupTimeout ) {\n\t\t\t\tclearTimeout( this.keyupTimeout );\n\t\t\t}\n\t\t\tif ( delay === undefined ) {\n\t\t\t\tthis._updateHeight();\n\t\t\t} else {\n\t\t\t\tthis.keyupTimeout = this._delay( \"_updateHeight\", delay );\n\t\t\t}\n\t\t},\n\n\t\t_timeout: function() {\n\t\t\tthis._prepareHeightUpdate( this.options.keyupTimeoutBuffer );\n\t\t},\n\n\t\t_updateHeight: function() {\n\n\t\t\tthis.keyupTimeout = 0;\n\n\t\t\tthis.element.css({\n\t\t\t\t\"height\": 0,\n\t\t\t\t\"min-height\": 0,\n\t\t\t\t\"max-height\": 0\n\t\t\t});\n\n\t\t\tvar paddingTop, paddingBottom, paddingHeight,\n\t\t\t\tscrollHeight = this.element[ 0 ].scrollHeight,\n\t\t\t\tclientHeight = this.element[ 0 ].clientHeight,\n\t\t\t\tborderTop = parseFloat( this.element.css( \"border-top-width\" ) ),\n\t\t\t\tborderBottom = parseFloat( this.element.css( \"border-bottom-width\" ) ),\n\t\t\t\tborderHeight = borderTop + borderBottom,\n\t\t\t\theight = scrollHeight + borderHeight + 15;\n\n\t\t\t// Issue 6179: Padding is not included in scrollHeight and\n\t\t\t// clientHeight by Firefox if no scrollbar is visible. Because\n\t\t\t// textareas use the border-box box-sizing model, padding should be\n\t\t\t// included in the new (assigned) height. Because the height is set\n\t\t\t// to 0, clientHeight == 0 in Firefox. Therefore, we can use this to\n\t\t\t// check if padding must be added.\n\t\t\tif ( clientHeight === 0 ) {\n\t\t\t\tpaddingTop = parseFloat( this.element.css( \"padding-top\" ) );\n\t\t\t\tpaddingBottom = parseFloat( this.element.css( \"padding-bottom\" ) );\n\t\t\t\tpaddingHeight = paddingTop + paddingBottom;\n\n\t\t\t\theight += paddingHeight;\n\t\t\t}\n\n\t\t\tthis.element.css({\n\t\t\t\t\"height\": height,\n\t\t\t\t\"min-height\": \"\",\n\t\t\t\t\"max-height\": \"\"\n\t\t\t});\n\t\t},\n\n\t\trefresh: function() {\n\t\t\tif ( this.options.autogrow && this.isTextarea ) {\n\t\t\t\tthis._updateHeight();\n\t\t\t}\n\t\t},\n\n\t\t_setOptions: function( options ) {\n\n\t\t\tthis._super( options );\n\n\t\t\tif ( options.autogrow !== undefined && this.isTextarea ) {\n\t\t\t\tif ( options.autogrow ) {\n\t\t\t\t\tthis._autogrow();\n\t\t\t\t} else {\n\t\t\t\t\tthis._unbindAutogrow();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.selectmenu\", $.extend( {\n\tinitSelector: \"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )\",\n\n\toptions: {\n\t\ttheme: null,\n\t\ticon: \"carat-d\",\n\t\ticonpos: \"right\",\n\t\tinline: false,\n\t\tcorners: true,\n\t\tshadow: true,\n\t\ticonshadow: false, /* TODO: Deprecated in 1.4, remove in 1.5. */\n\t\toverlayTheme: null,\n\t\tdividerTheme: null,\n\t\thidePlaceholderMenuItems: true,\n\t\tcloseText: \"Close\",\n\t\tnativeMenu: true,\n\t\t// This option defaults to true on iOS devices.\n\t\tpreventFocusZoom: /iPhone|iPad|iPod/.test( navigator.platform ) && navigator.userAgent.indexOf( \"AppleWebKit\" ) > -1,\n\t\tmini: false\n\t},\n\n\t_button: function() {\n\t\treturn $( \"<div/>\" );\n\t},\n\n\t_setDisabled: function( value ) {\n\t\tthis.element.attr( \"disabled\", value );\n\t\tthis.button.attr( \"aria-disabled\", value );\n\t\treturn this._setOption( \"disabled\", value );\n\t},\n\n\t_focusButton : function() {\n\t\tvar self = this;\n\n\t\tsetTimeout( function() {\n\t\t\tself.button.focus();\n\t\t}, 40);\n\t},\n\n\t_selectOptions: function() {\n\t\treturn this.select.find( \"option\" );\n\t},\n\n\t// setup items that are generally necessary for select menu extension\n\t_preExtension: function() {\n\t\tvar inline = this.options.inline || this.element.jqmData( \"inline\" ),\n\t\t\tmini = this.options.mini || this.element.jqmData( \"mini\" ),\n\t\t\tclasses = \"\";\n\t\t// TODO: Post 1.1--once we have time to test thoroughly--any classes manually applied to the original element should be carried over to the enhanced element, with an `-enhanced` suffix. See https://github.com/jquery/jquery-mobile/issues/3577\n\t\t/* if ( $el[0].className.length ) {\n\t\t\tclasses = $el[0].className;\n\t\t} */\n\t\tif ( !!~this.element[0].className.indexOf( \"ui-btn-left\" ) ) {\n\t\t\tclasses = \" ui-btn-left\";\n\t\t}\n\n\t\tif (  !!~this.element[0].className.indexOf( \"ui-btn-right\" ) ) {\n\t\t\tclasses = \" ui-btn-right\";\n\t\t}\n\n\t\tif ( inline ) {\n\t\t\tclasses += \" ui-btn-inline\";\n\t\t}\n\t\tif ( mini ) {\n\t\t\tclasses += \" ui-mini\";\n\t\t}\n\n\t\tthis.select = this.element.removeClass( \"ui-btn-left ui-btn-right\" ).wrap( \"<div class='ui-select\" + classes + \"'>\" );\n\t\tthis.selectId  = this.select.attr( \"id\" ) || ( \"select-\" + this.uuid );\n\t\tthis.buttonId = this.selectId + \"-button\";\n\t\tthis.label = $( \"label[for='\"+ this.selectId +\"']\" );\n\t\tthis.isMultiple = this.select[ 0 ].multiple;\n\t},\n\n\t_destroy: function() {\n\t\tvar wrapper = this.element.parents( \".ui-select\" );\n\t\tif ( wrapper.length > 0 ) {\n\t\t\tif ( wrapper.is( \".ui-btn-left, .ui-btn-right\" ) ) {\n\t\t\t\tthis.element.addClass( wrapper.hasClass( \"ui-btn-left\" ) ? \"ui-btn-left\" : \"ui-btn-right\" );\n\t\t\t}\n\t\t\tthis.element.insertAfter( wrapper );\n\t\t\twrapper.remove();\n\t\t}\n\t},\n\n\t_create: function() {\n\t\tthis._preExtension();\n\n\t\tthis.button = this._button();\n\n\t\tvar self = this,\n\n\t\t\toptions = this.options,\n\n\t\t\ticonpos = options.icon ? ( options.iconpos || this.select.jqmData( \"iconpos\" ) ) : false,\n\n\t\t\tbutton = this.button\n\t\t\t\t.insertBefore( this.select )\n\t\t\t\t.attr( \"id\", this.buttonId )\n\t\t\t\t.addClass( \"ui-btn\" +\n\t\t\t\t\t( options.icon ? ( \" ui-icon-\" + options.icon + \" ui-btn-icon-\" + iconpos +\n\t\t\t\t\t( options.iconshadow ? \" ui-shadow-icon\" : \"\" ) ) :\t\"\" ) + /* TODO: Remove in 1.5. */\n\t\t\t\t\t( options.theme ? \" ui-btn-\" + options.theme : \"\" ) +\n\t\t\t\t\t( options.corners ? \" ui-corner-all\" : \"\" ) +\n\t\t\t\t\t( options.shadow ? \" ui-shadow\" : \"\" ) );\n\n\t\tthis.setButtonText();\n\n\t\t// Opera does not properly support opacity on select elements\n\t\t// In Mini, it hides the element, but not its text\n\t\t// On the desktop,it seems to do the opposite\n\t\t// for these reasons, using the nativeMenu option results in a full native select in Opera\n\t\tif ( options.nativeMenu && window.opera && window.opera.version ) {\n\t\t\tbutton.addClass( \"ui-select-nativeonly\" );\n\t\t}\n\n\t\t// Add counter for multi selects\n\t\tif ( this.isMultiple ) {\n\t\t\tthis.buttonCount = $( \"<span>\" )\n\t\t\t\t.addClass( \"ui-li-count ui-body-inherit\" )\n\t\t\t\t.hide()\n\t\t\t\t.appendTo( button.addClass( \"ui-li-has-count\" ) );\n\t\t}\n\n\t\t// Disable if specified\n\t\tif ( options.disabled || this.element.attr( \"disabled\" )) {\n\t\t\tthis.disable();\n\t\t}\n\n\t\t// Events on native select\n\t\tthis.select.change(function() {\n\t\t\tself.refresh();\n\n\t\t\tif ( !!options.nativeMenu ) {\n\t\t\t\tthis.blur();\n\t\t\t}\n\t\t});\n\n\t\tthis._handleFormReset();\n\n\t\tthis._on( this.button, {\n\t\t\tkeydown: \"_handleKeydown\"\n\t\t});\n\n\t\tthis.build();\n\t},\n\n\tbuild: function() {\n\t\tvar self = this;\n\n\t\tthis.select\n\t\t\t.appendTo( self.button )\n\t\t\t.bind( \"vmousedown\", function() {\n\t\t\t\t// Add active class to button\n\t\t\t\tself.button.addClass( $.mobile.activeBtnClass );\n\t\t\t})\n\t\t\t.bind( \"focus\", function() {\n\t\t\t\tself.button.addClass( $.mobile.focusClass );\n\t\t\t})\n\t\t\t.bind( \"blur\", function() {\n\t\t\t\tself.button.removeClass( $.mobile.focusClass );\n\t\t\t})\n\t\t\t.bind( \"focus vmouseover\", function() {\n\t\t\t\tself.button.trigger( \"vmouseover\" );\n\t\t\t})\n\t\t\t.bind( \"vmousemove\", function() {\n\t\t\t\t// Remove active class on scroll/touchmove\n\t\t\t\tself.button.removeClass( $.mobile.activeBtnClass );\n\t\t\t})\n\t\t\t.bind( \"change blur vmouseout\", function() {\n\t\t\t\tself.button.trigger( \"vmouseout\" )\n\t\t\t\t\t.removeClass( $.mobile.activeBtnClass );\n\t\t\t});\n\n\t\t// In many situations, iOS will zoom into the select upon tap, this prevents that from happening\n\t\tself.button.bind( \"vmousedown\", function() {\n\t\t\tif ( self.options.preventFocusZoom ) {\n\t\t\t\t\t$.mobile.zoom.disable( true );\n\t\t\t}\n\t\t});\n\t\tself.label.bind( \"click focus\", function() {\n\t\t\tif ( self.options.preventFocusZoom ) {\n\t\t\t\t\t$.mobile.zoom.disable( true );\n\t\t\t}\n\t\t});\n\t\tself.select.bind( \"focus\", function() {\n\t\t\tif ( self.options.preventFocusZoom ) {\n\t\t\t\t\t$.mobile.zoom.disable( true );\n\t\t\t}\n\t\t});\n\t\tself.button.bind( \"mouseup\", function() {\n\t\t\tif ( self.options.preventFocusZoom ) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$.mobile.zoom.enable( true );\n\t\t\t\t}, 0 );\n\t\t\t}\n\t\t});\n\t\tself.select.bind( \"blur\", function() {\n\t\t\tif ( self.options.preventFocusZoom ) {\n\t\t\t\t$.mobile.zoom.enable( true );\n\t\t\t}\n\t\t});\n\n\t},\n\n\tselected: function() {\n\t\treturn this._selectOptions().filter( \":selected\" );\n\t},\n\n\tselectedIndices: function() {\n\t\tvar self = this;\n\n\t\treturn this.selected().map(function() {\n\t\t\treturn self._selectOptions().index( this );\n\t\t}).get();\n\t},\n\n\tsetButtonText: function() {\n\t\tvar self = this,\n\t\t\tselected = this.selected(),\n\t\t\ttext = this.placeholder,\n\t\t\tspan = $( document.createElement( \"span\" ) );\n\n\t\tthis.button.children( \"span\" ).not( \".ui-li-count\" ).remove().end().end().prepend( (function() {\n\t\t\tif ( selected.length ) {\n\t\t\t\ttext = selected.map(function() {\n\t\t\t\t\treturn $( this ).text();\n\t\t\t\t}).get().join( \", \" );\n\t\t\t} else {\n\t\t\t\ttext = self.placeholder;\n\t\t\t}\n\n\t\t\tif ( text ) {\n\t\t\t\tspan.text( text );\n\t\t\t} else {\n\t\t\t\tspan.html( \"&nbsp;\" );\n\t\t\t}\n\n\t\t\t// TODO possibly aggregate multiple select option classes\n\t\t\treturn span\n\t\t\t\t.addClass( self.select.attr( \"class\" ) )\n\t\t\t\t.addClass( selected.attr( \"class\" ) )\n\t\t\t\t.removeClass( \"ui-screen-hidden\" );\n\t\t})());\n\t},\n\n\tsetButtonCount: function() {\n\t\tvar selected = this.selected();\n\n\t\t// multiple count inside button\n\t\tif ( this.isMultiple ) {\n\t\t\tthis.buttonCount[ selected.length > 1 ? \"show\" : \"hide\" ]().text( selected.length );\n\t\t}\n\t},\n\n\t_handleKeydown: function( /* event */ ) {\n\t\tthis._delay( \"_refreshButton\" );\n\t},\n\n\t_reset: function() {\n\t\tthis.refresh();\n\t},\n\n\t_refreshButton: function() {\n\t\tthis.setButtonText();\n\t\tthis.setButtonCount();\n\t},\n\n\trefresh: function() {\n\t\tthis._refreshButton();\n\t},\n\n\t// open and close preserved in native selects\n\t// to simplify users code when looping over selects\n\topen: $.noop,\n\tclose: $.noop,\n\n\tdisable: function() {\n\t\tthis._setDisabled( true );\n\t\tthis.button.addClass( \"ui-state-disabled\" );\n\t},\n\n\tenable: function() {\n\t\tthis._setDisabled( false );\n\t\tthis.button.removeClass( \"ui-state-disabled\" );\n\t}\n}, $.mobile.behaviors.formReset ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.mobile.links = function( target ) {\n\n\t//links within content areas, tests included with page\n\t$( target )\n\t\t.find( \"a\" )\n\t\t.jqmEnhanceable()\n\t\t.filter( \":jqmData(rel='popup')[href][href!='']\" )\n\t\t.each( function() {\n\t\t\t// Accessibility info for popups\n\t\t\tvar element = this,\n\t\t\t\tidref = element.getAttribute( \"href\" ).substring( 1 );\n\n\t\t\tif ( idref ) {\n\t\t\t\telement.setAttribute( \"aria-haspopup\", true );\n\t\t\t\telement.setAttribute( \"aria-owns\", idref );\n\t\t\t\telement.setAttribute( \"aria-expanded\", false );\n\t\t\t}\n\t\t})\n\t\t.end()\n\t\t.not( \".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')\" )\n\t\t.addClass( \"ui-link\" );\n\n};\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n\nfunction fitSegmentInsideSegment( windowSize, segmentSize, offset, desired ) {\n\tvar returnValue = desired;\n\n\tif ( windowSize < segmentSize ) {\n\t\t// Center segment if it's bigger than the window\n\t\treturnValue = offset + ( windowSize - segmentSize ) / 2;\n\t} else {\n\t\t// Otherwise center it at the desired coordinate while keeping it completely inside the window\n\t\treturnValue = Math.min( Math.max( offset, desired - segmentSize / 2 ), offset + windowSize - segmentSize );\n\t}\n\n\treturn returnValue;\n}\n\nfunction getWindowCoordinates( theWindow ) {\n\treturn {\n\t\tx: theWindow.scrollLeft(),\n\t\ty: theWindow.scrollTop(),\n\t\tcx: ( theWindow[ 0 ].innerWidth || theWindow.width() ),\n\t\tcy: ( theWindow[ 0 ].innerHeight || theWindow.height() )\n\t};\n}\n\n$.widget( \"mobile.popup\", {\n\toptions: {\n\t\twrapperClass: null,\n\t\ttheme: null,\n\t\toverlayTheme: null,\n\t\tshadow: true,\n\t\tcorners: true,\n\t\ttransition: \"none\",\n\t\tpositionTo: \"origin\",\n\t\ttolerance: null,\n\t\tcloseLinkSelector: \"a:jqmData(rel='back')\",\n\t\tcloseLinkEvents: \"click.popup\",\n\t\tnavigateEvents: \"navigate.popup\",\n\t\tcloseEvents: \"navigate.popup pagebeforechange.popup\",\n\t\tdismissible: true,\n\t\tenhanced: false,\n\n\t\t// NOTE Windows Phone 7 has a scroll position caching issue that\n\t\t//      requires us to disable popup history management by default\n\t\t//      https://github.com/jquery/jquery-mobile/issues/4784\n\t\t//\n\t\t// NOTE this option is modified in _create!\n\t\thistory: !$.mobile.browser.oldIE\n\t},\n\n\t_create: function() {\n\t\tvar theElement = this.element,\n\t\t\tmyId = theElement.attr( \"id\" ),\n\t\t\tcurrentOptions = this.options;\n\n\t\t// We need to adjust the history option to be false if there's no AJAX nav.\n\t\t// We can't do it in the option declarations because those are run before\n\t\t// it is determined whether there shall be AJAX nav.\n\t\tcurrentOptions.history = currentOptions.history && $.mobile.ajaxEnabled && $.mobile.hashListeningEnabled;\n\n\t\t// Define instance variables\n\t\t$.extend( this, {\n\t\t\t_scrollTop: 0,\n\t\t\t_page: theElement.closest( \".ui-page\" ),\n\t\t\t_ui: null,\n\t\t\t_fallbackTransition: \"\",\n\t\t\t_currentTransition: false,\n\t\t\t_prerequisites: null,\n\t\t\t_isOpen: false,\n\t\t\t_tolerance: null,\n\t\t\t_resizeData: null,\n\t\t\t_ignoreResizeTo: 0,\n\t\t\t_orientationchangeInProgress: false\n\t\t});\n\n\t\tif ( this._page.length === 0 ) {\n\t\t\tthis._page = $( \"body\" );\n\t\t}\n\n\t\tif ( currentOptions.enhanced ) {\n\t\t\tthis._ui = {\n\t\t\t\tcontainer: theElement.parent(),\n\t\t\t\tscreen: theElement.parent().prev(),\n\t\t\t\tplaceholder: $( this.document[ 0 ].getElementById( myId + \"-placeholder\" ) )\n\t\t\t};\n\t\t} else {\n\t\t\tthis._ui = this._enhance( theElement, myId );\n\t\t\tthis._applyTransition( currentOptions.transition );\n\t\t}\n\t\tthis\n\t\t\t._setTolerance( currentOptions.tolerance )\n\t\t\t._ui.focusElement = this._ui.container;\n\n\t\t// Event handlers\n\t\tthis._on( this._ui.screen, { \"vclick\": \"_eatEventAndClose\" } );\n\t\tthis._on( this.window, {\n\t\t\torientationchange: $.proxy( this, \"_handleWindowOrientationchange\" ),\n\t\t\tresize: $.proxy( this, \"_handleWindowResize\" ),\n\t\t\tkeyup: $.proxy( this, \"_handleWindowKeyUp\" )\n\t\t});\n\t\tthis._on( this.document, { \"focusin\": \"_handleDocumentFocusIn\" } );\n\t},\n\n\t_enhance: function( theElement, myId ) {\n\t\tvar currentOptions = this.options,\n\t\t\twrapperClass = currentOptions.wrapperClass,\n\t\t\tui = {\n\t\t\t\tscreen: $( \"<div class='ui-screen-hidden ui-popup-screen \" +\n\t\t\t\tthis._themeClassFromOption( \"ui-overlay-\", currentOptions.overlayTheme ) + \"'></div>\" ),\n\t\t\t\tplaceholder: $( \"<div style='display: none;'><!-- placeholder --></div>\" ),\n\t\t\t\tcontainer: $( \"<div class='ui-popup-container ui-popup-hidden ui-popup-truncate\" +\n\t\t\t\t\t( wrapperClass ? ( \" \" + wrapperClass ) : \"\" ) + \"'></div>\" )\n\t\t\t},\n\t\t\tfragment = this.document[ 0 ].createDocumentFragment();\n\n\t\tfragment.appendChild( ui.screen[ 0 ] );\n\t\tfragment.appendChild( ui.container[ 0 ] );\n\n\t\tif ( myId ) {\n\t\t\tui.screen.attr( \"id\", myId + \"-screen\" );\n\t\t\tui.container.attr( \"id\", myId + \"-popup\" );\n\t\t\tui.placeholder\n\t\t\t\t.attr( \"id\", myId + \"-placeholder\" )\n\t\t\t\t.html( \"<!-- placeholder for \" + myId + \" -->\" );\n\t\t}\n\n\t\t// Apply the proto\n\t\tthis._page[ 0 ].appendChild( fragment );\n\t\t// Leave a placeholder where the element used to be\n\t\tui.placeholder.insertAfter( theElement );\n\t\ttheElement\n\t\t\t.detach()\n\t\t\t.addClass( \"ui-popup \" +\n\t\t\t\tthis._themeClassFromOption( \"ui-body-\", currentOptions.theme ) + \" \" +\n\t\t\t\t( currentOptions.shadow ? \"ui-overlay-shadow \" : \"\" ) +\n\t\t\t\t( currentOptions.corners ? \"ui-corner-all \" : \"\" ) )\n\t\t\t.appendTo( ui.container );\n\n\t\treturn ui;\n\t},\n\n\t_eatEventAndClose: function( theEvent ) {\n\t\ttheEvent.preventDefault();\n\t\ttheEvent.stopImmediatePropagation();\n\t\tif ( this.options.dismissible ) {\n\t\t\tthis.close();\n\t\t}\n\t\treturn false;\n\t},\n\n\t// Make sure the screen covers the entire document - CSS is sometimes not\n\t// enough to accomplish this.\n\t_resizeScreen: function() {\n\t\tvar screen = this._ui.screen,\n\t\t\tpopupHeight = this._ui.container.outerHeight( true ),\n\t\t\tscreenHeight = screen.removeAttr( \"style\" ).height(),\n\n\t\t\t// Subtracting 1 here is necessary for an obscure Andrdoid 4.0 bug where\n\t\t\t// the browser hangs if the screen covers the entire document :/\n\t\t\tdocumentHeight = this.document.height() - 1;\n\n\t\tif ( screenHeight < documentHeight ) {\n\t\t\tscreen.height( documentHeight );\n\t\t} else if ( popupHeight > screenHeight ) {\n\t\t\tscreen.height( popupHeight );\n\t\t}\n\t},\n\n\t_handleWindowKeyUp: function( theEvent ) {\n\t\tif ( this._isOpen && theEvent.keyCode === $.mobile.keyCode.ESCAPE ) {\n\t\t\treturn this._eatEventAndClose( theEvent );\n\t\t}\n\t},\n\n\t_expectResizeEvent: function() {\n\t\tvar windowCoordinates = getWindowCoordinates( this.window );\n\n\t\tif ( this._resizeData ) {\n\t\t\tif ( windowCoordinates.x === this._resizeData.windowCoordinates.x &&\n\t\t\t\twindowCoordinates.y === this._resizeData.windowCoordinates.y &&\n\t\t\t\twindowCoordinates.cx === this._resizeData.windowCoordinates.cx &&\n\t\t\t\twindowCoordinates.cy === this._resizeData.windowCoordinates.cy ) {\n\t\t\t\t// timeout not refreshed\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\t// clear existing timeout - it will be refreshed below\n\t\t\t\tclearTimeout( this._resizeData.timeoutId );\n\t\t\t}\n\t\t}\n\n\t\tthis._resizeData = {\n\t\t\ttimeoutId: this._delay( \"_resizeTimeout\", 200 ),\n\t\t\twindowCoordinates: windowCoordinates\n\t\t};\n\n\t\treturn true;\n\t},\n\n\t_resizeTimeout: function() {\n\t\tif ( this._isOpen ) {\n\t\t\tif ( !this._expectResizeEvent() ) {\n\t\t\t\tif ( this._ui.container.hasClass( \"ui-popup-hidden\" ) ) {\n\t\t\t\t\t// effectively rapid-open the popup while leaving the screen intact\n\t\t\t\t\tthis._ui.container.removeClass( \"ui-popup-hidden ui-popup-truncate\" );\n\t\t\t\t\tthis.reposition( { positionTo: \"window\" } );\n\t\t\t\t\tthis._ignoreResizeEvents();\n\t\t\t\t}\n\n\t\t\t\tthis._resizeScreen();\n\t\t\t\tthis._resizeData = null;\n\t\t\t\tthis._orientationchangeInProgress = false;\n\t\t\t}\n\t\t} else {\n\t\t\tthis._resizeData = null;\n\t\t\tthis._orientationchangeInProgress = false;\n\t\t}\n\t},\n\n\t_stopIgnoringResizeEvents: function() {\n\t\tthis._ignoreResizeTo = 0;\n\t},\n\n\t_ignoreResizeEvents: function() {\n\t\tif ( this._ignoreResizeTo ) {\n\t\t\tclearTimeout( this._ignoreResizeTo );\n\t\t}\n\t\tthis._ignoreResizeTo = this._delay( \"_stopIgnoringResizeEvents\", 1000 );\n\t},\n\n\t_handleWindowResize: function(/* theEvent */) {\n\t\tif ( this._isOpen && this._ignoreResizeTo === 0 ) {\n\t\t\tif ( ( this._expectResizeEvent() || this._orientationchangeInProgress ) &&\n\t\t\t\t!this._ui.container.hasClass( \"ui-popup-hidden\" ) ) {\n\t\t\t\t// effectively rapid-close the popup while leaving the screen intact\n\t\t\t\tthis._ui.container\n\t\t\t\t\t.addClass( \"ui-popup-hidden ui-popup-truncate\" )\n\t\t\t\t\t.removeAttr( \"style\" );\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleWindowOrientationchange: function(/* theEvent */) {\n\t\tif ( !this._orientationchangeInProgress && this._isOpen && this._ignoreResizeTo === 0 ) {\n\t\t\tthis._expectResizeEvent();\n\t\t\tthis._orientationchangeInProgress = true;\n\t\t}\n\t},\n\n\t// When the popup is open, attempting to focus on an element that is not a\n\t// child of the popup will redirect focus to the popup\n\t_handleDocumentFocusIn: function( theEvent ) {\n\t\tvar target,\n\t\t\ttargetElement = theEvent.target,\n\t\t\tui = this._ui;\n\n\t\tif ( !this._isOpen ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( targetElement !== ui.container[ 0 ] ) {\n\t\t\ttarget = $( targetElement );\n\t\t\tif ( 0 === target.parents().filter( ui.container[ 0 ] ).length ) {\n\t\t\t\t$( this.document[ 0 ].activeElement ).one( \"focus\", function(/* theEvent */) {\n\t\t\t\t\ttarget.blur();\n\t\t\t\t});\n\t\t\t\tui.focusElement.focus();\n\t\t\t\ttheEvent.preventDefault();\n\t\t\t\ttheEvent.stopImmediatePropagation();\n\t\t\t\treturn false;\n\t\t\t} else if ( ui.focusElement[ 0 ] === ui.container[ 0 ] ) {\n\t\t\t\tui.focusElement = target;\n\t\t\t}\n\t\t}\n\n\t\tthis._ignoreResizeEvents();\n\t},\n\n\t_themeClassFromOption: function( prefix, value ) {\n\t\treturn ( value ? ( value === \"none\" ? \"\" : ( prefix + value ) ) : ( prefix + \"inherit\" ) );\n\t},\n\n\t_applyTransition: function( value ) {\n\t\tif ( value ) {\n\t\t\tthis._ui.container.removeClass( this._fallbackTransition );\n\t\t\tif ( value !== \"none\" ) {\n\t\t\t\tthis._fallbackTransition = $.mobile._maybeDegradeTransition( value );\n\t\t\t\tif ( this._fallbackTransition === \"none\" ) {\n\t\t\t\t\tthis._fallbackTransition = \"\";\n\t\t\t\t}\n\t\t\t\tthis._ui.container.addClass( this._fallbackTransition );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOptions: function( newOptions ) {\n\t\tvar currentOptions = this.options,\n\t\t\ttheElement = this.element,\n\t\t\tscreen = this._ui.screen;\n\n\t\tif ( newOptions.wrapperClass !== undefined ) {\n\t\t\tthis._ui.container\n\t\t\t\t.removeClass( currentOptions.wrapperClass )\n\t\t\t\t.addClass( newOptions.wrapperClass );\n\t\t}\n\n\t\tif ( newOptions.theme !== undefined ) {\n\t\t\ttheElement\n\t\t\t\t.removeClass( this._themeClassFromOption( \"ui-body-\", currentOptions.theme ) )\n\t\t\t\t.addClass( this._themeClassFromOption( \"ui-body-\", newOptions.theme ) );\n\t\t}\n\n\t\tif ( newOptions.overlayTheme !== undefined ) {\n\t\t\tscreen\n\t\t\t\t.removeClass( this._themeClassFromOption( \"ui-overlay-\", currentOptions.overlayTheme ) )\n\t\t\t\t.addClass( this._themeClassFromOption( \"ui-overlay-\", newOptions.overlayTheme ) );\n\n\t\t\tif ( this._isOpen ) {\n\t\t\t\tscreen.addClass( \"in\" );\n\t\t\t}\n\t\t}\n\n\t\tif ( newOptions.shadow !== undefined ) {\n\t\t\ttheElement.toggleClass( \"ui-overlay-shadow\", newOptions.shadow );\n\t\t}\n\n\t\tif ( newOptions.corners !== undefined ) {\n\t\t\ttheElement.toggleClass( \"ui-corner-all\", newOptions.corners );\n\t\t}\n\n\t\tif ( newOptions.transition !== undefined ) {\n\t\t\tif ( !this._currentTransition ) {\n\t\t\t\tthis._applyTransition( newOptions.transition );\n\t\t\t}\n\t\t}\n\n\t\tif ( newOptions.tolerance !== undefined ) {\n\t\t\tthis._setTolerance( newOptions.tolerance );\n\t\t}\n\n\t\tif ( newOptions.disabled !== undefined ) {\n\t\t\tif ( newOptions.disabled ) {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t}\n\n\t\treturn this._super( newOptions );\n\t},\n\n\t_setTolerance: function( value ) {\n\t\tvar tol = { t: 30, r: 15, b: 30, l: 15 },\n\t\t\tar;\n\n\t\tif ( value !== undefined ) {\n\t\t\tar = String( value ).split( \",\" );\n\n\t\t\t$.each( ar, function( idx, val ) { ar[ idx ] = parseInt( val, 10 ); } );\n\n\t\t\tswitch( ar.length ) {\n\t\t\t\t// All values are to be the same\n\t\t\t\tcase 1:\n\t\t\t\t\tif ( !isNaN( ar[ 0 ] ) ) {\n\t\t\t\t\t\ttol.t = tol.r = tol.b = tol.l = ar[ 0 ];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\t// The first value denotes top/bottom tolerance, and the second value denotes left/right tolerance\n\t\t\t\tcase 2:\n\t\t\t\t\tif ( !isNaN( ar[ 0 ] ) ) {\n\t\t\t\t\t\ttol.t = tol.b = ar[ 0 ];\n\t\t\t\t\t}\n\t\t\t\t\tif ( !isNaN( ar[ 1 ] ) ) {\n\t\t\t\t\t\ttol.l = tol.r = ar[ 1 ];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\t// The array contains values in the order top, right, bottom, left\n\t\t\t\tcase 4:\n\t\t\t\t\tif ( !isNaN( ar[ 0 ] ) ) {\n\t\t\t\t\t\ttol.t = ar[ 0 ];\n\t\t\t\t\t}\n\t\t\t\t\tif ( !isNaN( ar[ 1 ] ) ) {\n\t\t\t\t\t\ttol.r = ar[ 1 ];\n\t\t\t\t\t}\n\t\t\t\t\tif ( !isNaN( ar[ 2 ] ) ) {\n\t\t\t\t\t\ttol.b = ar[ 2 ];\n\t\t\t\t\t}\n\t\t\t\t\tif ( !isNaN( ar[ 3 ] ) ) {\n\t\t\t\t\t\ttol.l = ar[ 3 ];\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tthis._tolerance = tol;\n\t\treturn this;\n\t},\n\n\t_clampPopupWidth: function( infoOnly ) {\n\t\tvar menuSize,\n\t\t\twindowCoordinates = getWindowCoordinates( this.window ),\n\t\t\t// rectangle within which the popup must fit\n\t\t\trectangle = {\n\t\t\t\tx: this._tolerance.l,\n\t\t\t\ty: windowCoordinates.y + this._tolerance.t,\n\t\t\t\tcx: windowCoordinates.cx - this._tolerance.l - this._tolerance.r,\n\t\t\t\tcy: windowCoordinates.cy - this._tolerance.t - this._tolerance.b\n\t\t\t};\n\n\t\tif ( !infoOnly ) {\n\t\t\t// Clamp the width of the menu before grabbing its size\n\t\t\tthis._ui.container.css( \"max-width\", rectangle.cx );\n\t\t}\n\n\t\tmenuSize = {\n\t\t\tcx: this._ui.container.outerWidth( true ),\n\t\t\tcy: this._ui.container.outerHeight( true )\n\t\t};\n\n\t\treturn { rc: rectangle, menuSize: menuSize };\n\t},\n\n\t_calculateFinalLocation: function( desired, clampInfo ) {\n\t\tvar returnValue,\n\t\t\trectangle = clampInfo.rc,\n\t\t\tmenuSize = clampInfo.menuSize;\n\n\t\t// Center the menu over the desired coordinates, while not going outside\n\t\t// the window tolerances. This will center wrt. the window if the popup is\n\t\t// too large.\n\t\treturnValue = {\n\t\t\tleft: fitSegmentInsideSegment( rectangle.cx, menuSize.cx, rectangle.x, desired.x ),\n\t\t\ttop: fitSegmentInsideSegment( rectangle.cy, menuSize.cy, rectangle.y, desired.y )\n\t\t};\n\n\t\t// Make sure the top of the menu is visible\n\t\treturnValue.top = Math.max( 0, returnValue.top );\n\n\t\t// If the height of the menu is smaller than the height of the document\n\t\t// align the bottom with the bottom of the document\n\n\t\treturnValue.top -= Math.min( returnValue.top,\n\t\t\tMath.max( 0, returnValue.top + menuSize.cy - this.document.height() ) );\n\n\t\treturn returnValue;\n\t},\n\n\t// Try and center the overlay over the given coordinates\n\t_placementCoords: function( desired ) {\n\t\treturn this._calculateFinalLocation( desired, this._clampPopupWidth() );\n\t},\n\n\t_createPrerequisites: function( screenPrerequisite, containerPrerequisite, whenDone ) {\n\t\tvar prerequisites,\n\t\t\tself = this;\n\n\t\t// It is important to maintain both the local variable prerequisites and\n\t\t// self._prerequisites. The local variable remains in the closure of the\n\t\t// functions which call the callbacks passed in. The comparison between the\n\t\t// local variable and self._prerequisites is necessary, because once a\n\t\t// function has been passed to .animationComplete() it will be called next\n\t\t// time an animation completes, even if that's not the animation whose end\n\t\t// the function was supposed to catch (for example, if an abort happens\n\t\t// during the opening animation, the .animationComplete handler is not\n\t\t// called for that animation anymore, but the handler remains attached, so\n\t\t// it is called the next time the popup is opened - making it stale.\n\t\t// Comparing the local variable prerequisites to the widget-level variable\n\t\t// self._prerequisites ensures that callbacks triggered by a stale\n\t\t// .animationComplete will be ignored.\n\n\t\tprerequisites = {\n\t\t\tscreen: $.Deferred(),\n\t\t\tcontainer: $.Deferred()\n\t\t};\n\n\t\tprerequisites.screen.then( function() {\n\t\t\tif ( prerequisites === self._prerequisites ) {\n\t\t\t\tscreenPrerequisite();\n\t\t\t}\n\t\t});\n\n\t\tprerequisites.container.then( function() {\n\t\t\tif ( prerequisites === self._prerequisites ) {\n\t\t\t\tcontainerPrerequisite();\n\t\t\t}\n\t\t});\n\n\t\t$.when( prerequisites.screen, prerequisites.container ).done( function() {\n\t\t\tif ( prerequisites === self._prerequisites ) {\n\t\t\t\tself._prerequisites = null;\n\t\t\t\twhenDone();\n\t\t\t}\n\t\t});\n\n\t\tself._prerequisites = prerequisites;\n\t},\n\n\t_animate: function( args ) {\n\t\t// NOTE before removing the default animation of the screen\n\t\t//      this had an animate callback that would resolve the deferred\n\t\t//      now the deferred is resolved immediately\n\t\t// TODO remove the dependency on the screen deferred\n\t\tthis._ui.screen\n\t\t\t.removeClass( args.classToRemove )\n\t\t\t.addClass( args.screenClassToAdd );\n\n\t\targs.prerequisites.screen.resolve();\n\n\t\tif ( args.transition && args.transition !== \"none\" ) {\n\t\t\tif ( args.applyTransition ) {\n\t\t\t\tthis._applyTransition( args.transition );\n\t\t\t}\n\t\t\tif ( this._fallbackTransition ) {\n\t\t\t\tthis._ui.container\n\t\t\t\t\t.animationComplete( $.proxy( args.prerequisites.container, \"resolve\" ) )\n\t\t\t\t\t.addClass( args.containerClassToAdd )\n\t\t\t\t\t.removeClass( args.classToRemove );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis._ui.container.removeClass( args.classToRemove );\n\t\targs.prerequisites.container.resolve();\n\t},\n\n\t// The desired coordinates passed in will be returned untouched if no reference element can be identified via\n\t// desiredPosition.positionTo. Nevertheless, this function ensures that its return value always contains valid\n\t// x and y coordinates by specifying the center middle of the window if the coordinates are absent.\n\t// options: { x: coordinate, y: coordinate, positionTo: string: \"origin\", \"window\", or jQuery selector\n\t_desiredCoords: function( openOptions ) {\n\t\tvar offset,\n\t\t\tdst = null,\n\t\t\twindowCoordinates = getWindowCoordinates( this.window ),\n\t\t\tx = openOptions.x,\n\t\t\ty = openOptions.y,\n\t\t\tpTo = openOptions.positionTo;\n\n\t\t// Establish which element will serve as the reference\n\t\tif ( pTo && pTo !== \"origin\" ) {\n\t\t\tif ( pTo === \"window\" ) {\n\t\t\t\tx = windowCoordinates.cx / 2 + windowCoordinates.x;\n\t\t\t\ty = windowCoordinates.cy / 2 + windowCoordinates.y;\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tdst = $( pTo );\n\t\t\t\t} catch( err ) {\n\t\t\t\t\tdst = null;\n\t\t\t\t}\n\t\t\t\tif ( dst ) {\n\t\t\t\t\tdst.filter( \":visible\" );\n\t\t\t\t\tif ( dst.length === 0 ) {\n\t\t\t\t\t\tdst = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If an element was found, center over it\n\t\tif ( dst ) {\n\t\t\toffset = dst.offset();\n\t\t\tx = offset.left + dst.outerWidth() / 2;\n\t\t\ty = offset.top + dst.outerHeight() / 2;\n\t\t}\n\n\t\t// Make sure x and y are valid numbers - center over the window\n\t\tif ( $.type( x ) !== \"number\" || isNaN( x ) ) {\n\t\t\tx = windowCoordinates.cx / 2 + windowCoordinates.x;\n\t\t}\n\t\tif ( $.type( y ) !== \"number\" || isNaN( y ) ) {\n\t\t\ty = windowCoordinates.cy / 2 + windowCoordinates.y;\n\t\t}\n\n\t\treturn { x: x, y: y };\n\t},\n\n\t_reposition: function( openOptions ) {\n\t\t// We only care about position-related parameters for repositioning\n\t\topenOptions = {\n\t\t\tx: openOptions.x,\n\t\t\ty: openOptions.y,\n\t\t\tpositionTo: openOptions.positionTo\n\t\t};\n\t\tthis._trigger( \"beforeposition\", undefined, openOptions );\n\t\tthis._ui.container.offset( this._placementCoords( this._desiredCoords( openOptions ) ) );\n\t},\n\n\treposition: function( openOptions ) {\n\t\tif ( this._isOpen ) {\n\t\t\tthis._reposition( openOptions );\n\t\t}\n\t},\n\n\t_openPrerequisitesComplete: function() {\n\t\tvar id = this.element.attr( \"id\" );\n\n\t\tthis._ui.container.addClass( \"ui-popup-active\" );\n\t\tthis._isOpen = true;\n\t\tthis._resizeScreen();\n\t\tthis._ui.container.attr( \"tabindex\", \"0\" ).focus();\n\t\tthis._ignoreResizeEvents();\n\t\tif ( id ) {\n\t\t\tthis.document.find( \"[aria-haspopup='true'][aria-owns='\" +  id + \"']\" ).attr( \"aria-expanded\", true );\n\t\t}\n\t\tthis._trigger( \"afteropen\" );\n\t},\n\n\t_open: function( options ) {\n\t\tvar openOptions = $.extend( {}, this.options, options ),\n\t\t\t// TODO move blacklist to private method\n\t\t\tandroidBlacklist = ( function() {\n\t\t\t\tvar ua = navigator.userAgent,\n\t\t\t\t\t// Rendering engine is Webkit, and capture major version\n\t\t\t\t\twkmatch = ua.match( /AppleWebKit\\/([0-9\\.]+)/ ),\n\t\t\t\t\twkversion = !!wkmatch && wkmatch[ 1 ],\n\t\t\t\t\tandroidmatch = ua.match( /Android (\\d+(?:\\.\\d+))/ ),\n\t\t\t\t\tandversion = !!androidmatch && androidmatch[ 1 ],\n\t\t\t\t\tchromematch = ua.indexOf( \"Chrome\" ) > -1;\n\n\t\t\t\t// Platform is Android, WebKit version is greater than 534.13 ( Android 3.2.1 ) and not Chrome.\n\t\t\t\tif ( androidmatch !== null && andversion === \"4.0\" && wkversion && wkversion > 534.13 && !chromematch ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}());\n\n\t\t// Count down to triggering \"popupafteropen\" - we have two prerequisites:\n\t\t// 1. The popup window animation completes (container())\n\t\t// 2. The screen opacity animation completes (screen())\n\t\tthis._createPrerequisites(\n\t\t\t$.noop,\n\t\t\t$.noop,\n\t\t\t$.proxy( this, \"_openPrerequisitesComplete\" ) );\n\n\t\tthis._currentTransition = openOptions.transition;\n\t\tthis._applyTransition( openOptions.transition );\n\n\t\tthis._ui.screen.removeClass( \"ui-screen-hidden\" );\n\t\tthis._ui.container.removeClass( \"ui-popup-truncate\" );\n\n\t\t// Give applications a chance to modify the contents of the container before it appears\n\t\tthis._reposition( openOptions );\n\n\t\tthis._ui.container.removeClass( \"ui-popup-hidden\" );\n\n\t\tif ( this.options.overlayTheme && androidBlacklist ) {\n\t\t\t/* TODO: The native browser on Android 4.0.X (\"Ice Cream Sandwich\") suffers from an issue where the popup overlay appears to be z-indexed above the popup itself when certain other styles exist on the same page -- namely, any element set to `position: fixed` and certain types of input. These issues are reminiscent of previously uncovered bugs in older versions of Android's native browser: https://github.com/scottjehl/Device-Bugs/issues/3\n\t\t\tThis fix closes the following bugs ( I use \"closes\" with reluctance, and stress that this issue should be revisited as soon as possible ):\n\t\t\thttps://github.com/jquery/jquery-mobile/issues/4816\n\t\t\thttps://github.com/jquery/jquery-mobile/issues/4844\n\t\t\thttps://github.com/jquery/jquery-mobile/issues/4874\n\t\t\t*/\n\n\t\t\t// TODO sort out why this._page isn't working\n\t\t\tthis.element.closest( \".ui-page\" ).addClass( \"ui-popup-open\" );\n\t\t}\n\t\tthis._animate({\n\t\t\tadditionalCondition: true,\n\t\t\ttransition: openOptions.transition,\n\t\t\tclassToRemove: \"\",\n\t\t\tscreenClassToAdd: \"in\",\n\t\t\tcontainerClassToAdd: \"in\",\n\t\t\tapplyTransition: false,\n\t\t\tprerequisites: this._prerequisites\n\t\t});\n\t},\n\n\t_closePrerequisiteScreen: function() {\n\t\tthis._ui.screen\n\t\t\t.removeClass( \"out\" )\n\t\t\t.addClass( \"ui-screen-hidden\" );\n\t},\n\n\t_closePrerequisiteContainer: function() {\n\t\tthis._ui.container\n\t\t\t.removeClass( \"reverse out\" )\n\t\t\t.addClass( \"ui-popup-hidden ui-popup-truncate\" )\n\t\t\t.removeAttr( \"style\" );\n\t},\n\n\t_closePrerequisitesDone: function() {\n\t\tvar container = this._ui.container,\n\t\t\tid = this.element.attr( \"id\" );\n\n\t\tcontainer.removeAttr( \"tabindex\" );\n\n\t\t// remove the global mutex for popups\n\t\t$.mobile.popup.active = undefined;\n\n\t\t// Blur elements inside the container, including the container\n\t\t$( \":focus\", container[ 0 ] ).add( container[ 0 ] ).blur();\n\n\t\tif ( id ) {\n\t\t\tthis.document.find( \"[aria-haspopup='true'][aria-owns='\" +  id + \"']\" ).attr( \"aria-expanded\", false );\n\t\t}\n\n\t\t// alert users that the popup is closed\n\t\tthis._trigger( \"afterclose\" );\n\t},\n\n\t_close: function( immediate ) {\n\t\tthis._ui.container.removeClass( \"ui-popup-active\" );\n\t\tthis._page.removeClass( \"ui-popup-open\" );\n\n\t\tthis._isOpen = false;\n\n\t\t// Count down to triggering \"popupafterclose\" - we have two prerequisites:\n\t\t// 1. The popup window reverse animation completes (container())\n\t\t// 2. The screen opacity animation completes (screen())\n\t\tthis._createPrerequisites(\n\t\t\t$.proxy( this, \"_closePrerequisiteScreen\" ),\n\t\t\t$.proxy( this, \"_closePrerequisiteContainer\" ),\n\t\t\t$.proxy( this, \"_closePrerequisitesDone\" ) );\n\n\t\tthis._animate( {\n\t\t\tadditionalCondition: this._ui.screen.hasClass( \"in\" ),\n\t\t\ttransition: ( immediate ? \"none\" : ( this._currentTransition ) ),\n\t\t\tclassToRemove: \"in\",\n\t\t\tscreenClassToAdd: \"out\",\n\t\t\tcontainerClassToAdd: \"reverse out\",\n\t\t\tapplyTransition: true,\n\t\t\tprerequisites: this._prerequisites\n\t\t});\n\t},\n\n\t_unenhance: function() {\n\t\tif ( this.options.enhanced ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Put the element back to where the placeholder was and remove the \"ui-popup\" class\n\t\tthis._setOptions( { theme: $.mobile.popup.prototype.options.theme } );\n\t\tthis.element\n\t\t\t// Cannot directly insertAfter() - we need to detach() first, because\n\t\t\t// insertAfter() will do nothing if the payload div was not attached\n\t\t\t// to the DOM at the time the widget was created, and so the payload\n\t\t\t// will remain inside the container even after we call insertAfter().\n\t\t\t// If that happens and we remove the container a few lines below, we\n\t\t\t// will cause an infinite recursion - #5244\n\t\t\t.detach()\n\t\t\t.insertAfter( this._ui.placeholder )\n\t\t\t.removeClass( \"ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit\" );\n\t\tthis._ui.screen.remove();\n\t\tthis._ui.container.remove();\n\t\tthis._ui.placeholder.remove();\n\t},\n\n\t_destroy: function() {\n\t\tif ( $.mobile.popup.active === this ) {\n\t\t\tthis.element.one( \"popupafterclose\", $.proxy( this, \"_unenhance\" ) );\n\t\t\tthis.close();\n\t\t} else {\n\t\t\tthis._unenhance();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_closePopup: function( theEvent, data ) {\n\t\tvar parsedDst, toUrl,\n\t\t\tcurrentOptions = this.options,\n\t\t\timmediate = false;\n\n\t\tif ( ( theEvent && theEvent.isDefaultPrevented() ) || $.mobile.popup.active !== this ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// restore location on screen\n\t\twindow.scrollTo( 0, this._scrollTop );\n\n\t\tif ( theEvent && theEvent.type === \"pagebeforechange\" && data ) {\n\t\t\t// Determine whether we need to rapid-close the popup, or whether we can\n\t\t\t// take the time to run the closing transition\n\t\t\tif ( typeof data.toPage === \"string\" ) {\n\t\t\t\tparsedDst = data.toPage;\n\t\t\t} else {\n\t\t\t\tparsedDst = data.toPage.jqmData( \"url\" );\n\t\t\t}\n\t\t\tparsedDst = $.mobile.path.parseUrl( parsedDst );\n\t\t\ttoUrl = parsedDst.pathname + parsedDst.search + parsedDst.hash;\n\n\t\t\tif ( this._myUrl !== $.mobile.path.makeUrlAbsolute( toUrl ) ) {\n\t\t\t\t// Going to a different page - close immediately\n\t\t\t\timmediate = true;\n\t\t\t} else {\n\t\t\t\ttheEvent.preventDefault();\n\t\t\t}\n\t\t}\n\n\t\t// remove nav bindings\n\t\tthis.window.off( currentOptions.closeEvents );\n\t\t// unbind click handlers added when history is disabled\n\t\tthis.element.undelegate( currentOptions.closeLinkSelector, currentOptions.closeLinkEvents );\n\n\t\tthis._close( immediate );\n\t},\n\n\t// any navigation event after a popup is opened should close the popup\n\t// NOTE the pagebeforechange is bound to catch navigation events that don't\n\t//      alter the url (eg, dialogs from popups)\n\t_bindContainerClose: function() {\n\t\tthis.window\n\t\t\t.on( this.options.closeEvents, $.proxy( this, \"_closePopup\" ) );\n\t},\n\n\twidget: function() {\n\t\treturn this._ui.container;\n\t},\n\n\t// TODO no clear deliniation of what should be here and\n\t// what should be in _open. Seems to be \"visual\" vs \"history\" for now\n\topen: function( options ) {\n\t\tvar url, hashkey, activePage, currentIsDialog, hasHash, urlHistory,\n\t\t\tself = this,\n\t\t\tcurrentOptions = this.options;\n\n\t\t// make sure open is idempotent\n\t\tif ( $.mobile.popup.active || currentOptions.disabled ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// set the global popup mutex\n\t\t$.mobile.popup.active = this;\n\t\tthis._scrollTop = this.window.scrollTop();\n\n\t\t// if history alteration is disabled close on navigate events\n\t\t// and leave the url as is\n\t\tif ( !( currentOptions.history ) ) {\n\t\t\tself._open( options );\n\t\t\tself._bindContainerClose();\n\n\t\t\t// When histoy is disabled we have to grab the data-rel\n\t\t\t// back link clicks so we can close the popup instead of\n\t\t\t// relying on history to do it for us\n\t\t\tself.element\n\t\t\t\t.delegate( currentOptions.closeLinkSelector, currentOptions.closeLinkEvents, function( theEvent ) {\n\t\t\t\t\tself.close();\n\t\t\t\t\ttheEvent.preventDefault();\n\t\t\t\t});\n\n\t\t\treturn this;\n\t\t}\n\n\t\t// cache some values for min/readability\n\t\turlHistory = $.mobile.navigate.history;\n\t\thashkey = $.mobile.dialogHashKey;\n\t\tactivePage = $.mobile.activePage;\n\t\tcurrentIsDialog = ( activePage ? activePage.hasClass( \"ui-dialog\" ) : false );\n\t\tthis._myUrl = url = urlHistory.getActive().url;\n\t\thasHash = ( url.indexOf( hashkey ) > -1 ) && !currentIsDialog && ( urlHistory.activeIndex > 0 );\n\n\t\tif ( hasHash ) {\n\t\t\tself._open( options );\n\t\t\tself._bindContainerClose();\n\t\t\treturn this;\n\t\t}\n\n\t\t// if the current url has no dialog hash key proceed as normal\n\t\t// otherwise, if the page is a dialog simply tack on the hash key\n\t\tif ( url.indexOf( hashkey ) === -1 && !currentIsDialog ) {\n\t\t\turl = url + (url.indexOf( \"#\" ) > -1 ? hashkey : \"#\" + hashkey);\n\t\t} else {\n\t\t\turl = $.mobile.path.parseLocation().hash + hashkey;\n\t\t}\n\n\t\t// Tack on an extra hashkey if this is the first page and we've just reconstructed the initial hash\n\t\tif ( urlHistory.activeIndex === 0 && url === urlHistory.initialDst ) {\n\t\t\turl += hashkey;\n\t\t}\n\n\t\t// swallow the the initial navigation event, and bind for the next\n\t\tthis.window.one( \"beforenavigate\", function( theEvent ) {\n\t\t\ttheEvent.preventDefault();\n\t\t\tself._open( options );\n\t\t\tself._bindContainerClose();\n\t\t});\n\n\t\tthis.urlAltered = true;\n\t\t$.mobile.navigate( url, { role: \"dialog\" } );\n\n\t\treturn this;\n\t},\n\n\tclose: function() {\n\t\t// make sure close is idempotent\n\t\tif ( $.mobile.popup.active !== this ) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._scrollTop = this.window.scrollTop();\n\n\t\tif ( this.options.history && this.urlAltered ) {\n\t\t\t$.mobile.back();\n\t\t\tthis.urlAltered = false;\n\t\t} else {\n\t\t\t// simulate the nav bindings having fired\n\t\t\tthis._closePopup();\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\n// TODO this can be moved inside the widget\n$.mobile.popup.handleLink = function( $link ) {\n\tvar offset,\n\t\tpath = $.mobile.path,\n\n\t\t// NOTE make sure to get only the hash from the href because ie7 (wp7)\n\t\t//      returns the absolute href in this case ruining the element selection\n\t\tpopup = $( path.hashToSelector( path.parseUrl( $link.attr( \"href\" ) ).hash ) ).first();\n\n\tif ( popup.length > 0 && popup.data( \"mobile-popup\" ) ) {\n\t\toffset = $link.offset();\n\t\tpopup.popup( \"open\", {\n\t\t\tx: offset.left + $link.outerWidth() / 2,\n\t\t\ty: offset.top + $link.outerHeight() / 2,\n\t\t\ttransition: $link.jqmData( \"transition\" ),\n\t\t\tpositionTo: $link.jqmData( \"position-to\" )\n\t\t});\n\t}\n\n\t//remove after delay\n\tsetTimeout( function() {\n\t\t$link.removeClass( $.mobile.activeBtnClass );\n\t}, 300 );\n};\n\n// TODO move inside _create\n$.mobile.document.on( \"pagebeforechange\", function( theEvent, data ) {\n\tif ( data.options.role === \"popup\" ) {\n\t\t$.mobile.popup.handleLink( data.options.link );\n\t\ttheEvent.preventDefault();\n\t}\n});\n\n})( jQuery );\n\n/*\n* custom \"selectmenu\" plugin\n*/\n\n(function( $, undefined ) {\n\nvar unfocusableItemSelector = \".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')\",\n\tgoToAdjacentItem = function( item, target, direction ) {\n\t\tvar adjacent = item[ direction + \"All\" ]()\n\t\t\t.not( unfocusableItemSelector )\n\t\t\t.first();\n\n\t\t// if there's a previous option, focus it\n\t\tif ( adjacent.length ) {\n\t\t\ttarget\n\t\t\t\t.blur()\n\t\t\t\t.attr( \"tabindex\", \"-1\" );\n\n\t\t\tadjacent.find( \"a\" ).first().focus();\n\t\t}\n\t};\n\n$.widget( \"mobile.selectmenu\", $.mobile.selectmenu, {\n\t_create: function() {\n\t\tvar o = this.options;\n\n\t\t// Custom selects cannot exist inside popups, so revert the \"nativeMenu\"\n\t\t// option to true if a parent is a popup\n\t\to.nativeMenu = o.nativeMenu || ( this.element.parents( \":jqmData(role='popup'),:mobile-popup\" ).length > 0 );\n\n\t\treturn this._super();\n\t},\n\n\t_handleSelectFocus: function() {\n\t\tthis.element.blur();\n\t\tthis.button.focus();\n\t},\n\n\t_handleKeydown: function( event ) {\n\t\tthis._super( event );\n\t\tthis._handleButtonVclickKeydown( event );\n\t},\n\n\t_handleButtonVclickKeydown: function( event ) {\n\t\tif ( this.options.disabled || this.isOpen ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.type === \"vclick\" ||\n\t\t\t\tevent.keyCode && (event.keyCode === $.mobile.keyCode.ENTER || event.keyCode === $.mobile.keyCode.SPACE)) {\n\n\t\t\tthis._decideFormat();\n\t\t\tif ( this.menuType === \"overlay\" ) {\n\t\t\t\tthis.button.attr( \"href\", \"#\" + this.popupId ).attr( \"data-\" + ( $.mobile.ns || \"\" ) + \"rel\", \"popup\" );\n\t\t\t} else {\n\t\t\t\tthis.button.attr( \"href\", \"#\" + this.dialogId ).attr( \"data-\" + ( $.mobile.ns || \"\" ) + \"rel\", \"dialog\" );\n\t\t\t}\n\t\t\tthis.isOpen = true;\n\t\t\t// Do not prevent default, so the navigation may have a chance to actually open the chosen format\n\t\t}\n\t},\n\n\t_handleListFocus: function( e ) {\n\t\tvar params = ( e.type === \"focusin\" ) ?\n\t\t\t{ tabindex: \"0\", event: \"vmouseover\" }:\n\t\t\t{ tabindex: \"-1\", event: \"vmouseout\" };\n\n\t\t$( e.target )\n\t\t\t.attr( \"tabindex\", params.tabindex )\n\t\t\t.trigger( params.event );\n\t},\n\n\t_handleListKeydown: function( event ) {\n\t\tvar target = $( event.target ),\n\t\t\tli = target.closest( \"li\" );\n\n\t\t// switch logic based on which key was pressed\n\t\tswitch ( event.keyCode ) {\n\t\t\t// up or left arrow keys\n\t\tcase 38:\n\t\t\tgoToAdjacentItem( li, target, \"prev\" );\n\t\t\treturn false;\n\t\t\t// down or right arrow keys\n\t\tcase 40:\n\t\t\tgoToAdjacentItem( li, target, \"next\" );\n\t\t\treturn false;\n\t\t\t// If enter or space is pressed, trigger click\n\t\tcase 13:\n\t\tcase 32:\n\t\t\ttarget.trigger( \"click\" );\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t_handleMenuPageHide: function() {\n\t\t// TODO centralize page removal binding / handling in the page plugin.\n\t\t// Suggestion from @jblas to do refcounting\n\t\t//\n\t\t// TODO extremely confusing dependency on the open method where the pagehide.remove\n\t\t// bindings are stripped to prevent the parent page from disappearing. The way\n\t\t// we're keeping pages in the DOM right now sucks\n\t\t//\n\t\t// rebind the page remove that was unbound in the open function\n\t\t// to allow for the parent page removal from actions other than the use\n\t\t// of a dialog sized custom select\n\t\t//\n\t\t// doing this here provides for the back button on the custom select dialog\n\t\tthis.thisPage.page( \"bindRemove\" );\n\t},\n\n\t_handleHeaderCloseClick: function() {\n\t\tif ( this.menuType === \"overlay\" ) {\n\t\t\tthis.close();\n\t\t\treturn false;\n\t\t}\n\t},\n\n\tbuild: function() {\n\t\tvar selectId, popupId, dialogId, label, thisPage, isMultiple, menuId, themeAttr, overlayThemeAttr,\n\t\t\tdividerThemeAttr, menuPage, listbox, list, header, headerTitle, menuPageContent, menuPageClose, headerClose, self,\n\t\t\to = this.options;\n\n\t\tif ( o.nativeMenu ) {\n\t\t\treturn this._super();\n\t\t}\n\n\t\tself = this;\n\t\tselectId = this.selectId;\n\t\tpopupId = selectId + \"-listbox\";\n\t\tdialogId = selectId + \"-dialog\";\n\t\tlabel = this.label;\n\t\tthisPage = this.element.closest( \".ui-page\" );\n\t\tisMultiple = this.element[ 0 ].multiple;\n\t\tmenuId = selectId + \"-menu\";\n\t\tthemeAttr = o.theme ? ( \" data-\" + $.mobile.ns + \"theme='\" + o.theme + \"'\" ) : \"\";\n\t\toverlayThemeAttr = o.overlayTheme ? ( \" data-\" + $.mobile.ns + \"theme='\" + o.overlayTheme + \"'\" ) : \"\";\n\t\tdividerThemeAttr = ( o.dividerTheme && isMultiple ) ? ( \" data-\" + $.mobile.ns + \"divider-theme='\" + o.dividerTheme + \"'\" ) : \"\";\n\t\tmenuPage = $( \"<div data-\" + $.mobile.ns + \"role='dialog' class='ui-selectmenu' id='\" + dialogId + \"'\" + themeAttr + overlayThemeAttr + \">\" +\n\t\t\t\"<div data-\" + $.mobile.ns + \"role='header'>\" +\n\t\t\t\"<div class='ui-title'>\" + label.getEncodedText() + \"</div>\"+\n\t\t\t\"</div>\"+\n\t\t\t\"<div data-\" + $.mobile.ns + \"role='content'></div>\"+\n\t\t\t\"</div>\" );\n\t\tlistbox = $( \"<div id='\" + popupId + \"' class='ui-selectmenu'>\" ).insertAfter( this.select ).popup({ theme: o.overlayTheme });\n\t\tlist = $( \"<ul class='ui-selectmenu-list' id='\" + menuId + \"' role='listbox' aria-labelledby='\" + this.buttonId + \"'\" + themeAttr + dividerThemeAttr + \">\" ).appendTo( listbox );\n\t\theader = $( \"<div class='ui-header ui-bar-\" + ( o.theme ? o.theme : \"inherit\" ) + \"'>\" ).prependTo( listbox );\n\t\theaderTitle = $( \"<h1 class='ui-title'>\" ).appendTo( header );\n\n\t\tif ( this.isMultiple ) {\n\t\t\theaderClose = $( \"<a>\", {\n\t\t\t\t\"role\": \"button\",\n\t\t\t\t\"text\": o.closeText,\n\t\t\t\t\"href\": \"#\",\n\t\t\t\t\"class\": \"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete\"\n\t\t\t}).appendTo( header );\n\t\t}\n\n\t\t$.extend( this, {\n\t\t\tselectId: selectId,\n\t\t\tmenuId: menuId,\n\t\t\tpopupId: popupId,\n\t\t\tdialogId: dialogId,\n\t\t\tthisPage: thisPage,\n\t\t\tmenuPage: menuPage,\n\t\t\tlabel: label,\n\t\t\tisMultiple: isMultiple,\n\t\t\ttheme: o.theme,\n\t\t\tlistbox: listbox,\n\t\t\tlist: list,\n\t\t\theader: header,\n\t\t\theaderTitle: headerTitle,\n\t\t\theaderClose: headerClose,\n\t\t\tmenuPageContent: menuPageContent,\n\t\t\tmenuPageClose: menuPageClose,\n\t\t\tplaceholder: \"\"\n\t\t});\n\n\t\t// Create list from select, update state\n\t\tthis.refresh();\n\n\t\tif ( this._origTabIndex === undefined ) {\n\t\t\t// Map undefined to false, because this._origTabIndex === undefined\n\t\t\t// indicates that we have not yet checked whether the select has\n\t\t\t// originally had a tabindex attribute, whereas false indicates that\n\t\t\t// we have checked the select for such an attribute, and have found\n\t\t\t// none present.\n\t\t\tthis._origTabIndex = ( this.select[ 0 ].getAttribute( \"tabindex\" ) === null ) ? false : this.select.attr( \"tabindex\" );\n\t\t}\n\t\tthis.select.attr( \"tabindex\", \"-1\" );\n\t\tthis._on( this.select, { focus : \"_handleSelectFocus\" } );\n\n\t\t// Button events\n\t\tthis._on( this.button, {\n\t\t\tvclick: \"_handleButtonVclickKeydown\"\n\t\t});\n\n\t\t// Events for list items\n\t\tthis.list.attr( \"role\", \"listbox\" );\n\t\tthis._on( this.list, {\n\t\t\tfocusin : \"_handleListFocus\",\n\t\t\tfocusout : \"_handleListFocus\",\n\t\t\tkeydown: \"_handleListKeydown\"\n\t\t});\n\t\tthis.list\n\t\t\t.delegate( \"li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)\", \"click\", function( event ) {\n\n\t\t\t\t// index of option tag to be selected\n\t\t\t\tvar oldIndex = self.select[ 0 ].selectedIndex,\n\t\t\t\t\tnewIndex = $.mobile.getAttribute( this, \"option-index\" ),\n\t\t\t\t\toption = self._selectOptions().eq( newIndex )[ 0 ];\n\n\t\t\t\t// toggle selected status on the tag for multi selects\n\t\t\t\toption.selected = self.isMultiple ? !option.selected : true;\n\n\t\t\t\t// toggle checkbox class for multiple selects\n\t\t\t\tif ( self.isMultiple ) {\n\t\t\t\t\t$( this ).find( \"a\" )\n\t\t\t\t\t\t.toggleClass( \"ui-checkbox-on\", option.selected )\n\t\t\t\t\t\t.toggleClass( \"ui-checkbox-off\", !option.selected );\n\t\t\t\t}\n\n\t\t\t\t// trigger change if value changed\n\t\t\t\tif ( self.isMultiple || oldIndex !== newIndex ) {\n\t\t\t\t\tself.select.trigger( \"change\" );\n\t\t\t\t}\n\n\t\t\t\t// hide custom select for single selects only - otherwise focus clicked item\n\t\t\t\t// We need to grab the clicked item the hard way, because the list may have been rebuilt\n\t\t\t\tif ( self.isMultiple ) {\n\t\t\t\t\tself.list.find( \"li:not(.ui-li-divider)\" ).eq( newIndex )\n\t\t\t\t\t\t.find( \"a\" ).first().focus();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\n\t\t// button refocus ensures proper height calculation\n\t\t// by removing the inline style and ensuring page inclusion\n\t\tthis._on( this.menuPage, { pagehide: \"_handleMenuPageHide\" } );\n\n\t\t// Events on the popup\n\t\tthis._on( this.listbox, { popupafterclose: \"close\" } );\n\n\t\t// Close button on small overlays\n\t\tif ( this.isMultiple ) {\n\t\t\tthis._on( this.headerClose, { click: \"_handleHeaderCloseClick\" } );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_isRebuildRequired: function() {\n\t\tvar list = this.list.find( \"li\" ),\n\t\t\toptions = this._selectOptions().not( \".ui-screen-hidden\" );\n\n\t\t// TODO exceedingly naive method to determine difference\n\t\t// ignores value changes etc in favor of a forcedRebuild\n\t\t// from the user in the refresh method\n\t\treturn options.text() !== list.text();\n\t},\n\n\tselected: function() {\n\t\treturn this._selectOptions().filter( \":selected:not( :jqmData(placeholder='true') )\" );\n\t},\n\n\trefresh: function( force ) {\n\t\tvar self, indices;\n\n\t\tif ( this.options.nativeMenu ) {\n\t\t\treturn this._super( force );\n\t\t}\n\n\t\tself = this;\n\t\tif ( force || this._isRebuildRequired() ) {\n\t\t\tself._buildList();\n\t\t}\n\n\t\tindices = this.selectedIndices();\n\n\t\tself.setButtonText();\n\t\tself.setButtonCount();\n\n\t\tself.list.find( \"li:not(.ui-li-divider)\" )\n\t\t\t.find( \"a\" ).removeClass( $.mobile.activeBtnClass ).end()\n\t\t\t.attr( \"aria-selected\", false )\n\t\t\t.each(function( i ) {\n\n\t\t\t\tif ( $.inArray( i, indices ) > -1 ) {\n\t\t\t\t\tvar item = $( this );\n\n\t\t\t\t\t// Aria selected attr\n\t\t\t\t\titem.attr( \"aria-selected\", true );\n\n\t\t\t\t\t// Multiple selects: add the \"on\" checkbox state to the icon\n\t\t\t\t\tif ( self.isMultiple ) {\n\t\t\t\t\t\titem.find( \"a\" ).removeClass( \"ui-checkbox-off\" ).addClass( \"ui-checkbox-on\" );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( item.hasClass( \"ui-screen-hidden\" ) ) {\n\t\t\t\t\t\t\titem.next().find( \"a\" ).addClass( $.mobile.activeBtnClass );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.find( \"a\" ).addClass( $.mobile.activeBtnClass );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t},\n\n\tclose: function() {\n\t\tif ( this.options.disabled || !this.isOpen ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar self = this;\n\n\t\tif ( self.menuType === \"page\" ) {\n\t\t\tself.menuPage.dialog( \"close\" );\n\t\t\tself.list.appendTo( self.listbox );\n\t\t} else {\n\t\t\tself.listbox.popup( \"close\" );\n\t\t}\n\n\t\tself._focusButton();\n\t\t// allow the dialog to be closed again\n\t\tself.isOpen = false;\n\t},\n\n\topen: function() {\n\t\tthis.button.click();\n\t},\n\n\t_focusMenuItem: function() {\n\t\tvar selector = this.list.find( \"a.\" + $.mobile.activeBtnClass );\n\t\tif ( selector.length === 0 ) {\n\t\t\tselector = this.list.find( \"li:not(\" + unfocusableItemSelector + \") a.ui-btn\" );\n\t\t}\n\t\tselector.first().focus();\n\t},\n\n\t_decideFormat: function() {\n\t\tvar self = this,\n\t\t\t$window = this.window,\n\t\t\tselfListParent = self.list.parent(),\n\t\t\tmenuHeight = selfListParent.outerHeight(),\n\t\t\tscrollTop = $window.scrollTop(),\n\t\t\tbtnOffset = self.button.offset().top,\n\t\t\tscreenHeight = $window.height();\n\n\t\tif ( menuHeight > screenHeight - 80 || !$.support.scrollTop ) {\n\n\t\t\tself.menuPage.appendTo( $.mobile.pageContainer ).page();\n\t\t\tself.menuPageContent = self.menuPage.find( \".ui-content\" );\n\t\t\tself.menuPageClose = self.menuPage.find( \".ui-header a\" );\n\n\t\t\t// prevent the parent page from being removed from the DOM,\n\t\t\t// otherwise the results of selecting a list item in the dialog\n\t\t\t// fall into a black hole\n\t\t\tself.thisPage.unbind( \"pagehide.remove\" );\n\n\t\t\t//for WebOS/Opera Mini (set lastscroll using button offset)\n\t\t\tif ( scrollTop === 0 && btnOffset > screenHeight ) {\n\t\t\t\tself.thisPage.one( \"pagehide\", function() {\n\t\t\t\t\t$( this ).jqmData( \"lastScroll\", btnOffset );\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tself.menuPage.one( {\n\t\t\t\tpageshow: $.proxy( this, \"_focusMenuItem\" ),\n\t\t\t\tpagehide: $.proxy( this, \"close\" )\n\t\t\t});\n\n\t\t\tself.menuType = \"page\";\n\t\t\tself.menuPageContent.append( self.list );\n\t\t\tself.menuPage.find( \"div .ui-title\" ).text( self.label.text() );\n\t\t} else {\n\t\t\tself.menuType = \"overlay\";\n\n\t\t\tself.listbox.one( { popupafteropen: $.proxy( this, \"_focusMenuItem\" ) } );\n\t\t}\n\t},\n\n\t_buildList: function() {\n\t\tvar self = this,\n\t\t\to = this.options,\n\t\t\tplaceholder = this.placeholder,\n\t\t\tneedPlaceholder = true,\n\t\t\tdataIcon = \"false\",\n\t\t\t$options, numOptions, select,\n\t\t\tdataPrefix = \"data-\" + $.mobile.ns,\n\t\t\tdataIndexAttr = dataPrefix + \"option-index\",\n\t\t\tdataIconAttr = dataPrefix + \"icon\",\n\t\t\tdataRoleAttr = dataPrefix + \"role\",\n\t\t\tdataPlaceholderAttr = dataPrefix + \"placeholder\",\n\t\t\tfragment = document.createDocumentFragment(),\n\t\t\tisPlaceholderItem = false,\n\t\t\toptGroup,\n\t\t\ti,\n\t\t\toption, $option, parent, text, anchor, classes,\n\t\t\toptLabel, divider, item;\n\n\t\tself.list.empty().filter( \".ui-listview\" ).listview( \"destroy\" );\n\t\t$options = this._selectOptions();\n\t\tnumOptions = $options.length;\n\t\tselect = this.select[ 0 ];\n\n\t\tfor ( i = 0; i < numOptions;i++, isPlaceholderItem = false) {\n\t\t\toption = $options[i];\n\t\t\t$option = $( option );\n\n\t\t\t// Do not create options based on ui-screen-hidden select options\n\t\t\tif ( $option.hasClass( \"ui-screen-hidden\" ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tparent = option.parentNode;\n\t\t\ttext = $option.text();\n\t\t\tanchor  = document.createElement( \"a\" );\n\t\t\tclasses = [];\n\n\t\t\tanchor.setAttribute( \"href\", \"#\" );\n\t\t\tanchor.appendChild( document.createTextNode( text ) );\n\n\t\t\t// Are we inside an optgroup?\n\t\t\tif ( parent !== select && parent.nodeName.toLowerCase() === \"optgroup\" ) {\n\t\t\t\toptLabel = parent.getAttribute( \"label\" );\n\t\t\t\tif ( optLabel !== optGroup ) {\n\t\t\t\t\tdivider = document.createElement( \"li\" );\n\t\t\t\t\tdivider.setAttribute( dataRoleAttr, \"list-divider\" );\n\t\t\t\t\tdivider.setAttribute( \"role\", \"option\" );\n\t\t\t\t\tdivider.setAttribute( \"tabindex\", \"-1\" );\n\t\t\t\t\tdivider.appendChild( document.createTextNode( optLabel ) );\n\t\t\t\t\tfragment.appendChild( divider );\n\t\t\t\t\toptGroup = optLabel;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( needPlaceholder && ( !option.getAttribute( \"value\" ) || text.length === 0 || $option.jqmData( \"placeholder\" ) ) ) {\n\t\t\t\tneedPlaceholder = false;\n\t\t\t\tisPlaceholderItem = true;\n\n\t\t\t\t// If we have identified a placeholder, record the fact that it was\n\t\t\t\t// us who have added the placeholder to the option and mark it\n\t\t\t\t// retroactively in the select as well\n\t\t\t\tif ( null === option.getAttribute( dataPlaceholderAttr ) ) {\n\t\t\t\t\tthis._removePlaceholderAttr = true;\n\t\t\t\t}\n\t\t\t\toption.setAttribute( dataPlaceholderAttr, true );\n\t\t\t\tif ( o.hidePlaceholderMenuItems ) {\n\t\t\t\t\tclasses.push( \"ui-screen-hidden\" );\n\t\t\t\t}\n\t\t\t\tif ( placeholder !== text ) {\n\t\t\t\t\tplaceholder = self.placeholder = text;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem = document.createElement( \"li\" );\n\t\t\tif ( option.disabled ) {\n\t\t\t\tclasses.push( \"ui-state-disabled\" );\n\t\t\t\titem.setAttribute( \"aria-disabled\", true );\n\t\t\t}\n\t\t\titem.setAttribute( dataIndexAttr, i );\n\t\t\titem.setAttribute( dataIconAttr, dataIcon );\n\t\t\tif ( isPlaceholderItem ) {\n\t\t\t\titem.setAttribute( dataPlaceholderAttr, true );\n\t\t\t}\n\t\t\titem.className = classes.join( \" \" );\n\t\t\titem.setAttribute( \"role\", \"option\" );\n\t\t\tanchor.setAttribute( \"tabindex\", \"-1\" );\n\t\t\tif ( this.isMultiple ) {\n\t\t\t\t$( anchor ).addClass( \"ui-btn ui-checkbox-off ui-btn-icon-right\" );\n\t\t\t}\n\n\t\t\titem.appendChild( anchor );\n\t\t\tfragment.appendChild( item );\n\t\t}\n\n\t\tself.list[0].appendChild( fragment );\n\n\t\t// Hide header if it's not a multiselect and there's no placeholder\n\t\tif ( !this.isMultiple && !placeholder.length ) {\n\t\t\tthis.header.addClass( \"ui-screen-hidden\" );\n\t\t} else {\n\t\t\tthis.headerTitle.text( this.placeholder );\n\t\t}\n\n\t\t// Now populated, create listview\n\t\tself.list.listview();\n\t},\n\n\t_button: function() {\n\t\treturn this.options.nativeMenu ?\n\t\t\tthis._super() :\n\t\t\t$( \"<a>\", {\n\t\t\t\t\"href\": \"#\",\n\t\t\t\t\"role\": \"button\",\n\t\t\t\t// TODO value is undefined at creation\n\t\t\t\t\"id\": this.buttonId,\n\t\t\t\t\"aria-haspopup\": \"true\",\n\n\t\t\t\t// TODO value is undefined at creation\n\t\t\t\t\"aria-owns\": this.menuId\n\t\t\t});\n\t},\n\n\t_destroy: function() {\n\n\t\tif ( !this.options.nativeMenu ) {\n\t\t\tthis.close();\n\n\t\t\t// Restore the tabindex attribute to its original value\n\t\t\tif ( this._origTabIndex !== undefined ) {\n\t\t\t\tif ( this._origTabIndex !== false ) {\n\t\t\t\t\tthis.select.attr( \"tabindex\", this._origTabIndex );\n\t\t\t\t} else {\n\t\t\t\t\tthis.select.removeAttr( \"tabindex\" );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove the placeholder attribute if we were the ones to add it\n\t\t\tif ( this._removePlaceholderAttr ) {\n\t\t\t\tthis._selectOptions().removeAttr( \"data-\" + $.mobile.ns + \"placeholder\" );\n\t\t\t}\n\n\t\t\t// Remove the popup\n\t\t\tthis.listbox.remove();\n\n\t\t\t// Remove the dialog\n\t\t\tthis.menuPage.remove();\n\t\t}\n\n\t\t// Chain up\n\t\tthis._super();\n\t}\n});\n\n})( jQuery );\n\n\n// buttonMarkup is deprecated as of 1.4.0 and will be removed in 1.5.0.\n\n(function( $, undefined ) {\n\n\n// General policy: Do not access data-* attributes except during enhancement.\n// In all other cases we determine the state of the button exclusively from its\n// className. That's why optionsToClasses expects a full complement of options,\n// and the jQuery plugin completes the set of options from the default values.\n\n// Map classes to buttonMarkup boolean options - used in classNameToOptions()\nvar reverseBoolOptionMap = {\n\t\t\"ui-shadow\" : \"shadow\",\n\t\t\"ui-corner-all\" : \"corners\",\n\t\t\"ui-btn-inline\" : \"inline\",\n\t\t\"ui-shadow-icon\" : \"iconshadow\", /* TODO: Remove in 1.5 */\n\t\t\"ui-mini\" : \"mini\"\n\t},\n\tgetAttrFixed = function() {\n\t\tvar ret = $.mobile.getAttribute.apply( this, arguments );\n\n\t\treturn ( ret == null ? undefined : ret );\n\t},\n\tcapitalLettersRE = /[A-Z]/g;\n\n// optionsToClasses:\n// @options: A complete set of options to convert to class names.\n// @existingClasses: extra classes to add to the result\n//\n// Converts @options to buttonMarkup classes and returns the result as an array\n// that can be converted to an element's className with .join( \" \" ). All\n// possible options must be set inside @options. Use $.fn.buttonMarkup.defaults\n// to get a complete set and use $.extend to override your choice of options\n// from that set.\nfunction optionsToClasses( options, existingClasses ) {\n\tvar classes = existingClasses ? existingClasses : [];\n\n\t// Add classes to the array - first ui-btn\n\tclasses.push( \"ui-btn\" );\n\n\t// If there is a theme\n\tif ( options.theme ) {\n\t\tclasses.push( \"ui-btn-\" + options.theme );\n\t}\n\n\t// If there's an icon, add the icon-related classes\n\tif ( options.icon ) {\n\t\tclasses = classes.concat([\n\t\t\t\"ui-icon-\" + options.icon,\n\t\t\t\"ui-btn-icon-\" + options.iconpos\n\t\t]);\n\t\tif ( options.iconshadow ) {\n\t\t\tclasses.push( \"ui-shadow-icon\" ); /* TODO: Remove in 1.5 */\n\t\t}\n\t}\n\n\t// Add the appropriate class for each boolean option\n\tif ( options.inline ) {\n\t\tclasses.push( \"ui-btn-inline\" );\n\t}\n\tif ( options.shadow ) {\n\t\tclasses.push( \"ui-shadow\" );\n\t}\n\tif ( options.corners ) {\n\t\tclasses.push( \"ui-corner-all\" );\n\t}\n\tif ( options.mini ) {\n\t\tclasses.push( \"ui-mini\" );\n\t}\n\n\t// Create a string from the array and return it\n\treturn classes;\n}\n\n// classNameToOptions:\n// @classes: A string containing a .className-style space-separated class list\n//\n// Loops over @classes and calculates an options object based on the\n// buttonMarkup-related classes it finds. It records unrecognized classes in an\n// array.\n//\n// Returns: An object containing the following items:\n//\n// \"options\": buttonMarkup options found to be present because of the\n// presence/absence of corresponding classes\n//\n// \"unknownClasses\": a string containing all the non-buttonMarkup-related\n// classes found in @classes\n//\n// \"alreadyEnhanced\": A boolean indicating whether the ui-btn class was among\n// those found to be present\nfunction classNameToOptions( classes ) {\n\tvar idx, map, unknownClass,\n\t\talreadyEnhanced = false,\n\t\tnoIcon = true,\n\t\to = {\n\t\t\ticon: \"\",\n\t\t\tinline: false,\n\t\t\tshadow: false,\n\t\t\tcorners: false,\n\t\t\ticonshadow: false,\n\t\t\tmini: false\n\t\t},\n\t\tunknownClasses = [];\n\n\tclasses = classes.split( \" \" );\n\n\t// Loop over the classes\n\tfor ( idx = 0 ; idx < classes.length ; idx++ ) {\n\n\t\t// Assume it's an unrecognized class\n\t\tunknownClass = true;\n\n\t\t// Recognize boolean options from the presence of classes\n\t\tmap = reverseBoolOptionMap[ classes[ idx ] ];\n\t\tif ( map !== undefined ) {\n\t\t\tunknownClass = false;\n\t\t\to[ map ] = true;\n\n\t\t// Recognize the presence of an icon and establish the icon position\n\t\t} else if ( classes[ idx ].indexOf( \"ui-btn-icon-\" ) === 0 ) {\n\t\t\tunknownClass = false;\n\t\t\tnoIcon = false;\n\t\t\to.iconpos = classes[ idx ].substring( 12 );\n\n\t\t// Establish which icon is present\n\t\t} else if ( classes[ idx ].indexOf( \"ui-icon-\" ) === 0 ) {\n\t\t\tunknownClass = false;\n\t\t\to.icon = classes[ idx ].substring( 8 );\n\n\t\t// Establish the theme - this recognizes one-letter theme swatch names\n\t\t} else if ( classes[ idx ].indexOf( \"ui-btn-\" ) === 0 && classes[ idx ].length === 8 ) {\n\t\t\tunknownClass = false;\n\t\t\to.theme = classes[ idx ].substring( 7 );\n\n\t\t// Recognize that this element has already been buttonMarkup-enhanced\n\t\t} else if ( classes[ idx ] === \"ui-btn\" ) {\n\t\t\tunknownClass = false;\n\t\t\talreadyEnhanced = true;\n\t\t}\n\n\t\t// If this class has not been recognized, add it to the list\n\t\tif ( unknownClass ) {\n\t\t\tunknownClasses.push( classes[ idx ] );\n\t\t}\n\t}\n\n\t// If a \"ui-btn-icon-*\" icon position class is absent there cannot be an icon\n\tif ( noIcon ) {\n\t\to.icon = \"\";\n\t}\n\n\treturn {\n\t\toptions: o,\n\t\tunknownClasses: unknownClasses,\n\t\talreadyEnhanced: alreadyEnhanced\n\t};\n}\n\nfunction camelCase2Hyphenated( c ) {\n\treturn \"-\" + c.toLowerCase();\n}\n\n// $.fn.buttonMarkup:\n// DOM: gets/sets .className\n//\n// @options: options to apply to the elements in the jQuery object\n// @overwriteClasses: boolean indicating whether to honour existing classes\n//\n// Calculates the classes to apply to the elements in the jQuery object based on\n// the options passed in. If @overwriteClasses is true, it sets the className\n// property of each element in the jQuery object to the buttonMarkup classes\n// it calculates based on the options passed in.\n//\n// If you wish to preserve any classes that are already present on the elements\n// inside the jQuery object, including buttonMarkup-related classes that were\n// added by a previous call to $.fn.buttonMarkup() or during page enhancement\n// then you should omit @overwriteClasses or set it to false.\n$.fn.buttonMarkup = function( options, overwriteClasses ) {\n\tvar idx, data, el, retrievedOptions, optionKey,\n\t\tdefaults = $.fn.buttonMarkup.defaults;\n\n\tfor ( idx = 0 ; idx < this.length ; idx++ ) {\n\t\tel = this[ idx ];\n\t\tdata = overwriteClasses ?\n\n\t\t\t// Assume this element is not enhanced and ignore its classes\n\t\t\t{ alreadyEnhanced: false, unknownClasses: [] } :\n\n\t\t\t// Otherwise analyze existing classes to establish existing options and\n\t\t\t// classes\n\t\t\tclassNameToOptions( el.className );\n\n\t\tretrievedOptions = $.extend( {},\n\n\t\t\t// If the element already has the class ui-btn, then we assume that\n\t\t\t// it has passed through buttonMarkup before - otherwise, the options\n\t\t\t// returned by classNameToOptions do not correctly reflect the state of\n\t\t\t// the element\n\t\t\t( data.alreadyEnhanced ? data.options : {} ),\n\n\t\t\t// Finally, apply the options passed in\n\t\t\toptions );\n\n\t\t// If this is the first call on this element, retrieve remaining options\n\t\t// from the data-attributes\n\t\tif ( !data.alreadyEnhanced ) {\n\t\t\tfor ( optionKey in defaults ) {\n\t\t\t\tif ( retrievedOptions[ optionKey ] === undefined ) {\n\t\t\t\t\tretrievedOptions[ optionKey ] = getAttrFixed( el,\n\t\t\t\t\t\toptionKey.replace( capitalLettersRE, camelCase2Hyphenated )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tel.className = optionsToClasses(\n\n\t\t\t// Merge all the options and apply them as classes\n\t\t\t$.extend( {},\n\n\t\t\t\t// The defaults form the basis\n\t\t\t\tdefaults,\n\n\t\t\t\t// Add the computed options\n\t\t\t\tretrievedOptions\n\t\t\t),\n\n\t\t\t// ... and re-apply any unrecognized classes that were found\n\t\t\tdata.unknownClasses ).join( \" \" );\n\t\tif ( el.tagName.toLowerCase() !== \"button\" ) {\n\t\t\tel.setAttribute( \"role\", \"button\" );\n\t\t}\n\t}\n\n\treturn this;\n};\n\n// buttonMarkup defaults. This must be a complete set, i.e., a value must be\n// given here for all recognized options\n$.fn.buttonMarkup.defaults = {\n\ticon: \"\",\n\ticonpos: \"left\",\n\ttheme: null,\n\tinline: false,\n\tshadow: true,\n\tcorners: true,\n\ticonshadow: false, /* TODO: Remove in 1.5. Option deprecated in 1.4. */\n\tmini: false\n};\n\n$.extend( $.fn.buttonMarkup, {\n\tinitSelector: \"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button\"\n});\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.controlgroup\", $.extend( {\n\toptions: {\n\t\tenhanced: false,\n\t\ttheme: null,\n\t\tshadow: false,\n\t\tcorners: true,\n\t\texcludeInvisible: true,\n\t\ttype: \"vertical\",\n\t\tmini: false\n\t},\n\n\t_create: function() {\n\t\tvar elem = this.element,\n\t\t\topts = this.options;\n\n\t\t// Run buttonmarkup\n\t\tif ( $.fn.buttonMarkup ) {\n\t\t\tthis.element.find( $.fn.buttonMarkup.initSelector ).buttonMarkup();\n\t\t}\n\t\t// Enhance child widgets\n\t\t$.each( this._childWidgets, $.proxy( function( number, widgetName ) {\n\t\t\tif ( $.mobile[ widgetName ] ) {\n\t\t\t\tthis.element.find( $.mobile[ widgetName ].initSelector ).not( $.mobile.page.prototype.keepNativeSelector() )[ widgetName ]();\n\t\t\t}\n\t\t}, this ));\n\n\t\t$.extend( this, {\n\t\t\t_ui: null,\n\t\t\t_initialRefresh: true\n\t\t});\n\n\t\tif ( opts.enhanced ) {\n\t\t\tthis._ui = {\n\t\t\t\tgroupLegend: elem.children( \".ui-controlgroup-label\" ).children(),\n\t\t\t\tchildWrapper: elem.children( \".ui-controlgroup-controls\" )\n\t\t\t};\n\t\t} else {\n\t\t\tthis._ui = this._enhance();\n\t\t}\n\n\t},\n\n\t_childWidgets: [ \"checkboxradio\", \"selectmenu\", \"button\" ],\n\n\t_themeClassFromOption: function( value ) {\n\t\treturn ( value ? ( value === \"none\" ? \"\" : \"ui-group-theme-\" + value ) : \"\" );\n\t},\n\n\t_enhance: function() {\n\t\tvar elem = this.element,\n\t\t\topts = this.options,\n\t\t\tui = {\n\t\t\t\tgroupLegend: elem.children( \"legend\" ),\n\t\t\t\tchildWrapper: elem\n\t\t\t\t\t.addClass( \"ui-controlgroup \" +\n\t\t\t\t\t\t\"ui-controlgroup-\" +\n\t\t\t\t\t\t\t( opts.type === \"horizontal\" ? \"horizontal\" : \"vertical\" ) + \" \" +\n\t\t\t\t\t\tthis._themeClassFromOption( opts.theme ) + \" \" +\n\t\t\t\t\t\t( opts.corners ? \"ui-corner-all \" : \"\" ) +\n\t\t\t\t\t\t( opts.mini ? \"ui-mini \" : \"\" ) )\n\t\t\t\t\t.wrapInner( \"<div \" +\n\t\t\t\t\t\t\"class='ui-controlgroup-controls \" +\n\t\t\t\t\t\t\t( opts.shadow === true ? \"ui-shadow\" : \"\" ) + \"'></div>\" )\n\t\t\t\t\t.children()\n\t\t\t};\n\n\t\tif ( ui.groupLegend.length > 0 ) {\n\t\t\t$( \"<div role='heading' class='ui-controlgroup-label'></div>\" )\n\t\t\t\t.append( ui.groupLegend )\n\t\t\t\t.prependTo( elem );\n\t\t}\n\n\t\treturn ui;\n\t},\n\n\t_init: function() {\n\t\tthis.refresh();\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar callRefresh, returnValue,\n\t\t\telem = this.element;\n\n\t\t// Must have one of horizontal or vertical\n\t\tif ( options.type !== undefined ) {\n\t\t\telem\n\t\t\t\t.removeClass( \"ui-controlgroup-horizontal ui-controlgroup-vertical\" )\n\t\t\t\t.addClass( \"ui-controlgroup-\" + ( options.type === \"horizontal\" ? \"horizontal\" : \"vertical\" ) );\n\t\t\tcallRefresh = true;\n\t\t}\n\n\t\tif ( options.theme !== undefined ) {\n\t\t\telem\n\t\t\t\t.removeClass( this._themeClassFromOption( this.options.theme ) )\n\t\t\t\t.addClass( this._themeClassFromOption( options.theme ) );\n\t\t}\n\n\t\tif ( options.corners !== undefined ) {\n\t\t\telem.toggleClass( \"ui-corner-all\", options.corners );\n\t\t}\n\n\t\tif ( options.mini !== undefined ) {\n\t\t\telem.toggleClass( \"ui-mini\", options.mini );\n\t\t}\n\n\t\tif ( options.shadow !== undefined ) {\n\t\t\tthis._ui.childWrapper.toggleClass( \"ui-shadow\", options.shadow );\n\t\t}\n\n\t\tif ( options.excludeInvisible !== undefined ) {\n\t\t\tthis.options.excludeInvisible = options.excludeInvisible;\n\t\t\tcallRefresh = true;\n\t\t}\n\n\t\treturnValue = this._super( options );\n\n\t\tif ( callRefresh ) {\n\t\t\tthis.refresh();\n\t\t}\n\n\t\treturn returnValue;\n\t},\n\n\tcontainer: function() {\n\t\treturn this._ui.childWrapper;\n\t},\n\n\trefresh: function() {\n\t\tvar $el = this.container(),\n\t\t\tels = $el.find( \".ui-btn\" ).not( \".ui-slider-handle\" ),\n\t\t\tcreate = this._initialRefresh;\n\t\tif ( $.mobile.checkboxradio ) {\n\t\t\t$el.find( \":mobile-checkboxradio\" ).checkboxradio( \"refresh\" );\n\t\t}\n\t\tthis._addFirstLastClasses( els,\n\t\t\tthis.options.excludeInvisible ? this._getVisibles( els, create ) : els,\n\t\t\tcreate );\n\t\tthis._initialRefresh = false;\n\t},\n\n\t// Caveat: If the legend is not the first child of the controlgroup at enhance\n\t// time, it will be after _destroy().\n\t_destroy: function() {\n\t\tvar ui, buttons,\n\t\t\topts = this.options;\n\n\t\tif ( opts.enhanced ) {\n\t\t\treturn this;\n\t\t}\n\n\t\tui = this._ui;\n\t\tbuttons = this.element\n\t\t\t.removeClass( \"ui-controlgroup \" +\n\t\t\t\t\"ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini \" +\n\t\t\t\tthis._themeClassFromOption( opts.theme ) )\n\t\t\t.find( \".ui-btn\" )\n\t\t\t.not( \".ui-slider-handle\" );\n\n\t\tthis._removeFirstLastClasses( buttons );\n\n\t\tui.groupLegend.unwrap();\n\t\tui.childWrapper.children().unwrap();\n\t}\n}, $.mobile.behaviors.addFirstLastClasses ) );\n\n})(jQuery);\n\n(function( $, undefined ) {\n\n\t$.widget( \"mobile.toolbar\", {\n\t\tinitSelector: \":jqmData(role='footer'), :jqmData(role='header')\",\n\n\t\toptions: {\n\t\t\ttheme: null,\n\t\t\taddBackBtn: false,\n\t\t\tbackBtnTheme: null,\n\t\t\tbackBtnText: \"Back\"\n\t\t},\n\n\t\t_create: function() {\n\t\t\tvar leftbtn, rightbtn,\n\t\t\t\trole =  this.element.is( \":jqmData(role='header')\" ) ? \"header\" : \"footer\",\n\t\t\t\tpage = this.element.closest( \".ui-page\" );\n\t\t\tif ( page.length === 0 ) {\n\t\t\t\tpage = false;\n\t\t\t\tthis._on( this.document, {\n\t\t\t\t\t\"pageshow\": \"refresh\"\n\t\t\t\t});\n\t\t\t}\n\t\t\t$.extend( this, {\n\t\t\t\trole: role,\n\t\t\t\tpage: page,\n\t\t\t\tleftbtn: leftbtn,\n\t\t\t\trightbtn: rightbtn,\n\t\t\t\tbackBtn: null\n\t\t\t});\n\t\t\tthis.element.attr( \"role\", role === \"header\" ? \"banner\" : \"contentinfo\" ).addClass( \"ui-\" + role );\n\t\t\tthis.refresh();\n\t\t\tthis._setOptions( this.options );\n\t\t},\n\t\t_setOptions: function( o ) {\n\t\t\tif ( o.addBackBtn !== undefined ) {\n\t\t\t\tif ( this.options.addBackBtn &&\n\t\t\t\t\tthis.role === \"header\" &&\n\t\t\t\t\t$( \".ui-page\" ).length > 1 &&\n\t\t\t\t\tthis.page[ 0 ].getAttribute( \"data-\" + $.mobile.ns + \"url\" ) !== $.mobile.path.stripHash( location.hash ) &&\n\t\t\t\t\t!this.leftbtn ) {\n\t\t\t\t\t\tthis._addBackButton();\n\t\t\t\t} else {\n\t\t\t\t\tthis.element.find( \".ui-toolbar-back-btn\" ).remove();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( o.backBtnTheme != null ) {\n\t\t\t\tthis.element\n\t\t\t\t\t.find( \".ui-toolbar-back-btn\" )\n\t\t\t\t\t.addClass( \"ui-btn ui-btn-\" + o.backBtnTheme );\n\t\t\t}\n\t\t\tif ( o.backBtnText !== undefined ) {\n\t\t\t\tthis.element.find( \".ui-toolbar-back-btn .ui-btn-text\" ).text( o.backBtnText );\n\t\t\t}\n\t\t\tif ( o.theme !== undefined ) {\n\t\t\t\tvar currentTheme = this.options.theme ? this.options.theme : \"inherit\",\n\t\t\t\t\tnewTheme = o.theme ? o.theme : \"inherit\";\n\n\t\t\t\tthis.element.removeClass( \"ui-bar-\" + currentTheme ).addClass( \"ui-bar-\" + newTheme );\n\t\t\t}\n\n\t\t\tthis._super( o );\n\t\t},\n\t\trefresh: function() {\n\t\t\tif ( this.role === \"header\" ) {\n\t\t\t\tthis._addHeaderButtonClasses();\n\t\t\t}\n\t\t\tif ( !this.page ) {\n\t\t\t\tthis._setRelative();\n\t\t\t\tif ( this.role === \"footer\" ) {\n\t\t\t\t\tthis.element.appendTo( \"body\" );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._addHeadingClasses();\n\t\t\tthis._btnMarkup();\n\t\t},\n\n\t\t//we only want this to run on non fixed toolbars so make it easy to override\n\t\t_setRelative: function() {\n\t\t\t$( \"[data-\"+ $.mobile.ns + \"role='page']\" ).css({ \"position\": \"relative\" });\n\t\t},\n\n\t\t// Deprecated in 1.4. As from 1.5 button classes have to be present in the markup.\n\t\t_btnMarkup: function() {\n\t\t\tthis.element.children( \"a\" ).attr( \"data-\" + $.mobile.ns + \"role\", \"button\" );\n\t\t\tthis.element.trigger( \"create\" );\n\t\t},\n\t\t// Deprecated in 1.4. As from 1.5 ui-btn-left/right classes have to be present in the markup.\n\t\t_addHeaderButtonClasses: function() {\n\t\t\tvar $headeranchors = this.element.children( \"a, button\" );\n\t\t\tthis.leftbtn = $headeranchors.hasClass( \"ui-btn-left\" );\n\t\t\tthis.rightbtn = $headeranchors.hasClass( \"ui-btn-right\" );\n\n\t\t\tthis.leftbtn = this.leftbtn || $headeranchors.eq( 0 ).not( \".ui-btn-right\" ).addClass( \"ui-btn-left\" ).length;\n\n\t\t\tthis.rightbtn = this.rightbtn || $headeranchors.eq( 1 ).addClass( \"ui-btn-right\" ).length;\n\n\t\t},\n\t\t_addBackButton: function() {\n\t\t\tvar theme,\n\t\t\t\toptions = this.options;\n\n\t\t\tif ( !this.backBtn ) {\n\t\t\t\ttheme = options.backBtnTheme || options.theme;\n\t\t\t\tthis.backBtn = $( \"<a role='button' href='javascript:void(0);' \" +\n\t\t\t\t\t\"class='ui-btn ui-corner-all ui-shadow ui-btn-left \" +\n\t\t\t\t\t\t( theme ? \"ui-btn-\" + theme + \" \" : \"\" ) +\n\t\t\t\t\t\t\"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' \" +\n\t\t\t\t\t\"data-\" + $.mobile.ns + \"rel='back'>\" + options.backBtnText + \"</a>\" )\n\t\t\t\t\t\t.prependTo( this.element );\n\t\t\t}\n\t\t},\n\t\t_addHeadingClasses: function() {\n\t\t\tthis.element.children( \"h1, h2, h3, h4, h5, h6\" )\n\t\t\t\t.addClass( \"ui-title\" )\n\t\t\t\t// Regardless of h element number in src, it becomes h1 for the enhanced page\n\t\t\t\t.attr({\n\t\t\t\t\t\"role\": \"heading\",\n\t\t\t\t\t\"aria-level\": \"1\"\n\t\t\t\t});\n\t\t}\n\t});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n\t$.widget( \"mobile.toolbar\", $.mobile.toolbar, {\n\t\toptions: {\n\t\t\tposition:null,\n\t\t\tvisibleOnPageShow: true,\n\t\t\tdisablePageZoom: true,\n\t\t\ttransition: \"slide\", //can be none, fade, slide (slide maps to slideup or slidedown)\n\t\t\tfullscreen: false,\n\t\t\ttapToggle: true,\n\t\t\ttapToggleBlacklist: \"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open\",\n\t\t\thideDuringFocus: \"input, textarea, select\",\n\t\t\tupdatePagePadding: true,\n\t\t\ttrackPersistentToolbars: true,\n\n\t\t\t// Browser detection! Weeee, here we go...\n\t\t\t// Unfortunately, position:fixed is costly, not to mention probably impossible, to feature-detect accurately.\n\t\t\t// Some tests exist, but they currently return false results in critical devices and browsers, which could lead to a broken experience.\n\t\t\t// Testing fixed positioning is also pretty obtrusive to page load, requiring injected elements and scrolling the window\n\t\t\t// The following function serves to rule out some popular browsers with known fixed-positioning issues\n\t\t\t// This is a plugin option like any other, so feel free to improve or overwrite it\n\t\t\tsupportBlacklist: function() {\n\t\t\t\treturn !$.support.fixedPosition;\n\t\t\t}\n\t\t},\n\n\t\t_create: function() {\n\t\t\tthis._super();\n\t\t\tif ( this.options.position === \"fixed\" && !this.options.supportBlacklist() ) {\n\t\t\t\tthis._makeFixed();\n\t\t\t}\n\t\t},\n\n\t\t_makeFixed: function() {\n\t\t\tthis.element.addClass( \"ui-\"+ this.role +\"-fixed\" );\n\t\t\tthis.updatePagePadding();\n\t\t\tthis._addTransitionClass();\n\t\t\tthis._bindPageEvents();\n\t\t\tthis._bindToggleHandlers();\n\t\t\tthis._setOptions( this.options );\n\t\t},\n\n\t\t_setOptions: function( o ) {\n\t\t\tif ( o.position === \"fixed\" && this.options.position !== \"fixed\" ) {\n\t\t\t\tthis._makeFixed();\n\t\t\t}\n\t\t\tif ( this.options.position === \"fixed\" && !this.options.supportBlacklist() ) {\n\t\t\t\tvar $page = ( !!this.page )? this.page: ( $(\".ui-page-active\").length > 0 )? $(\".ui-page-active\"): $(\".ui-page\").eq(0);\n\n\t\t\t\tif ( o.fullscreen !== undefined) {\n\t\t\t\t\tif ( o.fullscreen ) {\n\t\t\t\t\t\tthis.element.addClass( \"ui-\"+ this.role +\"-fullscreen\" );\n\t\t\t\t\t\t$page.addClass( \"ui-page-\" + this.role + \"-fullscreen\" );\n\t\t\t\t\t}\n\t\t\t\t\t// If not fullscreen, add class to page to set top or bottom padding\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.element.removeClass( \"ui-\"+ this.role +\"-fullscreen\" );\n\t\t\t\t\t\t$page.removeClass( \"ui-page-\" + this.role + \"-fullscreen\" ).addClass( \"ui-page-\" + this.role+ \"-fixed\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._super(o);\n\t\t},\n\n\t\t_addTransitionClass: function() {\n\t\t\tvar tclass = this.options.transition;\n\n\t\t\tif ( tclass && tclass !== \"none\" ) {\n\t\t\t\t// use appropriate slide for header or footer\n\t\t\t\tif ( tclass === \"slide\" ) {\n\t\t\t\t\ttclass = this.element.hasClass( \"ui-header\" ) ? \"slidedown\" : \"slideup\";\n\t\t\t\t}\n\n\t\t\t\tthis.element.addClass( tclass );\n\t\t\t}\n\t\t},\n\n\t\t_bindPageEvents: function() {\n\t\t\tvar page = ( !!this.page )? this.element.closest( \".ui-page\" ): this.document;\n\t\t\t//page event bindings\n\t\t\t// Fixed toolbars require page zoom to be disabled, otherwise usability issues crop up\n\t\t\t// This method is meant to disable zoom while a fixed-positioned toolbar page is visible\n\t\t\tthis._on( page , {\n\t\t\t\t\"pagebeforeshow\": \"_handlePageBeforeShow\",\n\t\t\t\t\"webkitAnimationStart\":\"_handleAnimationStart\",\n\t\t\t\t\"animationstart\":\"_handleAnimationStart\",\n\t\t\t\t\"updatelayout\": \"_handleAnimationStart\",\n\t\t\t\t\"pageshow\": \"_handlePageShow\",\n\t\t\t\t\"pagebeforehide\": \"_handlePageBeforeHide\"\n\t\t\t});\n\t\t},\n\n\t\t_handlePageBeforeShow: function( ) {\n\t\t\tvar o = this.options;\n\t\t\tif ( o.disablePageZoom ) {\n\t\t\t\t$.mobile.zoom.disable( true );\n\t\t\t}\n\t\t\tif ( !o.visibleOnPageShow ) {\n\t\t\t\tthis.hide( true );\n\t\t\t}\n\t\t},\n\n\t\t_handleAnimationStart: function() {\n\t\t\tif ( this.options.updatePagePadding ) {\n\t\t\t\tthis.updatePagePadding( ( !!this.page )? this.page: \".ui-page-active\" );\n\t\t\t}\n\t\t},\n\n\t\t_handlePageShow: function() {\n\t\t\tthis.updatePagePadding( ( !!this.page )? this.page: \".ui-page-active\" );\n\t\t\tif ( this.options.updatePagePadding ) {\n\t\t\t\tthis._on( this.window, { \"throttledresize\": \"updatePagePadding\" } );\n\t\t\t}\n\t\t},\n\n\t\t_handlePageBeforeHide: function( e, ui ) {\n\t\t\tvar o = this.options,\n\t\t\t\tthisFooter, thisHeader, nextFooter, nextHeader;\n\n\t\t\tif ( o.disablePageZoom ) {\n\t\t\t\t$.mobile.zoom.enable( true );\n\t\t\t}\n\t\t\tif ( o.updatePagePadding ) {\n\t\t\t\tthis._off( this.window, \"throttledresize\" );\n\t\t\t}\n\n\t\t\tif ( o.trackPersistentToolbars ) {\n\t\t\t\tthisFooter = $( \".ui-footer-fixed:jqmData(id)\", this.page );\n\t\t\t\tthisHeader = $( \".ui-header-fixed:jqmData(id)\", this.page );\n\t\t\t\tnextFooter = thisFooter.length && ui.nextPage && $( \".ui-footer-fixed:jqmData(id='\" + thisFooter.jqmData( \"id\" ) + \"')\", ui.nextPage ) || $();\n\t\t\t\tnextHeader = thisHeader.length && ui.nextPage && $( \".ui-header-fixed:jqmData(id='\" + thisHeader.jqmData( \"id\" ) + \"')\", ui.nextPage ) || $();\n\n\t\t\t\tif ( nextFooter.length || nextHeader.length ) {\n\n\t\t\t\t\tnextFooter.add( nextHeader ).appendTo( $.mobile.pageContainer );\n\n\t\t\t\t\tui.nextPage.one( \"pageshow\", function() {\n\t\t\t\t\t\tnextHeader.prependTo( this );\n\t\t\t\t\t\tnextFooter.appendTo( this );\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_visible: true,\n\n\t\t// This will set the content element's top or bottom padding equal to the toolbar's height\n\t\tupdatePagePadding: function( tbPage ) {\n\t\t\tvar $el = this.element,\n\t\t\t\theader = ( this.role ===\"header\" ),\n\t\t\t\tpos = parseFloat( $el.css( header ? \"top\" : \"bottom\" ) );\n\n\t\t\t// This behavior only applies to \"fixed\", not \"fullscreen\"\n\t\t\tif ( this.options.fullscreen ) { return; }\n\t\t\t// tbPage argument can be a Page object or an event, if coming from throttled resize.\n\t\t\ttbPage = ( tbPage && tbPage.type === undefined && tbPage ) || this.page || $el.closest( \".ui-page\" );\n\t\t\ttbPage = ( !!this.page )? this.page: \".ui-page-active\";\n\t\t\t$( tbPage ).css( \"padding-\" + ( header ? \"top\" : \"bottom\" ), $el.outerHeight() + pos );\n\t\t},\n\n\t\t_useTransition: function( notransition ) {\n\t\t\tvar $win = this.window,\n\t\t\t\t$el = this.element,\n\t\t\t\tscroll = $win.scrollTop(),\n\t\t\t\telHeight = $el.height(),\n\t\t\t\tpHeight = ( !!this.page )? $el.closest( \".ui-page\" ).height():$(\".ui-page-active\").height(),\n\t\t\t\tviewportHeight = $.mobile.getScreenHeight();\n\n\t\t\treturn !notransition &&\n\t\t\t\t( this.options.transition && this.options.transition !== \"none\" &&\n\t\t\t\t(\n\t\t\t\t\t( this.role === \"header\" && !this.options.fullscreen && scroll > elHeight ) ||\n\t\t\t\t\t( this.role === \"footer\" && !this.options.fullscreen && scroll + viewportHeight < pHeight - elHeight )\n\t\t\t\t) || this.options.fullscreen\n\t\t\t\t);\n\t\t},\n\n\t\tshow: function( notransition ) {\n\t\t\tvar hideClass = \"ui-fixed-hidden\",\n\t\t\t\t$el = this.element;\n\n\t\t\tif ( this._useTransition( notransition ) ) {\n\t\t\t\t$el\n\t\t\t\t\t.removeClass( \"out \" + hideClass )\n\t\t\t\t\t.addClass( \"in\" )\n\t\t\t\t\t.animationComplete(function () {\n\t\t\t\t\t\t$el.removeClass( \"in\" );\n\t\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$el.removeClass( hideClass );\n\t\t\t}\n\t\t\tthis._visible = true;\n\t\t},\n\n\t\thide: function( notransition ) {\n\t\t\tvar hideClass = \"ui-fixed-hidden\",\n\t\t\t\t$el = this.element,\n\t\t\t\t// if it's a slide transition, our new transitions need the reverse class as well to slide outward\n\t\t\t\toutclass = \"out\" + ( this.options.transition === \"slide\" ? \" reverse\" : \"\" );\n\n\t\t\tif ( this._useTransition( notransition ) ) {\n\t\t\t\t$el\n\t\t\t\t\t.addClass( outclass )\n\t\t\t\t\t.removeClass( \"in\" )\n\t\t\t\t\t.animationComplete(function() {\n\t\t\t\t\t\t$el.addClass( hideClass ).removeClass( outclass );\n\t\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$el.addClass( hideClass ).removeClass( outclass );\n\t\t\t}\n\t\t\tthis._visible = false;\n\t\t},\n\n\t\ttoggle: function() {\n\t\t\tthis[ this._visible ? \"hide\" : \"show\" ]();\n\t\t},\n\n\t\t_bindToggleHandlers: function() {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\t\t\t\tdelayShow, delayHide,\n\t\t\t\tisVisible = true,\n\t\t\t\tpage = ( !!this.page )? this.page: $(\".ui-page\");\n\n\t\t\t// tap toggle\n\t\t\tpage\n\t\t\t\t.bind( \"vclick\", function( e ) {\n\t\t\t\t\tif ( o.tapToggle && !$( e.target ).closest( o.tapToggleBlacklist ).length ) {\n\t\t\t\t\t\tself.toggle();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.bind( \"focusin focusout\", function( e ) {\n\t\t\t\t\t//this hides the toolbars on a keyboard pop to give more screen room and prevent ios bug which\n\t\t\t\t\t//positions fixed toolbars in the middle of the screen on pop if the input is near the top or\n\t\t\t\t\t//bottom of the screen addresses issues #4410 Footer navbar moves up when clicking on a textbox in an Android environment\n\t\t\t\t\t//and issue #4113 Header and footer change their position after keyboard popup - iOS\n\t\t\t\t\t//and issue #4410 Footer navbar moves up when clicking on a textbox in an Android environment\n\t\t\t\t\tif ( screen.width < 1025 && $( e.target ).is( o.hideDuringFocus ) && !$( e.target ).closest( \".ui-header-fixed, .ui-footer-fixed\" ).length ) {\n\t\t\t\t\t\t//Fix for issue #4724 Moving through form in Mobile Safari with \"Next\" and \"Previous\" system\n\t\t\t\t\t\t//controls causes fixed position, tap-toggle false Header to reveal itself\n\t\t\t\t\t\t// isVisible instead of self._visible because the focusin and focusout events fire twice at the same time\n\t\t\t\t\t\t// Also use a delay for hiding the toolbars because on Android native browser focusin is direclty followed\n\t\t\t\t\t\t// by a focusout when a native selects opens and the other way around when it closes.\n\t\t\t\t\t\tif ( e.type === \"focusout\" && !isVisible ) {\n\t\t\t\t\t\t\tisVisible = true;\n\t\t\t\t\t\t\t//wait for the stack to unwind and see if we have jumped to another input\n\t\t\t\t\t\t\tclearTimeout( delayHide );\n\t\t\t\t\t\t\tdelayShow = setTimeout( function() {\n\t\t\t\t\t\t\t\tself.show();\n\t\t\t\t\t\t\t}, 0 );\n\t\t\t\t\t\t} else if ( e.type === \"focusin\" && !!isVisible ) {\n\t\t\t\t\t\t\t//if we have jumped to another input clear the time out to cancel the show.\n\t\t\t\t\t\t\tclearTimeout( delayShow );\n\t\t\t\t\t\t\tisVisible = false;\n\t\t\t\t\t\t\tdelayHide = setTimeout( function() {\n\t\t\t\t\t\t\t\tself.hide();\n\t\t\t\t\t\t\t}, 0 );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\n\t\t_setRelative: function() {\n\t\t\tif( this.options.position !== \"fixed\" ){\n\t\t\t\t$( \"[data-\"+ $.mobile.ns + \"role='page']\" ).css({ \"position\": \"relative\" });\n\t\t\t}\n\t\t},\n\n\t\t_destroy: function() {\n\t\t\tvar $el = this.element,\n\t\t\t\theader = $el.hasClass( \"ui-header\" );\n\n\t\t\t$el.closest( \".ui-page\" ).css( \"padding-\" + ( header ? \"top\" : \"bottom\" ), \"\" );\n\t\t\t$el.removeClass( \"ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden\" );\n\t\t\t$el.closest( \".ui-page\" ).removeClass( \"ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen\" );\n\t\t}\n\n\t});\n})( jQuery );\n\n(function( $, undefined ) {\n\t$.widget( \"mobile.toolbar\", $.mobile.toolbar, {\n\n\t\t_makeFixed: function() {\n\t\t\tthis._super();\n\t\t\tthis._workarounds();\n\t\t},\n\n\t\t//check the browser and version and run needed workarounds\n\t\t_workarounds: function() {\n\t\t\tvar ua = navigator.userAgent,\n\t\t\tplatform = navigator.platform,\n\t\t\t// Rendering engine is Webkit, and capture major version\n\t\t\twkmatch = ua.match( /AppleWebKit\\/([0-9]+)/ ),\n\t\t\twkversion = !!wkmatch && wkmatch[ 1 ],\n\t\t\tos = null,\n\t\t\tself = this;\n\t\t\t//set the os we are working in if it dosent match one with workarounds return\n\t\t\tif ( platform.indexOf( \"iPhone\" ) > -1 || platform.indexOf( \"iPad\" ) > -1  || platform.indexOf( \"iPod\" ) > -1 ) {\n\t\t\t\tos = \"ios\";\n\t\t\t} else if ( ua.indexOf( \"Android\" ) > -1 ) {\n\t\t\t\tos = \"android\";\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//check os version if it dosent match one with workarounds return\n\t\t\tif ( os === \"ios\" ) {\n\t\t\t\t//iOS  workarounds\n\t\t\t\tself._bindScrollWorkaround();\n\t\t\t} else if ( os === \"android\" && wkversion && wkversion < 534 ) {\n\t\t\t\t//Android 2.3 run all Android 2.3 workaround\n\t\t\t\tself._bindScrollWorkaround();\n\t\t\t\tself._bindListThumbWorkaround();\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\n\t\t//Utility class for checking header and footer positions relative to viewport\n\t\t_viewportOffset: function() {\n\t\t\tvar $el = this.element,\n\t\t\t\theader = $el.hasClass( \"ui-header\" ),\n\t\t\t\toffset = Math.abs( $el.offset().top - this.window.scrollTop() );\n\t\t\tif ( !header ) {\n\t\t\t\toffset = Math.round( offset - this.window.height() + $el.outerHeight() ) - 60;\n\t\t\t}\n\t\t\treturn offset;\n\t\t},\n\n\t\t//bind events for _triggerRedraw() function\n\t\t_bindScrollWorkaround: function() {\n\t\t\tvar self = this;\n\t\t\t//bind to scrollstop and check if the toolbars are correctly positioned\n\t\t\tthis._on( this.window, { scrollstop: function() {\n\t\t\t\tvar viewportOffset = self._viewportOffset();\n\t\t\t\t//check if the header is visible and if its in the right place\n\t\t\t\tif ( viewportOffset > 2 && self._visible ) {\n\t\t\t\t\tself._triggerRedraw();\n\t\t\t\t}\n\t\t\t}});\n\t\t},\n\n\t\t//this addresses issue #4250 Persistent footer instability in v1.1 with long select lists in Android 2.3.3\n\t\t//and issue #3748 Android 2.x: Page transitions broken when fixed toolbars used\n\t\t//the absolutely positioned thumbnail in a list view causes problems with fixed position buttons above in a nav bar\n\t\t//setting the li's to -webkit-transform:translate3d(0,0,0); solves this problem to avoide potential issues in other\n\t\t//platforms we scope this with the class ui-android-2x-fix\n\t\t_bindListThumbWorkaround: function() {\n\t\t\tthis.element.closest( \".ui-page\" ).addClass( \"ui-android-2x-fixed\" );\n\t\t},\n\t\t//this addresses issues #4337 Fixed header problem after scrolling content on iOS and Android\n\t\t//and device bugs project issue #1 Form elements can lose click hit area in position: fixed containers.\n\t\t//this also addresses not on fixed toolbars page in docs\n\t\t//adding 1px of padding to the bottom then removing it causes a \"redraw\"\n\t\t//which positions the toolbars correctly (they will always be visually correct)\n\t\t_triggerRedraw: function() {\n\t\t\tvar paddingBottom = parseFloat( $( \".ui-page-active\" ).css( \"padding-bottom\" ) );\n\t\t\t//trigger page redraw to fix incorrectly positioned fixed elements\n\t\t\t$( \".ui-page-active\" ).css( \"padding-bottom\", ( paddingBottom + 1 ) + \"px\" );\n\t\t\t//if the padding is reset with out a timeout the reposition will not occure.\n\t\t\t//this is independant of JQM the browser seems to need the time to react.\n\t\t\tsetTimeout( function() {\n\t\t\t\t$( \".ui-page-active\" ).css( \"padding-bottom\", paddingBottom + \"px\" );\n\t\t\t}, 0 );\n\t\t},\n\n\t\tdestroy: function() {\n\t\t\tthis._super();\n\t\t\t//Remove the class we added to the page previously in android 2.x\n\t\t\tthis.element.closest( \".ui-page-active\" ).removeClass( \"ui-android-2x-fix\" );\n\t\t}\n\t});\n\n})( jQuery );\n\n\n( function( $, undefined ) {\n\nvar ieHack = ( $.mobile.browser.oldIE && $.mobile.browser.oldIE <= 8 ),\n\tuiTemplate = $(\n\t\t\"<div class='ui-popup-arrow-guide'></div>\" +\n\t\t\"<div class='ui-popup-arrow-container\" + ( ieHack ? \" ie\" : \"\" ) + \"'>\" +\n\t\t\t\"<div class='ui-popup-arrow'>\" +\n\t\t\t\t\"<div class='ui-popup-arrow-background'></div>\" +\n\t\t\t\"</div>\" +\n\t\t\"</div>\"\n\t),\n\t// Needed for transforming coordinates from screen to arrow background\n\ttxFactor = Math.sqrt( 2 ) / 2;\n\nfunction getArrow() {\n\tvar clone = uiTemplate.clone(),\n\t\tgd = clone.eq( 0 ),\n\t\tct = clone.eq( 1 ),\n\t\tar = ct.children(),\n\t\tbg = ar.children();\n\n\treturn { arEls: ct.add( gd ), gd: gd, ct: ct, ar: ar, bg: bg };\n}\n\n$.widget( \"mobile.popup\", $.mobile.popup, {\n\toptions: {\n\n\t\tarrow: \"\"\n\t},\n\n\t_create: function() {\n\t\tvar ar,\n\t\t\tret = this._super();\n\n\t\tif ( this.options.arrow ) {\n\t\t\tthis._ui.arrow = ar = this._addArrow();\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\t_addArrow: function() {\n\t\tvar theme,\n\t\t\topts = this.options,\n\t\t\tar = getArrow();\n\n\t\ttheme = this._themeClassFromOption( \"ui-body-\", opts.theme );\n\t\tar.ar.addClass( theme + ( opts.shadow ? \" ui-overlay-shadow\" : \"\" ) );\n\t\tar.bg.addClass( theme );\n\t\tar.arEls.hide().appendTo( this.element );\n\n\t\treturn ar;\n\t},\n\n\t_unenhance: function() {\n\t\tvar ar = this._ui.arrow;\n\n\t\tif ( ar ) {\n\t\t\tar.arEls.remove();\n\t\t}\n\n\t\treturn this._super();\n\t},\n\n\t// Pretend to show an arrow described by @p and @dir and calculate the\n\t// distance from the desired point. If a best-distance is passed in, return\n\t// the minimum of the one passed in and the one calculated.\n\t_tryAnArrow: function( p, dir, desired, s, best ) {\n\t\tvar result, r, diff, desiredForArrow = {}, tip = {};\n\n\t\t// If the arrow has no wiggle room along the edge of the popup, it cannot\n\t\t// be displayed along the requested edge without it sticking out.\n\t\tif ( s.arFull[ p.dimKey ] > s.guideDims[ p.dimKey ] ) {\n\t\t\treturn best;\n\t\t}\n\n\t\tdesiredForArrow[ p.fst ] = desired[ p.fst ] +\n\t\t\t( s.arHalf[ p.oDimKey ] + s.menuHalf[ p.oDimKey ] ) * p.offsetFactor -\n\t\t\ts.contentBox[ p.fst ] + ( s.clampInfo.menuSize[ p.oDimKey ] - s.contentBox[ p.oDimKey ] ) * p.arrowOffsetFactor;\n\t\tdesiredForArrow[ p.snd ] = desired[ p.snd ];\n\n\t\tresult = s.result || this._calculateFinalLocation( desiredForArrow, s.clampInfo );\n\t\tr = { x: result.left, y: result.top };\n\n\t\ttip[ p.fst ] = r[ p.fst ] + s.contentBox[ p.fst ] + p.tipOffset;\n\t\ttip[ p.snd ] = Math.max( result[ p.prop ] + s.guideOffset[ p.prop ] + s.arHalf[ p.dimKey ],\n\t\t\tMath.min( result[ p.prop ] + s.guideOffset[ p.prop ] + s.guideDims[ p.dimKey ] - s.arHalf[ p.dimKey ],\n\t\t\t\tdesired[ p.snd ] ) );\n\n\t\tdiff = Math.abs( desired.x - tip.x ) + Math.abs( desired.y - tip.y );\n\t\tif ( !best || diff < best.diff ) {\n\t\t\t// Convert tip offset to coordinates inside the popup\n\t\t\ttip[ p.snd ] -= s.arHalf[ p.dimKey ] + result[ p.prop ] + s.contentBox[ p.snd ];\n\t\t\tbest = { dir: dir, diff: diff, result: result, posProp: p.prop, posVal: tip[ p.snd ] };\n\t\t}\n\n\t\treturn best;\n\t},\n\n\t_getPlacementState: function( clamp ) {\n\t\tvar offset, gdOffset,\n\t\t\tar = this._ui.arrow,\n\t\t\tstate = {\n\t\t\t\tclampInfo: this._clampPopupWidth( !clamp ),\n\t\t\t\tarFull: { cx: ar.ct.width(), cy: ar.ct.height() },\n\t\t\t\tguideDims: { cx: ar.gd.width(), cy: ar.gd.height() },\n\t\t\t\tguideOffset: ar.gd.offset()\n\t\t\t};\n\n\t\toffset = this.element.offset();\n\n\t\tar.gd.css( { left: 0, top: 0, right: 0, bottom: 0 } );\n\t\tgdOffset = ar.gd.offset();\n\t\tstate.contentBox = {\n\t\t\tx: gdOffset.left - offset.left,\n\t\t\ty: gdOffset.top - offset.top,\n\t\t\tcx: ar.gd.width(),\n\t\t\tcy: ar.gd.height()\n\t\t};\n\t\tar.gd.removeAttr( \"style\" );\n\n\t\t// The arrow box moves between guideOffset and guideOffset + guideDims - arFull\n\t\tstate.guideOffset = { left: state.guideOffset.left - offset.left, top: state.guideOffset.top - offset.top };\n\t\tstate.arHalf = { cx: state.arFull.cx / 2, cy: state.arFull.cy / 2 };\n\t\tstate.menuHalf = { cx: state.clampInfo.menuSize.cx / 2, cy: state.clampInfo.menuSize.cy / 2 };\n\n\t\treturn state;\n\t},\n\n\t_placementCoords: function( desired ) {\n\t\tvar state, best, params, bgOffset, elOffset, diff, bgRef,\n\t\t\toptionValue = this.options.arrow,\n\t\t\tar = this._ui.arrow;\n\n\t\tif ( !ar ) {\n\t\t\treturn this._super( desired );\n\t\t}\n\n\t\tar.arEls.show();\n\n\t\tbgRef = {};\n\t\tstate = this._getPlacementState( true );\n\t\tparams = {\n\t\t\t\"l\": { fst: \"x\", snd: \"y\", prop: \"top\", dimKey: \"cy\", oDimKey: \"cx\", offsetFactor: 1, tipOffset:  -state.arHalf.cx, arrowOffsetFactor: 0 },\n\t\t\t\"r\": { fst: \"x\", snd: \"y\", prop: \"top\", dimKey: \"cy\", oDimKey: \"cx\", offsetFactor: -1, tipOffset: state.arHalf.cx + state.contentBox.cx, arrowOffsetFactor: 1 },\n\t\t\t\"b\": { fst: \"y\", snd: \"x\", prop: \"left\", dimKey: \"cx\", oDimKey: \"cy\", offsetFactor: -1, tipOffset: state.arHalf.cy + state.contentBox.cy, arrowOffsetFactor: 1 },\n\t\t\t\"t\": { fst: \"y\", snd: \"x\", prop: \"left\", dimKey: \"cx\", oDimKey: \"cy\", offsetFactor: 1, tipOffset: -state.arHalf.cy, arrowOffsetFactor: 0 }\n\t\t};\n\n\t\t// Try each side specified in the options to see on which one the arrow\n\t\t// should be placed such that the distance between the tip of the arrow and\n\t\t// the desired coordinates is the shortest.\n\t\t$.each( ( optionValue === true ? \"l,t,r,b\" : optionValue ).split( \",\" ),\n\t\t\t$.proxy( function( key, value ) {\n\t\t\t\tbest = this._tryAnArrow( params[ value ], value, desired, state, best );\n\t\t\t}, this ) );\n\n\t\t// Could not place the arrow along any of the edges - behave as if showing\n\t\t// the arrow was turned off.\n\t\tif ( !best ) {\n\t\t\tar.arEls.hide();\n\t\t\treturn this._super( desired );\n\t\t}\n\n\t\t// Move the arrow into place\n\t\tar.ct\n\t\t\t.removeClass( \"ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b\" )\n\t\t\t.addClass( \"ui-popup-arrow-\" + best.dir )\n\t\t\t.removeAttr( \"style\" ).css( best.posProp, best.posVal )\n\t\t\t.show();\n\n\t\t// Do not move/size the background div on IE, because we use the arrow div for background as well.\n\t\tif ( !ieHack ) {\n\t\t\telOffset = this.element.offset();\n\t\t\tbgRef[ params[ best.dir ].fst ] = ar.ct.offset();\n\t\t\tbgRef[ params[ best.dir ].snd ] = {\n\t\t\t\tleft: elOffset.left + state.contentBox.x,\n\t\t\t\ttop: elOffset.top + state.contentBox.y\n\t\t\t};\n\t\t\tbgOffset = ar.bg\n\t\t\t\t.removeAttr( \"style\" )\n\t\t\t\t.css( ( \"cx\" === params[ best.dir ].dimKey ? \"width\" : \"height\" ), state.contentBox[ params[ best.dir ].dimKey ] )\n\t\t\t\t.offset();\n\t\t\tdiff = { dx: bgRef.x.left - bgOffset.left, dy: bgRef.y.top - bgOffset.top };\n\t\t\tar.bg.css( { left: txFactor * diff.dy + txFactor * diff.dx, top: txFactor * diff.dy - txFactor * diff.dx } );\n\t\t}\n\n\t\treturn best.result;\n\t},\n\n\t_setOptions: function( opts ) {\n\t\tvar newTheme,\n\t\t\toldTheme = this.options.theme,\n\t\t\tar = this._ui.arrow,\n\t\t\tret = this._super( opts );\n\n\t\tif ( opts.arrow !== undefined ) {\n\t\t\tif ( !ar && opts.arrow ) {\n\t\t\t\tthis._ui.arrow = this._addArrow();\n\n\t\t\t\t// Important to return here so we don't set the same options all over\n\t\t\t\t// again below.\n\t\t\t\treturn;\n\t\t\t} else if ( ar && !opts.arrow ) {\n\t\t\t\tar.arEls.remove();\n\t\t\t\tthis._ui.arrow = null;\n\t\t\t}\n\t\t}\n\n\t\t// Reassign with potentially new arrow\n\t\tar = this._ui.arrow;\n\n\t\tif ( ar ) {\n\t\t\tif ( opts.theme !== undefined ) {\n\t\t\t\toldTheme = this._themeClassFromOption( \"ui-body-\", oldTheme );\n\t\t\t\tnewTheme = this._themeClassFromOption( \"ui-body-\", opts.theme );\n\t\t\t\tar.ar.removeClass( oldTheme ).addClass( newTheme );\n\t\t\t\tar.bg.removeClass( oldTheme ).addClass( newTheme );\n\t\t\t}\n\n\t\t\tif ( opts.shadow !== undefined ) {\n\t\t\t\tar.ar.toggleClass( \"ui-overlay-shadow\", opts.shadow );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\t_destroy: function() {\n\t\tvar ar = this._ui.arrow;\n\n\t\tif ( ar ) {\n\t\t\tar.arEls.remove();\n\t\t}\n\n\t\treturn this._super();\n\t}\n});\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.panel\", {\n\toptions: {\n\t\tclasses: {\n\t\t\tpanel: \"ui-panel\",\n\t\t\tpanelOpen: \"ui-panel-open\",\n\t\t\tpanelClosed: \"ui-panel-closed\",\n\t\t\tpanelFixed: \"ui-panel-fixed\",\n\t\t\tpanelInner: \"ui-panel-inner\",\n\t\t\tmodal: \"ui-panel-dismiss\",\n\t\t\tmodalOpen: \"ui-panel-dismiss-open\",\n\t\t\tpageContainer: \"ui-panel-page-container\",\n\t\t\tpageWrapper: \"ui-panel-wrapper\",\n\t\t\tpageFixedToolbar: \"ui-panel-fixed-toolbar\",\n\t\t\tpageContentPrefix: \"ui-panel-page-content\", /* Used for wrapper and fixed toolbars position, display and open classes. */\n\t\t\tanimate: \"ui-panel-animate\"\n\t\t},\n\t\tanimate: true,\n\t\ttheme: null,\n\t\tposition: \"left\",\n\t\tdismissible: true,\n\t\tdisplay: \"reveal\", //accepts reveal, push, overlay\n\t\tswipeClose: true,\n\t\tpositionFixed: false\n\t},\n\n\t_panelID: null,\n\t_closeLink: null,\n\t_parentPage: null,\n\t_page: null,\n\t_modal: null,\n\t_panelInner: null,\n\t_wrapper: null,\n\t_fixedToolbars: null,\n\n\t_create: function() {\n\t\tvar el = this.element,\n\t\t\tparentPage = el.closest( \":jqmData(role='page')\" );\n\n\t\t// expose some private props to other methods\n\t\t$.extend( this, {\n\t\t\t_panelID: el.attr( \"id\" ),\n\t\t\t_closeLink: el.find( \":jqmData(rel='close')\" ),\n\t\t\t_parentPage: ( parentPage.length > 0 ) ? parentPage : false,\n\t\t\t_page: this._getPage,\n\t\t\t_panelInner: this._getPanelInner(),\n\t\t\t_wrapper: this._getWrapper,\n\t\t\t_fixedToolbars: this._getFixedToolbars\n\t\t});\n\n\t\tthis._addPanelClasses();\n\n\t\t// if animating, add the class to do so\n\t\tif ( $.support.cssTransform3d && !!this.options.animate ) {\n\t\t\tthis.element.addClass( this.options.classes.animate );\n\t\t}\n\n\t\tthis._bindUpdateLayout();\n\t\tthis._bindCloseEvents();\n\t\tthis._bindLinkListeners();\n\t\tthis._bindPageEvents();\n\n\t\tif ( !!this.options.dismissible ) {\n\t\t\tthis._createModal();\n\t\t}\n\n\t\tthis._bindSwipeEvents();\n\t},\n\n\t_getPanelInner: function() {\n\t\tvar panelInner = this.element.find( \".\" + this.options.classes.panelInner );\n\n\t\tif ( panelInner.length === 0 ) {\n\t\t\tpanelInner = this.element.children().wrapAll( \"<div class='\" + this.options.classes.panelInner + \"' />\" ).parent();\n\t\t}\n\n\t\treturn panelInner;\n\t},\n\n\t_createModal: function() {\n\t\tvar self = this,\n\t\t\ttarget = self._parentPage ? self._parentPage.parent() : self.element.parent();\n\n\t\tself._modal = $( \"<div class='\" + self.options.classes.modal + \"' data-panelid='\" + self._panelID + \"'></div>\" )\n\t\t\t.on( \"mousedown\", function() {\n\t\t\t\tself.close();\n\t\t\t})\n\t\t\t.appendTo( target );\n\t},\n\n\t_getPage: function() {\n\t\tvar page = this._parentPage ? this._parentPage : $( \".\" + $.mobile.activePageClass );\n\n\t\treturn page;\n\t},\n\n\t_getWrapper: function() {\n\t\tvar wrapper = this._page().find( \".\" + this.options.classes.pageWrapper );\n\n\t\tif ( wrapper.length === 0 ) {\n\t\t\twrapper = this._page().children( \".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)\" )\n\t\t\t\t.wrapAll( \"<div class='\" + this.options.classes.pageWrapper + \"'></div>\" )\n\t\t\t\t.parent();\n\t\t}\n\n\t\treturn wrapper;\n\t},\n\n\t_getFixedToolbars: function() {\n\t\tvar extFixedToolbars = $( \"body\" ).children( \".ui-header-fixed, .ui-footer-fixed\" ),\n\t\t\tintFixedToolbars = this._page().find( \".ui-header-fixed, .ui-footer-fixed\" ),\n\t\t\tfixedToolbars = extFixedToolbars.add( intFixedToolbars ).addClass( this.options.classes.pageFixedToolbar );\n\n\t\treturn fixedToolbars;\n\t},\n\n\t_getPosDisplayClasses: function( prefix ) {\n\t\treturn prefix + \"-position-\" + this.options.position + \" \" + prefix + \"-display-\" + this.options.display;\n\t},\n\n\t_getPanelClasses: function() {\n\t\tvar panelClasses = this.options.classes.panel +\n\t\t\t\" \" + this._getPosDisplayClasses( this.options.classes.panel ) +\n\t\t\t\" \" + this.options.classes.panelClosed +\n\t\t\t\" \" + \"ui-body-\" + ( this.options.theme ? this.options.theme : \"inherit\" );\n\n\t\tif ( !!this.options.positionFixed ) {\n\t\t\tpanelClasses += \" \" + this.options.classes.panelFixed;\n\t\t}\n\n\t\treturn panelClasses;\n\t},\n\n\t_addPanelClasses: function() {\n\t\tthis.element.addClass( this._getPanelClasses() );\n\t},\n\n\t_bindCloseEvents: function() {\n\t\tvar self = this;\n\n\t\tself._closeLink.on( \"click.panel\" , function( e ) {\n\t\t\te.preventDefault();\n\t\t\tself.close();\n\t\t\treturn false;\n\t\t});\n\t\tself.element.on( \"click.panel\" , \"a:jqmData(ajax='false')\", function(/* e */) {\n\t\t\tself.close();\n\t\t});\n\t},\n\n\t_positionPanel: function() {\n\t\tvar self = this,\n\t\t\tpanelInnerHeight = self._panelInner.outerHeight(),\n\t\t\texpand = panelInnerHeight > $.mobile.getScreenHeight();\n\n\t\tif ( expand || !self.options.positionFixed ) {\n\t\t\tif ( expand ) {\n\t\t\t\tself._unfixPanel();\n\t\t\t\t$.mobile.resetActivePageHeight( panelInnerHeight );\n\t\t\t}\n\t\t\twindow.scrollTo( 0, $.mobile.defaultHomeScroll );\n\t\t} else {\n\t\t\tself._fixPanel();\n\t\t}\n\t},\n\n\t_bindFixListener: function() {\n\t\tthis._on( $( window ), { \"throttledresize\": \"_positionPanel\" });\n\t},\n\n\t_unbindFixListener: function() {\n\t\tthis._off( $( window ), \"throttledresize\" );\n\t},\n\n\t_unfixPanel: function() {\n\t\tif ( !!this.options.positionFixed && $.support.fixedPosition ) {\n\t\t\tthis.element.removeClass( this.options.classes.panelFixed );\n\t\t}\n\t},\n\n\t_fixPanel: function() {\n\t\tif ( !!this.options.positionFixed && $.support.fixedPosition ) {\n\t\t\tthis.element.addClass( this.options.classes.panelFixed );\n\t\t}\n\t},\n\n\t_bindUpdateLayout: function() {\n\t\tvar self = this;\n\n\t\tself.element.on( \"updatelayout\", function(/* e */) {\n\t\t\tif ( self._open ) {\n\t\t\t\tself._positionPanel();\n\t\t\t}\n\t\t});\n\t},\n\n\t_bindLinkListeners: function() {\n\t\tthis._on( \"body\", {\n\t\t\t\"click a\": \"_handleClick\"\n\t\t});\n\n\t},\n\n\t_handleClick: function( e ) {\n\t\tif (  e.currentTarget.href.split( \"#\" )[ 1 ] === this._panelID && this._panelID !== undefined ) {\n\t\t\te.preventDefault();\n\t\t\tvar link = $( e.target );\n\t\t\tif ( link.hasClass( \"ui-btn\" ) ) {\n\t\t\t\tlink.addClass( $.mobile.activeBtnClass );\n\t\t\t\tthis.element.one( \"panelopen panelclose\", function() {\n\t\t\t\t\tlink.removeClass( $.mobile.activeBtnClass );\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.toggle();\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t_bindSwipeEvents: function() {\n\t\tvar self = this,\n\t\t\tarea = self._modal ? self.element.add( self._modal ) : self.element;\n\n\t\t// on swipe, close the panel\n\t\tif ( !!self.options.swipeClose ) {\n\t\t\tif ( self.options.position === \"left\" ) {\n\t\t\t\tarea.on( \"swipeleft.panel\", function(/* e */) {\n\t\t\t\t\tself.close();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tarea.on( \"swiperight.panel\", function(/* e */) {\n\t\t\t\t\tself.close();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\t_bindPageEvents: function() {\n\t\tvar self = this;\n\n\t\tthis.document\n\t\t\t// Close the panel if another panel on the page opens\n\t\t\t.on( \"panelbeforeopen\", function( e ) {\n\t\t\t\tif ( self._open && e.target !== self.element[ 0 ] ) {\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\t\t\t})\n\t\t\t// On escape, close? might need to have a target check too...\n\t\t\t.on( \"keyup.panel\", function( e ) {\n\t\t\t\tif ( e.keyCode === 27 && self._open ) {\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t// Clean up open panels after page hide\n\t\tif ( self._parentPage ) {\n\t\t\tthis.document.on( \"pagehide\", \":jqmData(role='page')\", function() {\n\t\t\t\tif ( self._open ) {\n\t\t\t\t\tself.close( true );\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.document.on( \"pagebeforehide\", function() {\n\t\t\t\tif ( self._open ) {\n\t\t\t\t\tself.close( true );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t// state storage of open or closed\n\t_open: false,\n\t_pageContentOpenClasses: null,\n\t_modalOpenClasses: null,\n\n\topen: function( immediate ) {\n\t\tif ( !this._open ) {\n\t\t\tvar self = this,\n\t\t\t\to = self.options,\n\n\t\t\t\t_openPanel = function() {\n\t\t\t\t\tself.document.off( \"panelclose\" );\n\t\t\t\t\tself._page().jqmData( \"panel\", \"open\" );\n\n\t\t\t\t\tif ( $.support.cssTransform3d && !!o.animate && o.display !== \"overlay\" ) {\n\t\t\t\t\t\tself._wrapper().addClass( o.classes.animate );\n\t\t\t\t\t\tself._fixedToolbars().addClass( o.classes.animate );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !immediate && $.support.cssTransform3d && !!o.animate ) {\n\t\t\t\t\t\tself.document.on( self._transitionEndEvents, complete );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout( complete, 0 );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( o.theme && o.display !== \"overlay\" ) {\n\t\t\t\t\t\tself._page().parent()\n\t\t\t\t\t\t\t.addClass( o.classes.pageContainer + \"-themed \" + o.classes.pageContainer + \"-\" + o.theme );\n\t\t\t\t\t}\n\n\t\t\t\t\tself.element\n\t\t\t\t\t\t.removeClass( o.classes.panelClosed )\n\t\t\t\t\t\t.addClass( o.classes.panelOpen );\n\n\t\t\t\t\tself._positionPanel();\n\n\t\t\t\t\tself._pageContentOpenClasses = self._getPosDisplayClasses( o.classes.pageContentPrefix );\n\n\t\t\t\t\tif ( o.display !== \"overlay\" ) {\n\t\t\t\t\t\tself._page().parent().addClass( o.classes.pageContainer );\n\t\t\t\t\t\tself._wrapper().addClass( self._pageContentOpenClasses );\n\t\t\t\t\t\tself._fixedToolbars().addClass( self._pageContentOpenClasses );\n\t\t\t\t\t}\n\n\t\t\t\t\tself._modalOpenClasses = self._getPosDisplayClasses( o.classes.modal ) + \" \" + o.classes.modalOpen;\n\t\t\t\t\tif ( self._modal ) {\n\t\t\t\t\t\tself._modal\n\t\t\t\t\t\t\t.addClass( self._modalOpenClasses )\n\t\t\t\t\t\t\t.height( Math.max( self._modal.height(), self.document.height() ) );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcomplete = function() {\n\t\t\t\t\tself.document.off( self._transitionEndEvents, complete );\n\n\t\t\t\t\tif ( o.display !== \"overlay\" ) {\n\t\t\t\t\t\tself._wrapper().addClass( o.classes.pageContentPrefix + \"-open\" );\n\t\t\t\t\t\tself._fixedToolbars().addClass( o.classes.pageContentPrefix + \"-open\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tself._bindFixListener();\n\n\t\t\t\t\tself._trigger( \"open\" );\n\t\t\t\t};\n\n\t\t\tself._trigger( \"beforeopen\" );\n\n\t\t\tif ( self._page().jqmData( \"panel\" ) === \"open\" ) {\n\t\t\t\tself.document.on( \"panelclose\", function() {\n\t\t\t\t\t_openPanel();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t_openPanel();\n\t\t\t}\n\n\t\t\tself._open = true;\n\t\t}\n\t},\n\n\tclose: function( immediate ) {\n\t\tif ( this._open ) {\n\t\t\tvar self = this,\n\t\t\t\to = this.options,\n\n\t\t\t\t_closePanel = function() {\n\t\t\t\t\tif ( !immediate && $.support.cssTransform3d && !!o.animate ) {\n\t\t\t\t\t\tself.document.on( self._transitionEndEvents, complete );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout( complete, 0 );\n\t\t\t\t\t}\n\n\t\t\t\t\tself.element.removeClass( o.classes.panelOpen );\n\n\t\t\t\t\tif ( o.display !== \"overlay\" ) {\n\t\t\t\t\t\tself._wrapper().removeClass( self._pageContentOpenClasses );\n\t\t\t\t\t\tself._fixedToolbars().removeClass( self._pageContentOpenClasses );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( self._modal ) {\n\t\t\t\t\t\tself._modal.removeClass( self._modalOpenClasses );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcomplete = function() {\n\t\t\t\t\tself.document.off( self._transitionEndEvents, complete );\n\n\t\t\t\t\tif ( o.theme && o.display !== \"overlay\" ) {\n\t\t\t\t\t\tself._page().parent().removeClass( o.classes.pageContainer + \"-themed \" + o.classes.pageContainer + \"-\" + o.theme );\n\t\t\t\t\t}\n\n\t\t\t\t\tself.element.addClass( o.classes.panelClosed );\n\n\t\t\t\t\tif ( o.display !== \"overlay\" ) {\n\t\t\t\t\t\tself._page().parent().removeClass( o.classes.pageContainer );\n\t\t\t\t\t\tself._wrapper().removeClass( o.classes.pageContentPrefix + \"-open\" );\n\t\t\t\t\t\tself._fixedToolbars().removeClass( o.classes.pageContentPrefix + \"-open\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( $.support.cssTransform3d && !!o.animate && o.display !== \"overlay\" ) {\n\t\t\t\t\t\tself._wrapper().removeClass( o.classes.animate );\n\t\t\t\t\t\tself._fixedToolbars().removeClass( o.classes.animate );\n\t\t\t\t\t}\n\n\t\t\t\t\tself._fixPanel();\n\t\t\t\t\tself._unbindFixListener();\n\t\t\t\t\t$.mobile.resetActivePageHeight();\n\n\t\t\t\t\tself._page().jqmRemoveData( \"panel\" );\n\n\t\t\t\t\tself._trigger( \"close\" );\n\t\t\t\t};\n\n\t\t\tself._trigger( \"beforeclose\" );\n\n\t\t\t_closePanel();\n\n\t\t\tself._open = false;\n\t\t}\n\t},\n\n\ttoggle: function() {\n\t\tthis[ this._open ? \"close\" : \"open\" ]();\n\t},\n\n\t_transitionEndEvents: \"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd\",\n\n\t_destroy: function() {\n\t\tvar otherPanels,\n\t\to = this.options,\n\t\tmultiplePanels = ( $( \"body > :mobile-panel\" ).length + $.mobile.activePage.find( \":mobile-panel\" ).length ) > 1;\n\n\t\tif ( o.display !== \"overlay\" ) {\n\n\t\t\t//  remove the wrapper if not in use by another panel\n\t\t\totherPanels = $( \"body > :mobile-panel\" ).add( $.mobile.activePage.find( \":mobile-panel\" ) );\n\t\t\tif ( otherPanels.not( \".ui-panel-display-overlay\" ).not( this.element ).length === 0 ) {\n\t\t\t\tthis._wrapper().children().unwrap();\n\t\t\t}\n\n\t\t\tif ( this._open ) {\n\n\t\t\t\tthis._fixedToolbars().removeClass( o.classes.pageContentPrefix + \"-open\" );\n\n\t\t\t\tif ( $.support.cssTransform3d && !!o.animate ) {\n\t\t\t\t\tthis._fixedToolbars().removeClass( o.classes.animate );\n\t\t\t\t}\n\n\t\t\t\tthis._page().parent().removeClass( o.classes.pageContainer );\n\n\t\t\t\tif ( o.theme ) {\n\t\t\t\t\tthis._page().parent().removeClass( o.classes.pageContainer + \"-themed \" + o.classes.pageContainer + \"-\" + o.theme );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !multiplePanels ) {\n\n\t\t\tthis.document.off( \"panelopen panelclose\" );\n\n\t\t\tif ( this._open ) {\n\t\t\t\tthis.document.off( this._transitionEndEvents );\n\t\t\t\t$.mobile.resetActivePageHeight();\n\t\t\t}\n\t\t}\n\n\t\tif ( this._open ) {\n\t\t\tthis._page().jqmRemoveData( \"panel\" );\n\t\t}\n\n\t\tthis._panelInner.children().unwrap();\n\n\t\tthis.element\n\t\t\t.removeClass( [ this._getPanelClasses(), o.classes.panelOpen, o.classes.animate ].join( \" \" ) )\n\t\t\t.off( \"swipeleft.panel swiperight.panel\" )\n\t\t\t.off( \"panelbeforeopen\" )\n\t\t\t.off( \"panelhide\" )\n\t\t\t.off( \"keyup.panel\" )\n\t\t\t.off( \"updatelayout\" )\n\t\t\t.off( this._transitionEndEvents );\n\n\t\tthis._closeLink.off( \"click.panel\" );\n\n\t\tif ( this._modal ) {\n\t\t\tthis._modal.remove();\n\t\t}\n\t}\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.table\", {\n\toptions: {\n\t\tclasses: {\n\t\t\ttable: \"ui-table\"\n\t\t},\n\t\tenhanced: false\n\t},\n\n\t_create: function() {\n\t\tif ( !this.options.enhanced ) {\n\t\t\tthis.element.addClass( this.options.classes.table );\n\t\t}\n\n\t\t// extend here, assign on refresh > _setHeaders\n\t\t$.extend( this, {\n\n\t\t\t// Expose headers and allHeaders properties on the widget\n\t\t\t// headers references the THs within the first TR in the table\n\t\t\theaders: undefined,\n\n\t\t\t// allHeaders references headers, plus all THs in the thead, which may\n\t\t\t// include several rows, or not\n\t\t\tallHeaders: undefined\n\t\t});\n\n\t\tthis._refresh( true );\n\t},\n\n\t_setHeaders: function() {\n\t\tvar trs = this.element.find( \"thead tr\" );\n\n\t\tthis.headers = this.element.find( \"tr:eq(0)\" ).children();\n\t\tthis.allHeaders = this.headers.add( trs.children() );\n\t},\n\n\trefresh: function() {\n\t\tthis._refresh();\n\t},\n\n\trebuild: $.noop,\n\n\t_refresh: function( /* create */ ) {\n\t\tvar table = this.element,\n\t\t\ttrs = table.find( \"thead tr\" );\n\n\t\t// updating headers on refresh (fixes #5880)\n\t\tthis._setHeaders();\n\n\t\t// Iterate over the trs\n\t\ttrs.each( function() {\n\t\t\tvar columnCount = 0;\n\n\t\t\t// Iterate over the children of the tr\n\t\t\t$( this ).children().each( function() {\n\t\t\t\tvar span = parseInt( this.getAttribute( \"colspan\" ), 10 ),\n\t\t\t\t\tselector = \":nth-child(\" + ( columnCount + 1 ) + \")\",\n\t\t\t\t\tj;\n\n\t\t\t\tthis.setAttribute( \"data-\" + $.mobile.ns + \"colstart\", columnCount + 1 );\n\n\t\t\t\tif ( span ) {\n\t\t\t\t\tfor( j = 0; j < span - 1; j++ ) {\n\t\t\t\t\t\tcolumnCount++;\n\t\t\t\t\t\tselector += \", :nth-child(\" + ( columnCount + 1 ) + \")\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Store \"cells\" data on header as a reference to all cells in the\n\t\t\t\t// same column as this TH\n\t\t\t\t$( this ).jqmData( \"cells\", table.find( \"tr\" ).not( trs.eq( 0 ) ).not( this ).children( selector ) );\n\n\t\t\t\tcolumnCount++;\n\t\t\t});\n\t\t});\n\t}\n});\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.table\", $.mobile.table, {\n\toptions: {\n\t\tmode: \"columntoggle\",\n\t\tcolumnBtnTheme: null,\n\t\tcolumnPopupTheme: null,\n\t\tcolumnBtnText: \"Columns...\",\n\t\tclasses: $.extend( $.mobile.table.prototype.options.classes, {\n\t\t\tpopup: \"ui-table-columntoggle-popup\",\n\t\t\tcolumnBtn: \"ui-table-columntoggle-btn\",\n\t\t\tpriorityPrefix: \"ui-table-priority-\",\n\t\t\tcolumnToggleTable: \"ui-table-columntoggle\"\n\t\t})\n\t},\n\n\t_create: function() {\n\t\tthis._super();\n\n\t\tif ( this.options.mode !== \"columntoggle\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\t$.extend( this, {\n\t\t\t_menu: null\n\t\t});\n\n\t\tif ( this.options.enhanced ) {\n\t\t\tthis._menu = $( this.document[ 0 ].getElementById( this._id() + \"-popup\" ) ).children().first();\n\t\t\tthis._addToggles( this._menu, true );\n\t\t\tthis._bindToggles( this._menu );\n\t\t} else {\n\t\t\tthis._menu = this._enhanceColToggle();\n\t\t\tthis.element.addClass( this.options.classes.columnToggleTable );\n\t\t}\n\n\t\tthis._setupEvents();\n\n\t\tthis._setToggleState();\n\t},\n\n\t_id: function() {\n\t\treturn ( this.element.attr( \"id\" ) || ( this.widgetName + this.uuid ) );\n\t},\n\n\t_setupEvents: function() {\n\t\t//NOTE: inputs are bound in bindToggles,\n\t\t// so it can be called on refresh, too\n\n\t\t// update column toggles on resize\n\t\tthis._on( this.window, {\n\t\t\tthrottledresize: \"_setToggleState\"\n\t\t});\n\t},\n\n\t_bindToggles: function( menu ) {\n\t\tvar inputs = menu.find( \"input\" );\n\n\t\tthis._on( inputs, {\n\t\t\tchange: \"_menuInputChange\"\n\t\t});\n\t},\n\n\t_addToggles: function( menu, keep ) {\n\t\tvar inputs,\n\t\t\tcheckboxIndex = 0,\n\t\t\topts = this.options,\n\t\t\tcontainer = menu.controlgroup( \"container\" );\n\n\t\t// allow update of menu on refresh (fixes #5880)\n\t\tif ( keep ) {\n\t\t\tinputs = menu.find( \"input\" );\n\t\t} else {\n\t\t\tcontainer.empty();\n\t\t}\n\n\t\t// create the hide/show toggles\n\t\tthis.headers.not( \"td\" ).each( function() {\n\t\t\tvar header = $( this ),\n\t\t\t\tpriority = $.mobile.getAttribute( this, \"priority\" ),\n\t\t\t\tcells = header.add( header.jqmData( \"cells\" ) );\n\n\t\t\tif ( priority ) {\n\t\t\t\tcells.addClass( opts.classes.priorityPrefix + priority );\n\n\t\t\t\t( keep ? inputs.eq( checkboxIndex++ ) :\n\t\t\t\t\t$(\"<label><input type='checkbox' checked />\" +\n\t\t\t\t\t\t( header.children( \"abbr\" ).first().attr( \"title\" ) ||\n\t\t\t\t\t\t\theader.text() ) +\n\t\t\t\t\t\t\"</label>\" )\n\t\t\t\t\t\t.appendTo( container )\n\t\t\t\t\t\t.children( 0 )\n\t\t\t\t\t\t.checkboxradio( {\n\t\t\t\t\t\t\ttheme: opts.columnPopupTheme\n\t\t\t\t\t\t}) )\n\t\t\t\t\t.jqmData( \"cells\", cells );\n\t\t\t}\n\t\t});\n\n\t\t// set bindings here\n\t\tif ( !keep ) {\n\t\t\tmenu.controlgroup( \"refresh\" );\n\t\t\tthis._bindToggles( menu );\n\t\t}\n\t},\n\n\t_menuInputChange: function( evt ) {\n\t\tvar input = $( evt.target ),\n\t\t\tchecked = input[ 0 ].checked;\n\n\t\tinput.jqmData( \"cells\" )\n\t\t\t.toggleClass( \"ui-table-cell-hidden\", !checked )\n\t\t\t.toggleClass( \"ui-table-cell-visible\", checked );\n\n\t\tif ( input[ 0 ].getAttribute( \"locked\" ) ) {\n\t\t\tinput.removeAttr( \"locked\" );\n\n\t\t\tthis._unlockCells( input.jqmData( \"cells\" ) );\n\t\t} else {\n\t\t\tinput.attr( \"locked\", true );\n\t\t}\n\t},\n\n\t_unlockCells: function( cells ) {\n\t\t// allow hide/show via CSS only = remove all toggle-locks\n\t\tcells.removeClass( \"ui-table-cell-hidden ui-table-cell-visible\");\n\t},\n\n\t_enhanceColToggle: function() {\n\t\tvar id , menuButton, popup, menu,\n\t\t\ttable = this.element,\n\t\t\topts = this.options,\n\t\t\tns = $.mobile.ns,\n\t\t\tfragment = this.document[ 0 ].createDocumentFragment();\n\n\t\tid = this._id() + \"-popup\";\n\t\tmenuButton = $( \"<a href='#\" + id + \"' \" +\n\t\t\t\"class='\" + opts.classes.columnBtn + \" ui-btn \" +\n\t\t\t\"ui-btn-\" + ( opts.columnBtnTheme || \"a\" ) +\n\t\t\t\" ui-corner-all ui-shadow ui-mini' \" +\n\t\t\t\"data-\" + ns + \"rel='popup'>\" + opts.columnBtnText + \"</a>\" );\n\t\tpopup = $( \"<div class='\" + opts.classes.popup + \"' id='\" + id + \"'></div>\" );\n\t\tmenu = $( \"<fieldset></fieldset>\" ).controlgroup();\n\n\t\t// set extension here, send \"false\" to trigger build/rebuild\n\t\tthis._addToggles( menu, false );\n\n\t\tmenu.appendTo( popup );\n\n\t\tfragment.appendChild( popup[ 0 ] );\n\t\tfragment.appendChild( menuButton[ 0 ] );\n\t\ttable.before( fragment );\n\n\t\tpopup.popup();\n\n\t\treturn menu;\n\t},\n\n\trebuild: function() {\n\t\tthis._super();\n\n\t\tif ( this.options.mode === \"columntoggle\" ) {\n\t\t\t// NOTE: rebuild passes \"false\", while refresh passes \"undefined\"\n\t\t\t// both refresh the table, but inside addToggles, !false will be true,\n\t\t\t// so a rebuild call can be indentified\n\t\t\tthis._refresh( false );\n\t\t}\n\t},\n\n\t_refresh: function( create ) {\n\t\tthis._super( create );\n\n\t\tif ( !create && this.options.mode === \"columntoggle\" ) {\n\t\t\t// columns not being replaced must be cleared from input toggle-locks\n\t\t\tthis._unlockCells( this.allHeaders );\n\n\t\t\t// update columntoggles and cells\n\t\t\tthis._addToggles( this._menu, create );\n\n\t\t\t// check/uncheck\n\t\t\tthis._setToggleState();\n\t\t}\n\t},\n\n\t_setToggleState: function() {\n\t\tthis._menu.find( \"input\" ).each( function() {\n\t\t\tvar checkbox = $( this );\n\n\t\t\tthis.checked = checkbox.jqmData( \"cells\" ).eq( 0 ).css( \"display\" ) === \"table-cell\";\n\t\t\tcheckbox.checkboxradio( \"refresh\" );\n\t\t});\n\t},\n\n\t_destroy: function() {\n\t\tthis._super();\n\t}\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.table\", $.mobile.table, {\n\toptions: {\n\t\tmode: \"reflow\",\n\t\tclasses: $.extend( $.mobile.table.prototype.options.classes, {\n\t\t\treflowTable: \"ui-table-reflow\",\n\t\t\tcellLabels: \"ui-table-cell-label\"\n\t\t})\n\t},\n\n\t_create: function() {\n\t\tthis._super();\n\n\t\t// If it's not reflow mode, return here.\n\t\tif ( this.options.mode !== \"reflow\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !this.options.enhanced ) {\n\t\t\tthis.element.addClass( this.options.classes.reflowTable );\n\n\t\t\tthis._updateReflow();\n\t\t}\n\t},\n\n\trebuild: function() {\n\t\tthis._super();\n\n\t\tif ( this.options.mode === \"reflow\" ) {\n\t\t\tthis._refresh( false );\n\t\t}\n\t},\n\n\t_refresh: function( create ) {\n\t\tthis._super( create );\n\t\tif ( !create && this.options.mode === \"reflow\" ) {\n\t\t\tthis._updateReflow( );\n\t\t}\n\t},\n\n\t_updateReflow: function() {\n\t\tvar table = this,\n\t\t\topts = this.options;\n\n\t\t// get headers in reverse order so that top-level headers are appended last\n\t\t$( table.allHeaders.get().reverse() ).each( function() {\n\t\t\tvar cells = $( this ).jqmData( \"cells\" ),\n\t\t\t\tcolstart = $.mobile.getAttribute( this, \"colstart\" ),\n\t\t\t\thierarchyClass = cells.not( this ).filter( \"thead th\" ).length && \" ui-table-cell-label-top\",\n\t\t\t\ttext = $( this ).text(),\n\t\t\t\titeration, filter;\n\n\t\t\t\tif ( text !== \"\"  ) {\n\n\t\t\t\t\tif ( hierarchyClass ) {\n\t\t\t\t\t\titeration = parseInt( this.getAttribute( \"colspan\" ), 10 );\n\t\t\t\t\t\tfilter = \"\";\n\n\t\t\t\t\t\tif ( iteration ) {\n\t\t\t\t\t\t\tfilter = \"td:nth-child(\"+ iteration +\"n + \" + ( colstart ) +\")\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttable._addLabels( cells.filter( filter ), opts.classes.cellLabels + hierarchyClass, text );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttable._addLabels( cells, opts.classes.cellLabels, text );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t});\n\t},\n\n\t_addLabels: function( cells, label, text ) {\n\t\t// .not fixes #6006\n\t\tcells.not( \":has(b.\" + label + \")\" ).prepend( \"<b class='\" + label + \"'>\" + text + \"</b>\"  );\n\t}\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n// TODO rename filterCallback/deprecate and default to the item itself as the first argument\nvar defaultFilterCallback = function( index, searchValue ) {\n\treturn ( ( \"\" + ( $.mobile.getAttribute( this, \"filtertext\" ) || $( this ).text() ) )\n\t\t.toLowerCase().indexOf( searchValue ) === -1 );\n};\n\n$.widget( \"mobile.filterable\", {\n\n\tinitSelector: \":jqmData(filter='true')\",\n\n\toptions: {\n\t\tfilterReveal: false,\n\t\tfilterCallback: defaultFilterCallback,\n\t\tenhanced: false,\n\t\tinput: null,\n\t\tchildren: \"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio\"\n\t},\n\n\t_create: function() {\n\t\tvar opts = this.options;\n\n\t\t$.extend( this, {\n\t\t\t_search: null,\n\t\t\t_timer: 0\n\t\t});\n\n\t\tthis._setInput( opts.input );\n\t\tif ( !opts.enhanced ) {\n\t\t\tthis._filterItems( ( ( this._search && this._search.val() ) || \"\" ).toLowerCase() );\n\t\t}\n\t},\n\n\t_onKeyUp: function() {\n\t\tvar val, lastval,\n\t\t\tsearch = this._search;\n\n\t\tif ( search ) {\n\t\t\tval = search.val().toLowerCase(),\n\t\t\tlastval = $.mobile.getAttribute( search[ 0 ], \"lastval\" ) + \"\";\n\n\t\t\tif ( lastval && lastval === val ) {\n\t\t\t\t// Execute the handler only once per value change\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( this._timer ) {\n\t\t\t\twindow.clearTimeout( this._timer );\n\t\t\t\tthis._timer = 0;\n\t\t\t}\n\n\t\t\tthis._timer = this._delay( function() {\n\t\t\t\tthis._trigger( \"beforefilter\", \"beforefilter\", { input: search } );\n\n\t\t\t\t// Change val as lastval for next execution\n\t\t\t\tsearch[ 0 ].setAttribute( \"data-\" + $.mobile.ns + \"lastval\", val );\n\n\t\t\t\tthis._filterItems( val );\n\t\t\t\tthis._timer = 0;\n\t\t\t}, 250 );\n\t\t}\n\t},\n\n\t_getFilterableItems: function() {\n\t\tvar elem = this.element,\n\t\t\tchildren = this.options.children,\n\t\t\titems = !children ? { length: 0 }:\n\t\t\t\t$.isFunction( children ) ? children():\n\t\t\t\tchildren.nodeName ? $( children ):\n\t\t\t\tchildren.jquery ? children:\n\t\t\t\tthis.element.find( children );\n\n\t\tif ( items.length === 0 ) {\n\t\t\titems = elem.children();\n\t\t}\n\n\t\treturn items;\n\t},\n\n\t_filterItems: function( val ) {\n\t\tvar idx, callback, length, dst,\n\t\t\tshow = [],\n\t\t\thide = [],\n\t\t\topts = this.options,\n\t\t\tfilterItems = this._getFilterableItems();\n\n\t\tif ( val != null ) {\n\t\t\tcallback = opts.filterCallback || defaultFilterCallback;\n\t\t\tlength = filterItems.length;\n\n\t\t\t// Partition the items into those to be hidden and those to be shown\n\t\t\tfor ( idx = 0 ; idx < length ; idx++ ) {\n\t\t\t\tdst = ( callback.call( filterItems[ idx ], idx, val ) ) ? hide : show;\n\t\t\t\tdst.push( filterItems[ idx ] );\n\t\t\t}\n\t\t}\n\n\t\t// If nothing is hidden, then the decision whether to hide or show the items\n\t\t// is based on the \"filterReveal\" option.\n\t\tif ( hide.length === 0 ) {\n\t\t\tfilterItems[ opts.filterReveal ? \"addClass\" : \"removeClass\" ]( \"ui-screen-hidden\" );\n\t\t} else {\n\t\t\t$( hide ).addClass( \"ui-screen-hidden\" );\n\t\t\t$( show ).removeClass( \"ui-screen-hidden\" );\n\t\t}\n\n\t\tthis._refreshChildWidget();\n\t},\n\n\t// The Default implementation of _refreshChildWidget attempts to call\n\t// refresh on collapsibleset, controlgroup, selectmenu, or listview\n\t_refreshChildWidget: function() {\n\t\tvar widget, idx,\n\t\t\trecognizedWidgets = [ \"collapsibleset\", \"selectmenu\", \"controlgroup\", \"listview\" ];\n\n\t\tfor ( idx = recognizedWidgets.length - 1 ; idx > -1 ; idx-- ) {\n\t\t\twidget = recognizedWidgets[ idx ];\n\t\t\tif ( $.mobile[ widget ] ) {\n\t\t\t\twidget = this.element.data( \"mobile-\" + widget );\n\t\t\t\tif ( widget && $.isFunction( widget.refresh ) ) {\n\t\t\t\t\twidget.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// TODO: When the input is not internal, do not even store it in this._search\n\t_setInput: function ( selector ) {\n\t\tvar search = this._search;\n\n\t\t// Stop a pending filter operation\n\t\tif ( this._timer ) {\n\t\t\twindow.clearTimeout( this._timer );\n\t\t\tthis._timer = 0;\n\t\t}\n\n\t\tif ( search ) {\n\t\t\tthis._off( search, \"keyup change input\" );\n\t\t\tsearch = null;\n\t\t}\n\n\t\tif ( selector ) {\n\t\t\tsearch = selector.jquery ? selector:\n\t\t\t\tselector.nodeName ? $( selector ):\n\t\t\t\tthis.document.find( selector );\n\n\t\t\tthis._on( search, {\n\t\t\t\tkeyup: \"_onKeyUp\",\n\t\t\t\tchange: \"_onKeyUp\",\n\t\t\t\tinput: \"_onKeyUp\"\n\t\t\t});\n\t\t}\n\n\t\tthis._search = search;\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar refilter = !( ( options.filterReveal === undefined ) &&\n\t\t\t\t( options.filterCallback === undefined ) &&\n\t\t\t\t( options.children === undefined ) );\n\n\t\tthis._super( options );\n\n\t\tif ( options.input !== undefined ) {\n\t\t\tthis._setInput( options.input );\n\t\t\trefilter = true;\n\t\t}\n\n\t\tif ( refilter ) {\n\t\t\tthis.refresh();\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tvar opts = this.options,\n\t\t\titems = this._getFilterableItems();\n\n\t\tif ( opts.enhanced ) {\n\t\t\titems.toggleClass( \"ui-screen-hidden\", opts.filterReveal );\n\t\t} else {\n\t\t\titems.removeClass( \"ui-screen-hidden\" );\n\t\t}\n\t},\n\n\trefresh: function() {\n\t\tif ( this._timer ) {\n\t\t\twindow.clearTimeout( this._timer );\n\t\t\tthis._timer = 0;\n\t\t}\n\t\tthis._filterItems( ( ( this._search && this._search.val() ) || \"\" ).toLowerCase() );\n\t}\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n// Create a function that will replace the _setOptions function of a widget,\n// and will pass the options on to the input of the filterable.\nvar replaceSetOptions = function( self, orig ) {\n\t\treturn function( options ) {\n\t\t\torig.call( this, options );\n\t\t\tself._syncTextInputOptions( options );\n\t\t};\n\t},\n\trDividerListItem = /(^|\\s)ui-li-divider(\\s|$)/,\n\torigDefaultFilterCallback = $.mobile.filterable.prototype.options.filterCallback;\n\n// Override the default filter callback with one that does not hide list dividers\n$.mobile.filterable.prototype.options.filterCallback = function( index, searchValue ) {\n\treturn !this.className.match( rDividerListItem ) &&\n\t\torigDefaultFilterCallback.call( this, index, searchValue );\n};\n\n$.widget( \"mobile.filterable\", $.mobile.filterable, {\n\toptions: {\n\t\tfilterPlaceholder: \"Filter items...\",\n\t\tfilterTheme: null\n\t},\n\n\t_create: function() {\n\t\tvar idx, widgetName,\n\t\t\telem = this.element,\n\t\t\trecognizedWidgets = [ \"collapsibleset\", \"selectmenu\", \"controlgroup\", \"listview\" ],\n\t\t\tcreateHandlers = {};\n\n\t\tthis._super();\n\n\t\t$.extend( this, {\n\t\t\t_widget: null\n\t\t});\n\n\t\tfor ( idx = recognizedWidgets.length - 1 ; idx > -1 ; idx-- ) {\n\t\t\twidgetName = recognizedWidgets[ idx ];\n\t\t\tif ( $.mobile[ widgetName ] ) {\n\t\t\t\tif ( this._setWidget( elem.data( \"mobile-\" + widgetName ) ) ) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tcreateHandlers[ widgetName + \"create\" ] = \"_handleCreate\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !this._widget ) {\n\t\t\tthis._on( elem, createHandlers );\n\t\t}\n\t},\n\n\t_handleCreate: function( evt ) {\n\t\tthis._setWidget( this.element.data( \"mobile-\" + evt.type.substring( 0, evt.type.length - 6 ) ) );\n\t},\n\n\t_setWidget: function( widget ) {\n\t\tif ( !this._widget && widget ) {\n\t\t\tthis._widget = widget;\n\t\t\tthis._widget._setOptions = replaceSetOptions( this, this._widget._setOptions );\n\t\t}\n\n\t\tif ( !!this._widget ) {\n\t\t\tthis._syncTextInputOptions( this._widget.options );\n\t\t\tif ( this._widget.widgetName === \"listview\" ) {\n\t\t\t\tthis._widget.options.hidedividers = true;\n\t\t\t\tthis._widget.element.listview( \"refresh\" );\n\t\t\t}\n\t\t}\n\n\t\treturn !!this._widget;\n\t},\n\n\t_isSearchInternal: function() {\n\t\treturn ( this._search && this._search.jqmData( \"ui-filterable-\" + this.uuid + \"-internal\" ) );\n\t},\n\n\t_setInput: function( selector ) {\n\t\tvar opts = this.options,\n\t\t\tupdatePlaceholder = true,\n\t\t\ttextinputOpts = {};\n\n\t\tif ( !selector ) {\n\t\t\tif ( this._isSearchInternal() ) {\n\n\t\t\t\t// Ignore the call to set a new input if the selector goes to falsy and\n\t\t\t\t// the current textinput is already of the internally generated variety.\n\t\t\t\treturn;\n\t\t\t} else {\n\n\t\t\t\t// Generating a new textinput widget. No need to set the placeholder\n\t\t\t\t// further down the function.\n\t\t\t\tupdatePlaceholder = false;\n\t\t\t\tselector = $( \"<input \" +\n\t\t\t\t\t\"data-\" + $.mobile.ns + \"type='search' \" +\n\t\t\t\t\t\"placeholder='\" + opts.filterPlaceholder + \"'></input>\" )\n\t\t\t\t\t.jqmData( \"ui-filterable-\" + this.uuid + \"-internal\", true );\n\t\t\t\t$( \"<form class='ui-filterable'></form>\" )\n\t\t\t\t\t.append( selector )\n\t\t\t\t\t.submit( function( evt ) {\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tselector.blur();\n\t\t\t\t\t})\n\t\t\t\t\t.insertBefore( this.element );\n\t\t\t\tif ( $.mobile.textinput ) {\n\t\t\t\t\tif ( this.options.filterTheme != null ) {\n\t\t\t\t\t\ttextinputOpts[ \"theme\" ] = opts.filterTheme;\n\t\t\t\t\t}\n\n\t\t\t\t\tselector.textinput( textinputOpts );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._super( selector );\n\n\t\tif ( this._isSearchInternal() && updatePlaceholder ) {\n\t\t\tthis._search.attr( \"placeholder\", this.options.filterPlaceholder );\n\t\t}\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar ret = this._super( options );\n\n\t\t// Need to set the filterPlaceholder after having established the search input\n\t\tif ( options.filterPlaceholder !== undefined ) {\n\t\t\tif ( this._isSearchInternal() ) {\n\t\t\t\tthis._search.attr( \"placeholder\", options.filterPlaceholder );\n\t\t\t}\n\t\t}\n\n\t\tif ( options.filterTheme !== undefined && this._search && $.mobile.textinput ) {\n\t\t\tthis._search.textinput( \"option\", \"theme\", options.filterTheme );\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\t_destroy: function() {\n\t\tif ( this._isSearchInternal() ) {\n\t\t\tthis._search.remove();\n\t\t}\n\t\tthis._super();\n\t},\n\n\t_syncTextInputOptions: function( options ) {\n\t\tvar idx,\n\t\t\ttextinputOptions = {};\n\n\t\t// We only sync options if the filterable's textinput is of the internally\n\t\t// generated variety, rather than one specified by the user.\n\t\tif ( this._isSearchInternal() && $.mobile.textinput ) {\n\n\t\t\t// Apply only the options understood by textinput\n\t\t\tfor ( idx in $.mobile.textinput.prototype.options ) {\n\t\t\t\tif ( options[ idx ] !== undefined ) {\n\t\t\t\t\tif ( idx === \"theme\" && this.options.filterTheme != null ) {\n\t\t\t\t\t\ttextinputOptions[ idx ] = this.options.filterTheme;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttextinputOptions[ idx ] = options[ idx ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._search.textinput( \"option\", textinputOptions );\n\t\t}\n\t}\n});\n\n})( jQuery );\n\n/*!\n * jQuery UI Tabs @VERSION\n * http://jqueryui.com\n *\n * Copyright 2013 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/tabs/\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.widget.js\n */\n(function( $, undefined ) {\n\nvar tabId = 0,\n\trhash = /#.*$/;\n\nfunction getNextTabId() {\n\treturn ++tabId;\n}\n\nfunction isLocal( anchor ) {\n\treturn anchor.hash.length > 1 &&\n\t\tdecodeURIComponent( anchor.href.replace( rhash, \"\" ) ) ===\n\t\t\tdecodeURIComponent( location.href.replace( rhash, \"\" ) );\n}\n\n$.widget( \"ui.tabs\", {\n\tversion: \"@VERSION\",\n\tdelay: 300,\n\toptions: {\n\t\tactive: null,\n\t\tcollapsible: false,\n\t\tevent: \"click\",\n\t\theightStyle: \"content\",\n\t\thide: null,\n\t\tshow: null,\n\n\t\t// callbacks\n\t\tactivate: null,\n\t\tbeforeActivate: null,\n\t\tbeforeLoad: null,\n\t\tload: null\n\t},\n\n\t_create: function() {\n\t\tvar that = this,\n\t\t\toptions = this.options;\n\n\t\tthis.running = false;\n\n\t\tthis.element\n\t\t\t.addClass( \"ui-tabs ui-widget ui-widget-content ui-corner-all\" )\n\t\t\t.toggleClass( \"ui-tabs-collapsible\", options.collapsible )\n\t\t\t// Prevent users from focusing disabled tabs via click\n\t\t\t.delegate( \".ui-tabs-nav > li\", \"mousedown\" + this.eventNamespace, function( event ) {\n\t\t\t\tif ( $( this ).is( \".ui-state-disabled\" ) ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t})\n\t\t\t// support: IE <9\n\t\t\t// Preventing the default action in mousedown doesn't prevent IE\n\t\t\t// from focusing the element, so if the anchor gets focused, blur.\n\t\t\t// We don't have to worry about focusing the previously focused\n\t\t\t// element since clicking on a non-focusable element should focus\n\t\t\t// the body anyway.\n\t\t\t.delegate( \".ui-tabs-anchor\", \"focus\" + this.eventNamespace, function() {\n\t\t\t\tif ( $( this ).closest( \"li\" ).is( \".ui-state-disabled\" ) ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis._processTabs();\n\t\toptions.active = this._initialActive();\n\n\t\t// Take disabling tabs via class attribute from HTML\n\t\t// into account and update option properly.\n\t\tif ( $.isArray( options.disabled ) ) {\n\t\t\toptions.disabled = $.unique( options.disabled.concat(\n\t\t\t\t$.map( this.tabs.filter( \".ui-state-disabled\" ), function( li ) {\n\t\t\t\t\treturn that.tabs.index( li );\n\t\t\t\t})\n\t\t\t) ).sort();\n\t\t}\n\n\t\t// check for length avoids error when initializing empty list\n\t\tif ( this.options.active !== false && this.anchors.length ) {\n\t\t\tthis.active = this._findActive( options.active );\n\t\t} else {\n\t\t\tthis.active = $();\n\t\t}\n\n\t\tthis._refresh();\n\n\t\tif ( this.active.length ) {\n\t\t\tthis.load( options.active );\n\t\t}\n\t},\n\n\t_initialActive: function() {\n\t\tvar active = this.options.active,\n\t\t\tcollapsible = this.options.collapsible,\n\t\t\tlocationHash = location.hash.substring( 1 );\n\n\t\tif ( active === null ) {\n\t\t\t// check the fragment identifier in the URL\n\t\t\tif ( locationHash ) {\n\t\t\t\tthis.tabs.each(function( i, tab ) {\n\t\t\t\t\tif ( $( tab ).attr( \"aria-controls\" ) === locationHash ) {\n\t\t\t\t\t\tactive = i;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// check for a tab marked active via a class\n\t\t\tif ( active === null ) {\n\t\t\t\tactive = this.tabs.index( this.tabs.filter( \".ui-tabs-active\" ) );\n\t\t\t}\n\n\t\t\t// no active tab, set to false\n\t\t\tif ( active === null || active === -1 ) {\n\t\t\t\tactive = this.tabs.length ? 0 : false;\n\t\t\t}\n\t\t}\n\n\t\t// handle numbers: negative, out of range\n\t\tif ( active !== false ) {\n\t\t\tactive = this.tabs.index( this.tabs.eq( active ) );\n\t\t\tif ( active === -1 ) {\n\t\t\t\tactive = collapsible ? false : 0;\n\t\t\t}\n\t\t}\n\n\t\t// don't allow collapsible: false and active: false\n\t\tif ( !collapsible && active === false && this.anchors.length ) {\n\t\t\tactive = 0;\n\t\t}\n\n\t\treturn active;\n\t},\n\n\t_getCreateEventData: function() {\n\t\treturn {\n\t\t\ttab: this.active,\n\t\t\tpanel: !this.active.length ? $() : this._getPanelForTab( this.active )\n\t\t};\n\t},\n\n\t_tabKeydown: function( event ) {\n\t\tvar focusedTab = $( this.document[0].activeElement ).closest( \"li\" ),\n\t\t\tselectedIndex = this.tabs.index( focusedTab ),\n\t\t\tgoingForward = true;\n\n\t\tif ( this._handlePageNav( event ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch ( event.keyCode ) {\n\t\t\tcase $.ui.keyCode.RIGHT:\n\t\t\tcase $.ui.keyCode.DOWN:\n\t\t\t\tselectedIndex++;\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.UP:\n\t\t\tcase $.ui.keyCode.LEFT:\n\t\t\t\tgoingForward = false;\n\t\t\t\tselectedIndex--;\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.END:\n\t\t\t\tselectedIndex = this.anchors.length - 1;\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.HOME:\n\t\t\t\tselectedIndex = 0;\n\t\t\t\tbreak;\n\t\t\tcase $.ui.keyCode.SPACE:\n\t\t\t\t// Activate only, no collapsing\n\t\t\t\tevent.preventDefault();\n\t\t\t\tclearTimeout( this.activating );\n\t\t\t\tthis._activate( selectedIndex );\n\t\t\t\treturn;\n\t\t\tcase $.ui.keyCode.ENTER:\n\t\t\t\t// Toggle (cancel delayed activation, allow collapsing)\n\t\t\t\tevent.preventDefault();\n\t\t\t\tclearTimeout( this.activating );\n\t\t\t\t// Determine if we should collapse or activate\n\t\t\t\tthis._activate( selectedIndex === this.options.active ? false : selectedIndex );\n\t\t\t\treturn;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\t// Focus the appropriate tab, based on which key was pressed\n\t\tevent.preventDefault();\n\t\tclearTimeout( this.activating );\n\t\tselectedIndex = this._focusNextTab( selectedIndex, goingForward );\n\n\t\t// Navigating with control key will prevent automatic activation\n\t\tif ( !event.ctrlKey ) {\n\t\t\t// Update aria-selected immediately so that AT think the tab is already selected.\n\t\t\t// Otherwise AT may confuse the user by stating that they need to activate the tab,\n\t\t\t// but the tab will already be activated by the time the announcement finishes.\n\t\t\tfocusedTab.attr( \"aria-selected\", \"false\" );\n\t\t\tthis.tabs.eq( selectedIndex ).attr( \"aria-selected\", \"true\" );\n\n\t\t\tthis.activating = this._delay(function() {\n\t\t\t\tthis.option( \"active\", selectedIndex );\n\t\t\t}, this.delay );\n\t\t}\n\t},\n\n\t_panelKeydown: function( event ) {\n\t\tif ( this._handlePageNav( event ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ctrl+up moves focus to the current tab\n\t\tif ( event.ctrlKey && event.keyCode === $.ui.keyCode.UP ) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.active.focus();\n\t\t}\n\t},\n\n\t// Alt+page up/down moves focus to the previous/next tab (and activates)\n\t_handlePageNav: function( event ) {\n\t\tif ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_UP ) {\n\t\t\tthis._activate( this._focusNextTab( this.options.active - 1, false ) );\n\t\t\treturn true;\n\t\t}\n\t\tif ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_DOWN ) {\n\t\t\tthis._activate( this._focusNextTab( this.options.active + 1, true ) );\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t_findNextTab: function( index, goingForward ) {\n\t\tvar lastTabIndex = this.tabs.length - 1;\n\n\t\tfunction constrain() {\n\t\t\tif ( index > lastTabIndex ) {\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\tif ( index < 0 ) {\n\t\t\t\tindex = lastTabIndex;\n\t\t\t}\n\t\t\treturn index;\n\t\t}\n\n\t\twhile ( $.inArray( constrain(), this.options.disabled ) !== -1 ) {\n\t\t\tindex = goingForward ? index + 1 : index - 1;\n\t\t}\n\n\t\treturn index;\n\t},\n\n\t_focusNextTab: function( index, goingForward ) {\n\t\tindex = this._findNextTab( index, goingForward );\n\t\tthis.tabs.eq( index ).focus();\n\t\treturn index;\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"active\" ) {\n\t\t\t// _activate() will handle invalid values and update this.options\n\t\t\tthis._activate( value );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\t// don't use the widget factory's disabled handling\n\t\t\tthis._setupDisabled( value );\n\t\t\treturn;\n\t\t}\n\n\t\tthis._super( key, value);\n\n\t\tif ( key === \"collapsible\" ) {\n\t\t\tthis.element.toggleClass( \"ui-tabs-collapsible\", value );\n\t\t\t// Setting collapsible: false while collapsed; open first panel\n\t\t\tif ( !value && this.options.active === false ) {\n\t\t\t\tthis._activate( 0 );\n\t\t\t}\n\t\t}\n\n\t\tif ( key === \"event\" ) {\n\t\t\tthis._setupEvents( value );\n\t\t}\n\n\t\tif ( key === \"heightStyle\" ) {\n\t\t\tthis._setupHeightStyle( value );\n\t\t}\n\t},\n\n\t_tabId: function( tab ) {\n\t\treturn tab.attr( \"aria-controls\" ) || \"ui-tabs-\" + getNextTabId();\n\t},\n\n\t_sanitizeSelector: function( hash ) {\n\t\treturn hash ? hash.replace( /[!\"$%&'()*+,.\\/:;<=>?@\\[\\]\\^`{|}~]/g, \"\\\\$&\" ) : \"\";\n\t},\n\n\trefresh: function() {\n\t\tvar options = this.options,\n\t\t\tlis = this.tablist.children( \":has(a[href])\" );\n\n\t\t// get disabled tabs from class attribute from HTML\n\t\t// this will get converted to a boolean if needed in _refresh()\n\t\toptions.disabled = $.map( lis.filter( \".ui-state-disabled\" ), function( tab ) {\n\t\t\treturn lis.index( tab );\n\t\t});\n\n\t\tthis._processTabs();\n\n\t\t// was collapsed or no tabs\n\t\tif ( options.active === false || !this.anchors.length ) {\n\t\t\toptions.active = false;\n\t\t\tthis.active = $();\n\t\t// was active, but active tab is gone\n\t\t} else if ( this.active.length && !$.contains( this.tablist[ 0 ], this.active[ 0 ] ) ) {\n\t\t\t// all remaining tabs are disabled\n\t\t\tif ( this.tabs.length === options.disabled.length ) {\n\t\t\t\toptions.active = false;\n\t\t\t\tthis.active = $();\n\t\t\t// activate previous tab\n\t\t\t} else {\n\t\t\t\tthis._activate( this._findNextTab( Math.max( 0, options.active - 1 ), false ) );\n\t\t\t}\n\t\t// was active, active tab still exists\n\t\t} else {\n\t\t\t// make sure active index is correct\n\t\t\toptions.active = this.tabs.index( this.active );\n\t\t}\n\n\t\tthis._refresh();\n\t},\n\n\t_refresh: function() {\n\t\tthis._setupDisabled( this.options.disabled );\n\t\tthis._setupEvents( this.options.event );\n\t\tthis._setupHeightStyle( this.options.heightStyle );\n\n\t\tthis.tabs.not( this.active ).attr({\n\t\t\t\"aria-selected\": \"false\",\n\t\t\ttabIndex: -1\n\t\t});\n\t\tthis.panels.not( this._getPanelForTab( this.active ) )\n\t\t\t.hide()\n\t\t\t.attr({\n\t\t\t\t\"aria-expanded\": \"false\",\n\t\t\t\t\"aria-hidden\": \"true\"\n\t\t\t});\n\n\t\t// Make sure one tab is in the tab order\n\t\tif ( !this.active.length ) {\n\t\t\tthis.tabs.eq( 0 ).attr( \"tabIndex\", 0 );\n\t\t} else {\n\t\t\tthis.active\n\t\t\t\t.addClass( \"ui-tabs-active ui-state-active\" )\n\t\t\t\t.attr({\n\t\t\t\t\t\"aria-selected\": \"true\",\n\t\t\t\t\ttabIndex: 0\n\t\t\t\t});\n\t\t\tthis._getPanelForTab( this.active )\n\t\t\t\t.show()\n\t\t\t\t.attr({\n\t\t\t\t\t\"aria-expanded\": \"true\",\n\t\t\t\t\t\"aria-hidden\": \"false\"\n\t\t\t\t});\n\t\t}\n\t},\n\n\t_processTabs: function() {\n\t\tvar that = this;\n\n\t\tthis.tablist = this._getList()\n\t\t\t.addClass( \"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\" )\n\t\t\t.attr( \"role\", \"tablist\" );\n\n\t\tthis.tabs = this.tablist.find( \"> li:has(a[href])\" )\n\t\t\t.addClass( \"ui-state-default ui-corner-top\" )\n\t\t\t.attr({\n\t\t\t\trole: \"tab\",\n\t\t\t\ttabIndex: -1\n\t\t\t});\n\n\t\tthis.anchors = this.tabs.map(function() {\n\t\t\t\treturn $( \"a\", this )[ 0 ];\n\t\t\t})\n\t\t\t.addClass( \"ui-tabs-anchor\" )\n\t\t\t.attr({\n\t\t\t\trole: \"presentation\",\n\t\t\t\ttabIndex: -1\n\t\t\t});\n\n\t\tthis.panels = $();\n\n\t\tthis.anchors.each(function( i, anchor ) {\n\t\t\tvar selector, panel, panelId,\n\t\t\t\tanchorId = $( anchor ).uniqueId().attr( \"id\" ),\n\t\t\t\ttab = $( anchor ).closest( \"li\" ),\n\t\t\t\toriginalAriaControls = tab.attr( \"aria-controls\" );\n\n\t\t\t// inline tab\n\t\t\tif ( isLocal( anchor ) ) {\n\t\t\t\tselector = anchor.hash;\n\t\t\t\tpanel = that.element.find( that._sanitizeSelector( selector ) );\n\t\t\t// remote tab\n\t\t\t} else {\n\t\t\t\tpanelId = that._tabId( tab );\n\t\t\t\tselector = \"#\" + panelId;\n\t\t\t\tpanel = that.element.find( selector );\n\t\t\t\tif ( !panel.length ) {\n\t\t\t\t\tpanel = that._createPanel( panelId );\n\t\t\t\t\tpanel.insertAfter( that.panels[ i - 1 ] || that.tablist );\n\t\t\t\t}\n\t\t\t\tpanel.attr( \"aria-live\", \"polite\" );\n\t\t\t}\n\n\t\t\tif ( panel.length) {\n\t\t\t\tthat.panels = that.panels.add( panel );\n\t\t\t}\n\t\t\tif ( originalAriaControls ) {\n\t\t\t\ttab.data( \"ui-tabs-aria-controls\", originalAriaControls );\n\t\t\t}\n\t\t\ttab.attr({\n\t\t\t\t\"aria-controls\": selector.substring( 1 ),\n\t\t\t\t\"aria-labelledby\": anchorId\n\t\t\t});\n\t\t\tpanel.attr( \"aria-labelledby\", anchorId );\n\t\t});\n\n\t\tthis.panels\n\t\t\t.addClass( \"ui-tabs-panel ui-widget-content ui-corner-bottom\" )\n\t\t\t.attr( \"role\", \"tabpanel\" );\n\t},\n\n\t// allow overriding how to find the list for rare usage scenarios (#7715)\n\t_getList: function() {\n\t\treturn this.element.find( \"ol,ul\" ).eq( 0 );\n\t},\n\n\t_createPanel: function( id ) {\n\t\treturn $( \"<div>\" )\n\t\t\t.attr( \"id\", id )\n\t\t\t.addClass( \"ui-tabs-panel ui-widget-content ui-corner-bottom\" )\n\t\t\t.data( \"ui-tabs-destroy\", true );\n\t},\n\n\t_setupDisabled: function( disabled ) {\n\t\tif ( $.isArray( disabled ) ) {\n\t\t\tif ( !disabled.length ) {\n\t\t\t\tdisabled = false;\n\t\t\t} else if ( disabled.length === this.anchors.length ) {\n\t\t\t\tdisabled = true;\n\t\t\t}\n\t\t}\n\n\t\t// disable tabs\n\t\tfor ( var i = 0, li; ( li = this.tabs[ i ] ); i++ ) {\n\t\t\tif ( disabled === true || $.inArray( i, disabled ) !== -1 ) {\n\t\t\t\t$( li )\n\t\t\t\t\t.addClass( \"ui-state-disabled\" )\n\t\t\t\t\t.attr( \"aria-disabled\", \"true\" );\n\t\t\t} else {\n\t\t\t\t$( li )\n\t\t\t\t\t.removeClass( \"ui-state-disabled\" )\n\t\t\t\t\t.removeAttr( \"aria-disabled\" );\n\t\t\t}\n\t\t}\n\n\t\tthis.options.disabled = disabled;\n\t},\n\n\t_setupEvents: function( event ) {\n\t\tvar events = {\n\t\t\tclick: function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t};\n\t\tif ( event ) {\n\t\t\t$.each( event.split(\" \"), function( index, eventName ) {\n\t\t\t\tevents[ eventName ] = \"_eventHandler\";\n\t\t\t});\n\t\t}\n\n\t\tthis._off( this.anchors.add( this.tabs ).add( this.panels ) );\n\t\tthis._on( this.anchors, events );\n\t\tthis._on( this.tabs, { keydown: \"_tabKeydown\" } );\n\t\tthis._on( this.panels, { keydown: \"_panelKeydown\" } );\n\n\t\tthis._focusable( this.tabs );\n\t\tthis._hoverable( this.tabs );\n\t},\n\n\t_setupHeightStyle: function( heightStyle ) {\n\t\tvar maxHeight,\n\t\t\tparent = this.element.parent();\n\n\t\tif ( heightStyle === \"fill\" ) {\n\t\t\tmaxHeight = parent.height();\n\t\t\tmaxHeight -= this.element.outerHeight() - this.element.height();\n\n\t\t\tthis.element.siblings( \":visible\" ).each(function() {\n\t\t\t\tvar elem = $( this ),\n\t\t\t\t\tposition = elem.css( \"position\" );\n\n\t\t\t\tif ( position === \"absolute\" || position === \"fixed\" ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tmaxHeight -= elem.outerHeight( true );\n\t\t\t});\n\n\t\t\tthis.element.children().not( this.panels ).each(function() {\n\t\t\t\tmaxHeight -= $( this ).outerHeight( true );\n\t\t\t});\n\n\t\t\tthis.panels.each(function() {\n\t\t\t\t$( this ).height( Math.max( 0, maxHeight -\n\t\t\t\t\t$( this ).innerHeight() + $( this ).height() ) );\n\t\t\t})\n\t\t\t.css( \"overflow\", \"auto\" );\n\t\t} else if ( heightStyle === \"auto\" ) {\n\t\t\tmaxHeight = 0;\n\t\t\tthis.panels.each(function() {\n\t\t\t\tmaxHeight = Math.max( maxHeight, $( this ).height( \"\" ).height() );\n\t\t\t}).height( maxHeight );\n\t\t}\n\t},\n\n\t_eventHandler: function( event ) {\n\t\tvar options = this.options,\n\t\t\tactive = this.active,\n\t\t\tanchor = $( event.currentTarget ),\n\t\t\ttab = anchor.closest( \"li\" ),\n\t\t\tclickedIsActive = tab[ 0 ] === active[ 0 ],\n\t\t\tcollapsing = clickedIsActive && options.collapsible,\n\t\t\ttoShow = collapsing ? $() : this._getPanelForTab( tab ),\n\t\t\ttoHide = !active.length ? $() : this._getPanelForTab( active ),\n\t\t\teventData = {\n\t\t\t\toldTab: active,\n\t\t\t\toldPanel: toHide,\n\t\t\t\tnewTab: collapsing ? $() : tab,\n\t\t\t\tnewPanel: toShow\n\t\t\t};\n\n\t\tevent.preventDefault();\n\n\t\tif ( tab.hasClass( \"ui-state-disabled\" ) ||\n\t\t\t\t// tab is already loading\n\t\t\t\ttab.hasClass( \"ui-tabs-loading\" ) ||\n\t\t\t\t// can't switch durning an animation\n\t\t\t\tthis.running ||\n\t\t\t\t// click on active header, but not collapsible\n\t\t\t\t( clickedIsActive && !options.collapsible ) ||\n\t\t\t\t// allow canceling activation\n\t\t\t\t( this._trigger( \"beforeActivate\", event, eventData ) === false ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\toptions.active = collapsing ? false : this.tabs.index( tab );\n\n\t\tthis.active = clickedIsActive ? $() : tab;\n\t\tif ( this.xhr ) {\n\t\t\tthis.xhr.abort();\n\t\t}\n\n\t\tif ( !toHide.length && !toShow.length ) {\n\t\t\t$.error( \"jQuery UI Tabs: Mismatching fragment identifier.\" );\n\t\t}\n\n\t\tif ( toShow.length ) {\n\t\t\tthis.load( this.tabs.index( tab ), event );\n\t\t}\n\t\tthis._toggle( event, eventData );\n\t},\n\n\t// handles show/hide for selecting tabs\n\t_toggle: function( event, eventData ) {\n\t\tvar that = this,\n\t\t\ttoShow = eventData.newPanel,\n\t\t\ttoHide = eventData.oldPanel;\n\n\t\tthis.running = true;\n\n\t\tfunction complete() {\n\t\t\tthat.running = false;\n\t\t\tthat._trigger( \"activate\", event, eventData );\n\t\t}\n\n\t\tfunction show() {\n\t\t\teventData.newTab.closest( \"li\" ).addClass( \"ui-tabs-active ui-state-active\" );\n\n\t\t\tif ( toShow.length && that.options.show ) {\n\t\t\t\tthat._show( toShow, that.options.show, complete );\n\t\t\t} else {\n\t\t\t\ttoShow.show();\n\t\t\t\tcomplete();\n\t\t\t}\n\t\t}\n\n\t\t// start out by hiding, then showing, then completing\n\t\tif ( toHide.length && this.options.hide ) {\n\t\t\tthis._hide( toHide, this.options.hide, function() {\n\t\t\t\teventData.oldTab.closest( \"li\" ).removeClass( \"ui-tabs-active ui-state-active\" );\n\t\t\t\tshow();\n\t\t\t});\n\t\t} else {\n\t\t\teventData.oldTab.closest( \"li\" ).removeClass( \"ui-tabs-active ui-state-active\" );\n\t\t\ttoHide.hide();\n\t\t\tshow();\n\t\t}\n\n\t\ttoHide.attr({\n\t\t\t\"aria-expanded\": \"false\",\n\t\t\t\"aria-hidden\": \"true\"\n\t\t});\n\t\teventData.oldTab.attr( \"aria-selected\", \"false\" );\n\t\t// If we're switching tabs, remove the old tab from the tab order.\n\t\t// If we're opening from collapsed state, remove the previous tab from the tab order.\n\t\t// If we're collapsing, then keep the collapsing tab in the tab order.\n\t\tif ( toShow.length && toHide.length ) {\n\t\t\teventData.oldTab.attr( \"tabIndex\", -1 );\n\t\t} else if ( toShow.length ) {\n\t\t\tthis.tabs.filter(function() {\n\t\t\t\treturn $( this ).attr( \"tabIndex\" ) === 0;\n\t\t\t})\n\t\t\t.attr( \"tabIndex\", -1 );\n\t\t}\n\n\t\ttoShow.attr({\n\t\t\t\"aria-expanded\": \"true\",\n\t\t\t\"aria-hidden\": \"false\"\n\t\t});\n\t\teventData.newTab.attr({\n\t\t\t\"aria-selected\": \"true\",\n\t\t\ttabIndex: 0\n\t\t});\n\t},\n\n\t_activate: function( index ) {\n\t\tvar anchor,\n\t\t\tactive = this._findActive( index );\n\n\t\t// trying to activate the already active panel\n\t\tif ( active[ 0 ] === this.active[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// trying to collapse, simulate a click on the current active header\n\t\tif ( !active.length ) {\n\t\t\tactive = this.active;\n\t\t}\n\n\t\tanchor = active.find( \".ui-tabs-anchor\" )[ 0 ];\n\t\tthis._eventHandler({\n\t\t\ttarget: anchor,\n\t\t\tcurrentTarget: anchor,\n\t\t\tpreventDefault: $.noop\n\t\t});\n\t},\n\n\t_findActive: function( index ) {\n\t\treturn index === false ? $() : this.tabs.eq( index );\n\t},\n\n\t_getIndex: function( index ) {\n\t\t// meta-function to give users option to provide a href string instead of a numerical index.\n\t\tif ( typeof index === \"string\" ) {\n\t\t\tindex = this.anchors.index( this.anchors.filter( \"[href$='\" + index + \"']\" ) );\n\t\t}\n\n\t\treturn index;\n\t},\n\n\t_destroy: function() {\n\t\tif ( this.xhr ) {\n\t\t\tthis.xhr.abort();\n\t\t}\n\n\t\tthis.element.removeClass( \"ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible\" );\n\n\t\tthis.tablist\n\t\t\t.removeClass( \"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\" )\n\t\t\t.removeAttr( \"role\" );\n\n\t\tthis.anchors\n\t\t\t.removeClass( \"ui-tabs-anchor\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"tabIndex\" )\n\t\t\t.removeUniqueId();\n\n\t\tthis.tabs.add( this.panels ).each(function() {\n\t\t\tif ( $.data( this, \"ui-tabs-destroy\" ) ) {\n\t\t\t\t$( this ).remove();\n\t\t\t} else {\n\t\t\t\t$( this )\n\t\t\t\t\t.removeClass( \"ui-state-default ui-state-active ui-state-disabled \" +\n\t\t\t\t\t\t\"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel\" )\n\t\t\t\t\t.removeAttr( \"tabIndex\" )\n\t\t\t\t\t.removeAttr( \"aria-live\" )\n\t\t\t\t\t.removeAttr( \"aria-busy\" )\n\t\t\t\t\t.removeAttr( \"aria-selected\" )\n\t\t\t\t\t.removeAttr( \"aria-labelledby\" )\n\t\t\t\t\t.removeAttr( \"aria-hidden\" )\n\t\t\t\t\t.removeAttr( \"aria-expanded\" )\n\t\t\t\t\t.removeAttr( \"role\" );\n\t\t\t}\n\t\t});\n\n\t\tthis.tabs.each(function() {\n\t\t\tvar li = $( this ),\n\t\t\t\tprev = li.data( \"ui-tabs-aria-controls\" );\n\t\t\tif ( prev ) {\n\t\t\t\tli\n\t\t\t\t\t.attr( \"aria-controls\", prev )\n\t\t\t\t\t.removeData( \"ui-tabs-aria-controls\" );\n\t\t\t} else {\n\t\t\t\tli.removeAttr( \"aria-controls\" );\n\t\t\t}\n\t\t});\n\n\t\tthis.panels.show();\n\n\t\tif ( this.options.heightStyle !== \"content\" ) {\n\t\t\tthis.panels.css( \"height\", \"\" );\n\t\t}\n\t},\n\n\tenable: function( index ) {\n\t\tvar disabled = this.options.disabled;\n\t\tif ( disabled === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( index === undefined ) {\n\t\t\tdisabled = false;\n\t\t} else {\n\t\t\tindex = this._getIndex( index );\n\t\t\tif ( $.isArray( disabled ) ) {\n\t\t\t\tdisabled = $.map( disabled, function( num ) {\n\t\t\t\t\treturn num !== index ? num : null;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdisabled = $.map( this.tabs, function( li, num ) {\n\t\t\t\t\treturn num !== index ? num : null;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tthis._setupDisabled( disabled );\n\t},\n\n\tdisable: function( index ) {\n\t\tvar disabled = this.options.disabled;\n\t\tif ( disabled === true ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( index === undefined ) {\n\t\t\tdisabled = true;\n\t\t} else {\n\t\t\tindex = this._getIndex( index );\n\t\t\tif ( $.inArray( index, disabled ) !== -1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( $.isArray( disabled ) ) {\n\t\t\t\tdisabled = $.merge( [ index ], disabled ).sort();\n\t\t\t} else {\n\t\t\t\tdisabled = [ index ];\n\t\t\t}\n\t\t}\n\t\tthis._setupDisabled( disabled );\n\t},\n\n\tload: function( index, event ) {\n\t\tindex = this._getIndex( index );\n\t\tvar that = this,\n\t\t\ttab = this.tabs.eq( index ),\n\t\t\tanchor = tab.find( \".ui-tabs-anchor\" ),\n\t\t\tpanel = this._getPanelForTab( tab ),\n\t\t\teventData = {\n\t\t\t\ttab: tab,\n\t\t\t\tpanel: panel\n\t\t\t};\n\n\t\t// not remote\n\t\tif ( isLocal( anchor[ 0 ] ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.xhr = $.ajax( this._ajaxSettings( anchor, event, eventData ) );\n\n\t\t// support: jQuery <1.8\n\t\t// jQuery <1.8 returns false if the request is canceled in beforeSend,\n\t\t// but as of 1.8, $.ajax() always returns a jqXHR object.\n\t\tif ( this.xhr && this.xhr.statusText !== \"canceled\" ) {\n\t\t\ttab.addClass( \"ui-tabs-loading\" );\n\t\t\tpanel.attr( \"aria-busy\", \"true\" );\n\n\t\t\tthis.xhr\n\t\t\t\t.success(function( response ) {\n\t\t\t\t\t// support: jQuery <1.8\n\t\t\t\t\t// http://bugs.jquery.com/ticket/11778\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tpanel.html( response );\n\t\t\t\t\t\tthat._trigger( \"load\", event, eventData );\n\t\t\t\t\t}, 1 );\n\t\t\t\t})\n\t\t\t\t.complete(function( jqXHR, status ) {\n\t\t\t\t\t// support: jQuery <1.8\n\t\t\t\t\t// http://bugs.jquery.com/ticket/11778\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif ( status === \"abort\" ) {\n\t\t\t\t\t\t\tthat.panels.stop( false, true );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttab.removeClass( \"ui-tabs-loading\" );\n\t\t\t\t\t\tpanel.removeAttr( \"aria-busy\" );\n\n\t\t\t\t\t\tif ( jqXHR === that.xhr ) {\n\t\t\t\t\t\t\tdelete that.xhr;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 1 );\n\t\t\t\t});\n\t\t}\n\t},\n\n\t_ajaxSettings: function( anchor, event, eventData ) {\n\t\tvar that = this;\n\t\treturn {\n\t\t\turl: anchor.attr( \"href\" ),\n\t\t\tbeforeSend: function( jqXHR, settings ) {\n\t\t\t\treturn that._trigger( \"beforeLoad\", event,\n\t\t\t\t\t$.extend( { jqXHR : jqXHR, ajaxSettings: settings }, eventData ) );\n\t\t\t}\n\t\t};\n\t},\n\n\t_getPanelForTab: function( tab ) {\n\t\tvar id = $( tab ).attr( \"aria-controls\" );\n\t\treturn this.element.find( this._sanitizeSelector( \"#\" + id ) );\n\t}\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n})( jQuery );\n\n(function( $, window ) {\n\n\t$.mobile.iosorientationfixEnabled = true;\n\n\t// This fix addresses an iOS bug, so return early if the UA claims it's something else.\n\tvar ua = navigator.userAgent,\n\t\tzoom,\n\t\tevt, x, y, z, aig;\n\tif ( !( /iPhone|iPad|iPod/.test( navigator.platform ) && /OS [1-5]_[0-9_]* like Mac OS X/i.test( ua ) && ua.indexOf( \"AppleWebKit\" ) > -1 ) ) {\n\t\t$.mobile.iosorientationfixEnabled = false;\n\t\treturn;\n\t}\n\n\tzoom = $.mobile.zoom;\n\n\tfunction checkTilt( e ) {\n\t\tevt = e.originalEvent;\n\t\taig = evt.accelerationIncludingGravity;\n\n\t\tx = Math.abs( aig.x );\n\t\ty = Math.abs( aig.y );\n\t\tz = Math.abs( aig.z );\n\n\t\t// If portrait orientation and in one of the danger zones\n\t\tif ( !window.orientation && ( x > 7 || ( ( z > 6 && y < 8 || z < 8 && y > 6 ) && x > 5 ) ) ) {\n\t\t\t\tif ( zoom.enabled ) {\n\t\t\t\t\tzoom.disable();\n\t\t\t\t}\n\t\t}\telse if ( !zoom.enabled ) {\n\t\t\t\tzoom.enable();\n\t\t}\n\t}\n\n\t$.mobile.document.on( \"mobileinit\", function() {\n\t\tif ( $.mobile.iosorientationfixEnabled ) {\n\t\t\t$.mobile.window\n\t\t\t\t.bind( \"orientationchange.iosorientationfix\", zoom.enable )\n\t\t\t\t.bind( \"devicemotion.iosorientationfix\", checkTilt );\n\t\t}\n\t});\n\n}( jQuery, this ));\n\n(function( $, window, undefined ) {\n\tvar\t$html = $( \"html\" ),\n\t\t$window = $.mobile.window;\n\n\t//remove initial build class (only present on first pageshow)\n\tfunction hideRenderingClass() {\n\t\t$html.removeClass( \"ui-mobile-rendering\" );\n\t}\n\n\t// trigger mobileinit event - useful hook for configuring $.mobile settings before they're used\n\t$( window.document ).trigger( \"mobileinit\" );\n\n\t// support conditions\n\t// if device support condition(s) aren't met, leave things as they are -> a basic, usable experience,\n\t// otherwise, proceed with the enhancements\n\tif ( !$.mobile.gradeA() ) {\n\t\treturn;\n\t}\n\n\t// override ajaxEnabled on platforms that have known conflicts with hash history updates\n\t// or generally work better browsing in regular http for full page refreshes (BB5, Opera Mini)\n\tif ( $.mobile.ajaxBlacklist ) {\n\t\t$.mobile.ajaxEnabled = false;\n\t}\n\n\t// Add mobile, initial load \"rendering\" classes to docEl\n\t$html.addClass( \"ui-mobile ui-mobile-rendering\" );\n\n\t// This is a fallback. If anything goes wrong (JS errors, etc), or events don't fire,\n\t// this ensures the rendering class is removed after 5 seconds, so content is visible and accessible\n\tsetTimeout( hideRenderingClass, 5000 );\n\n\t$.extend( $.mobile, {\n\t\t// find and enhance the pages in the dom and transition to the first page.\n\t\tinitializePage: function() {\n\t\t\t// find present pages\n\t\t\tvar path = $.mobile.path,\n\t\t\t\t$pages = $( \":jqmData(role='page'), :jqmData(role='dialog')\" ),\n\t\t\t\thash = path.stripHash( path.stripQueryParams(path.parseLocation().hash) ),\n\t\t\t\thashPage = document.getElementById( hash );\n\n\t\t\t// if no pages are found, create one with body's inner html\n\t\t\tif ( !$pages.length ) {\n\t\t\t\t$pages = $( \"body\" ).wrapInner( \"<div data-\" + $.mobile.ns + \"role='page'></div>\" ).children( 0 );\n\t\t\t}\n\n\t\t\t// add dialogs, set data-url attrs\n\t\t\t$pages.each(function() {\n\t\t\t\tvar $this = $( this );\n\n\t\t\t\t// unless the data url is already set set it to the pathname\n\t\t\t\tif ( !$this[ 0 ].getAttribute( \"data-\" + $.mobile.ns + \"url\" ) ) {\n\t\t\t\t\t$this.attr( \"data-\" + $.mobile.ns + \"url\", $this.attr( \"id\" ) || location.pathname + location.search );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// define first page in dom case one backs out to the directory root (not always the first page visited, but defined as fallback)\n\t\t\t$.mobile.firstPage = $pages.first();\n\n\t\t\t// define page container\n\t\t\t$.mobile.pageContainer = $.mobile.firstPage\n\t\t\t\t.parent()\n\t\t\t\t.addClass( \"ui-mobile-viewport\" )\n\t\t\t\t.pagecontainer();\n\n\t\t\t// initialize navigation events now, after mobileinit has occurred and the page container\n\t\t\t// has been created but before the rest of the library is alerted to that fact\n\t\t\t$.mobile.navreadyDeferred.resolve();\n\n\t\t\t// alert listeners that the pagecontainer has been determined for binding\n\t\t\t// to events triggered on it\n\t\t\t$window.trigger( \"pagecontainercreate\" );\n\n\t\t\t// cue page loading message\n\t\t\t$.mobile.loading( \"show\" );\n\n\t\t\t//remove initial build class (only present on first pageshow)\n\t\t\thideRenderingClass();\n\n\t\t\t// if hashchange listening is disabled, there's no hash deeplink,\n\t\t\t// the hash is not valid (contains more than one # or does not start with #)\n\t\t\t// or there is no page with that hash, change to the first page in the DOM\n\t\t\t// Remember, however, that the hash can also be a path!\n\t\t\tif ( ! ( $.mobile.hashListeningEnabled &&\n\t\t\t\t$.mobile.path.isHashValid( location.hash ) &&\n\t\t\t\t( $( hashPage ).is( \":jqmData(role='page')\" ) ||\n\t\t\t\t\t$.mobile.path.isPath( hash ) ||\n\t\t\t\t\thash === $.mobile.dialogHashKey ) ) ) {\n\n\t\t\t\t// Store the initial destination\n\t\t\t\tif ( $.mobile.path.isHashValid( location.hash ) ) {\n\t\t\t\t\t$.mobile.navigate.history.initialDst = hash.replace( \"#\", \"\" );\n\t\t\t\t}\n\n\t\t\t\t// make sure to set initial popstate state if it exists\n\t\t\t\t// so that navigation back to the initial page works properly\n\t\t\t\tif ( $.event.special.navigate.isPushStateEnabled() ) {\n\t\t\t\t\t$.mobile.navigate.navigator.squash( path.parseLocation().href );\n\t\t\t\t}\n\n\t\t\t\t$.mobile.changePage( $.mobile.firstPage, {\n\t\t\t\t\ttransition: \"none\",\n\t\t\t\t\treverse: true,\n\t\t\t\t\tchangeHash: false,\n\t\t\t\t\tfromHashChange: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// trigger hashchange or navigate to squash and record the correct\n\t\t\t\t// history entry for an initial hash path\n\t\t\t\tif ( !$.event.special.navigate.isPushStateEnabled() ) {\n\t\t\t\t\t$window.trigger( \"hashchange\", [true] );\n\t\t\t\t} else {\n\t\t\t\t\t// TODO figure out how to simplify this interaction with the initial history entry\n\t\t\t\t\t// at the bottom js/navigate/navigate.js\n\t\t\t\t\t$.mobile.navigate.history.stack = [];\n\t\t\t\t\t$.mobile.navigate( $.mobile.path.isPath( location.hash ) ? location.hash : location.href );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t$(function() {\n\t\t//Run inlineSVG support test\n\t\t$.support.inlineSVG();\n\n\t\t// check which scrollTop value should be used by scrolling to 1 immediately at domready\n\t\t// then check what the scroll top is. Android will report 0... others 1\n\t\t// note that this initial scroll won't hide the address bar. It's just for the check.\n\n\t\t// hide iOS browser chrome on load if hideUrlBar is true this is to try and do it as soon as possible\n\t\tif ( $.mobile.hideUrlBar ) {\n\t\t\twindow.scrollTo( 0, 1 );\n\t\t}\n\n\t\t// if defaultHomeScroll hasn't been set yet, see if scrollTop is 1\n\t\t// it should be 1 in most browsers, but android treats 1 as 0 (for hiding addr bar)\n\t\t// so if it's 1, use 0 from now on\n\t\t$.mobile.defaultHomeScroll = ( !$.support.scrollTop || $.mobile.window.scrollTop() === 1 ) ? 0 : 1;\n\n\t\t//dom-ready inits\n\t\tif ( $.mobile.autoInitializePage ) {\n\t\t\t$.mobile.initializePage();\n\t\t}\n\n\t\t// window load event\n\t\t// hide iOS browser chrome on load if hideUrlBar is true this is as fall back incase we were too early before\n\t\tif ( $.mobile.hideUrlBar ) {\n\t\t\t$window.load( $.mobile.silentScroll );\n\t\t}\n\n\t\tif ( !$.support.cssPointerEvents ) {\n\t\t\t// IE and Opera don't support CSS pointer-events: none that we use to disable link-based buttons\n\t\t\t// by adding the 'ui-disabled' class to them. Using a JavaScript workaround for those browser.\n\t\t\t// https://github.com/jquery/jquery-mobile/issues/3558\n\n\t\t\t// DEPRECATED as of 1.4.0 - remove ui-disabled after 1.4.0 release\n\t\t\t// only ui-state-disabled should be present thereafter\n\t\t\t$.mobile.document.delegate( \".ui-state-disabled,.ui-disabled\", \"vclick\",\n\t\t\t\tfunction( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n}( jQuery, this ));\n\n\n}));\n","//     Underscore.js 1.4.3\n//     http://underscorejs.org\n//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `global` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Establish the object that gets returned to break out of a loop iteration.\n  var breaker = {};\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push             = ArrayProto.push,\n      slice            = ArrayProto.slice,\n      concat           = ArrayProto.concat,\n      toString         = ObjProto.toString,\n      hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeForEach      = ArrayProto.forEach,\n    nativeMap          = ArrayProto.map,\n    nativeReduce       = ArrayProto.reduce,\n    nativeReduceRight  = ArrayProto.reduceRight,\n    nativeFilter       = ArrayProto.filter,\n    nativeEvery        = ArrayProto.every,\n    nativeSome         = ArrayProto.some,\n    nativeIndexOf      = ArrayProto.indexOf,\n    nativeLastIndexOf  = ArrayProto.lastIndexOf,\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind;\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object via a string identifier,\n  // for Closure Compiler \"advanced\" mode.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.4.3';\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles objects with the built-in `forEach`, arrays, and raw objects.\n  // Delegates to **ECMAScript 5**'s native `forEach` if available.\n  var each = _.each = _.forEach = function(obj, iterator, context) {\n    if (obj == null) return;\n    if (nativeForEach && obj.forEach === nativeForEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length === +obj.length) {\n      for (var i = 0, l = obj.length; i < l; i++) {\n        if (iterator.call(context, obj[i], i, obj) === breaker) return;\n      }\n    } else {\n      for (var key in obj) {\n        if (_.has(obj, key)) {\n          if (iterator.call(context, obj[key], key, obj) === breaker) return;\n        }\n      }\n    }\n  };\n\n  // Return the results of applying the iterator to each element.\n  // Delegates to **ECMAScript 5**'s native `map` if available.\n  _.map = _.collect = function(obj, iterator, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);\n    each(obj, function(value, index, list) {\n      results[results.length] = iterator.call(context, value, index, list);\n    });\n    return results;\n  };\n\n  var reduceError = 'Reduce of empty array with no initial value';\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available.\n  _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduce && obj.reduce === nativeReduce) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);\n    }\n    each(obj, function(value, index, list) {\n      if (!initial) {\n        memo = value;\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, value, index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // The right-associative version of reduce, also known as `foldr`.\n  // Delegates to **ECMAScript 5**'s native `reduceRight` if available.\n  _.reduceRight = _.foldr = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduceRight && obj.reduceRight === nativeReduceRight) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator);\n    }\n    var length = obj.length;\n    if (length !== +length) {\n      var keys = _.keys(obj);\n      length = keys.length;\n    }\n    each(obj, function(value, index, list) {\n      index = keys ? keys[--length] : --length;\n      if (!initial) {\n        memo = obj[index];\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, obj[index], index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, iterator, context) {\n    var result;\n    any(obj, function(value, index, list) {\n      if (iterator.call(context, value, index, list)) {\n        result = value;\n        return true;\n      }\n    });\n    return result;\n  };\n\n  // Return all the elements that pass a truth test.\n  // Delegates to **ECMAScript 5**'s native `filter` if available.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, iterator, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeFilter && obj.filter === nativeFilter) return obj.filter(iterator, context);\n    each(obj, function(value, index, list) {\n      if (iterator.call(context, value, index, list)) results[results.length] = value;\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, iterator, context) {\n    return _.filter(obj, function(value, index, list) {\n      return !iterator.call(context, value, index, list);\n    }, context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Delegates to **ECMAScript 5**'s native `every` if available.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, iterator, context) {\n    iterator || (iterator = _.identity);\n    var result = true;\n    if (obj == null) return result;\n    if (nativeEvery && obj.every === nativeEvery) return obj.every(iterator, context);\n    each(obj, function(value, index, list) {\n      if (!(result = result && iterator.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Delegates to **ECMAScript 5**'s native `some` if available.\n  // Aliased as `any`.\n  var any = _.some = _.any = function(obj, iterator, context) {\n    iterator || (iterator = _.identity);\n    var result = false;\n    if (obj == null) return result;\n    if (nativeSome && obj.some === nativeSome) return obj.some(iterator, context);\n    each(obj, function(value, index, list) {\n      if (result || (result = iterator.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if the array or object contains a given value (using `===`).\n  // Aliased as `include`.\n  _.contains = _.include = function(obj, target) {\n    if (obj == null) return false;\n    if (nativeIndexOf && obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1;\n    return any(obj, function(value) {\n      return value === target;\n    });\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    return _.map(obj, function(value) {\n      return (_.isFunction(method) ? method : value[method]).apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, function(value){ return value[key]; });\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // with specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    if (_.isEmpty(attrs)) return [];\n    return _.filter(obj, function(value) {\n      for (var key in attrs) {\n        if (attrs[key] !== value[key]) return false;\n      }\n      return true;\n    });\n  };\n\n  // Return the maximum element or (element-based computation).\n  // Can't optimize arrays of integers longer than 65,535 elements.\n  // See: https://bugs.webkit.org/show_bug.cgi?id=80797\n  _.max = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.max.apply(Math, obj);\n    }\n    if (!iterator && _.isEmpty(obj)) return -Infinity;\n    var result = {computed : -Infinity, value: -Infinity};\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      computed >= result.computed && (result = {value : value, computed : computed});\n    });\n    return result.value;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.min.apply(Math, obj);\n    }\n    if (!iterator && _.isEmpty(obj)) return Infinity;\n    var result = {computed : Infinity, value: Infinity};\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      computed < result.computed && (result = {value : value, computed : computed});\n    });\n    return result.value;\n  };\n\n  // Shuffle an array.\n  _.shuffle = function(obj) {\n    var rand;\n    var index = 0;\n    var shuffled = [];\n    each(obj, function(value) {\n      rand = _.random(index++);\n      shuffled[index - 1] = shuffled[rand];\n      shuffled[rand] = value;\n    });\n    return shuffled;\n  };\n\n  // An internal function to generate lookup iterators.\n  var lookupIterator = function(value) {\n    return _.isFunction(value) ? value : function(obj){ return obj[value]; };\n  };\n\n  // Sort the object's values by a criterion produced by an iterator.\n  _.sortBy = function(obj, value, context) {\n    var iterator = lookupIterator(value);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value : value,\n        index : index,\n        criteria : iterator.call(context, value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index < right.index ? -1 : 1;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(obj, value, context, behavior) {\n    var result = {};\n    var iterator = lookupIterator(value || _.identity);\n    each(obj, function(value, index) {\n      var key = iterator.call(context, value, index, obj);\n      behavior(result, key, value);\n    });\n    return result;\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = function(obj, value, context) {\n    return group(obj, value, context, function(result, key, value) {\n      (_.has(result, key) ? result[key] : (result[key] = [])).push(value);\n    });\n  };\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = function(obj, value, context) {\n    return group(obj, value, context, function(result, key) {\n      if (!_.has(result, key)) result[key] = 0;\n      result[key]++;\n    });\n  };\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iterator, context) {\n    iterator = iterator == null ? _.identity : lookupIterator(iterator);\n    var value = iterator.call(context, obj);\n    var low = 0, high = array.length;\n    while (low < high) {\n      var mid = (low + high) >>> 1;\n      iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;\n    }\n    return low;\n  };\n\n  // Safely convert anything iterable into a real, live array.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (obj.length === +obj.length) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return (obj.length === +obj.length) ? obj.length : _.keys(obj).length;\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    return (n != null) && !guard ? slice.call(array, 0, n) : array[0];\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N. The **guard** check allows it to work with\n  // `_.map`.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, array.length - ((n == null) || guard ? 1 : n));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if ((n != null) && !guard) {\n      return slice.call(array, Math.max(array.length - n, 0));\n    } else {\n      return array[array.length - 1];\n    }\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array. The **guard**\n  // check allows it to work with `_.map`.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, (n == null) || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, output) {\n    each(input, function(value) {\n      if (_.isArray(value)) {\n        shallow ? push.apply(output, value) : flatten(value, shallow, output);\n      } else {\n        output.push(value);\n      }\n    });\n    return output;\n  };\n\n  // Return a completely flattened version of an array.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, []);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iterator, context) {\n    if (_.isFunction(isSorted)) {\n      context = iterator;\n      iterator = isSorted;\n      isSorted = false;\n    }\n    var initial = iterator ? _.map(array, iterator, context) : array;\n    var results = [];\n    var seen = [];\n    each(initial, function(value, index) {\n      if (isSorted ? (!index || seen[seen.length - 1] !== value) : !_.contains(seen, value)) {\n        seen.push(value);\n        results.push(array[index]);\n      }\n    });\n    return results;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(concat.apply(ArrayProto, arguments));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var rest = slice.call(arguments, 1);\n    return _.filter(_.uniq(array), function(item) {\n      return _.every(rest, function(other) {\n        return _.indexOf(other, item) >= 0;\n      });\n    });\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = concat.apply(ArrayProto, slice.call(arguments, 1));\n    return _.filter(array, function(value){ return !_.contains(rest, value); });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    var args = slice.call(arguments);\n    var length = _.max(_.pluck(args, 'length'));\n    var results = new Array(length);\n    for (var i = 0; i < length; i++) {\n      results[i] = _.pluck(args, \"\" + i);\n    }\n    return results;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    if (list == null) return {};\n    var result = {};\n    for (var i = 0, l = list.length; i < l; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**),\n  // we need this function. Return the position of the first occurrence of an\n  // item in an array, or -1 if the item is not included in the array.\n  // Delegates to **ECMAScript 5**'s native `indexOf` if available.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = function(array, item, isSorted) {\n    if (array == null) return -1;\n    var i = 0, l = array.length;\n    if (isSorted) {\n      if (typeof isSorted == 'number') {\n        i = (isSorted < 0 ? Math.max(0, l + isSorted) : isSorted);\n      } else {\n        i = _.sortedIndex(array, item);\n        return array[i] === item ? i : -1;\n      }\n    }\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) return array.indexOf(item, isSorted);\n    for (; i < l; i++) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Delegates to **ECMAScript 5**'s native `lastIndexOf` if available.\n  _.lastIndexOf = function(array, item, from) {\n    if (array == null) return -1;\n    var hasIndex = from != null;\n    if (nativeLastIndexOf && array.lastIndexOf === nativeLastIndexOf) {\n      return hasIndex ? array.lastIndexOf(item, from) : array.lastIndexOf(item);\n    }\n    var i = (hasIndex ? from : array.length);\n    while (i--) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (arguments.length <= 1) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = arguments[2] || 1;\n\n    var len = Math.max(Math.ceil((stop - start) / step), 0);\n    var idx = 0;\n    var range = new Array(len);\n\n    while(idx < len) {\n      range[idx++] = start;\n      start += step;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Reusable constructor function for prototype setting.\n  var ctor = function(){};\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Binding with arguments is also known as `curry`.\n  // Delegates to **ECMAScript 5**'s native `Function.bind` if available.\n  // We check for `func.bind` first, to fail fast when `func` is undefined.\n  _.bind = function(func, context) {\n    var args, bound;\n    if (func.bind === nativeBind && nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError;\n    args = slice.call(arguments, 2);\n    return bound = function() {\n      if (!(this instanceof bound)) return func.apply(context, args.concat(slice.call(arguments)));\n      ctor.prototype = func.prototype;\n      var self = new ctor;\n      ctor.prototype = null;\n      var result = func.apply(self, args.concat(slice.call(arguments)));\n      if (Object(result) === result) return result;\n      return self;\n    };\n  };\n\n  // Bind all of an object's methods to that object. Useful for ensuring that\n  // all callbacks defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var funcs = slice.call(arguments, 1);\n    if (funcs.length == 0) funcs = _.functions(obj);\n    each(funcs, function(f) { obj[f] = _.bind(obj[f], obj); });\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memo = {};\n    hasher || (hasher = _.identity);\n    return function() {\n      var key = hasher.apply(this, arguments);\n      return _.has(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments));\n    };\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){ return func.apply(null, args); }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = function(func) {\n    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));\n  };\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time.\n  _.throttle = function(func, wait) {\n    var context, args, timeout, result;\n    var previous = 0;\n    var later = function() {\n      previous = new Date;\n      timeout = null;\n      result = func.apply(context, args);\n    };\n    return function() {\n      var now = new Date;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n      } else if (!timeout) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n    return function() {\n      var context = this, args = arguments;\n      var later = function() {\n        timeout = null;\n        if (!immediate) result = func.apply(context, args);\n      };\n      var callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      if (callNow) result = func.apply(context, args);\n      return result;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = function(func) {\n    var ran = false, memo;\n    return function() {\n      if (ran) return memo;\n      ran = true;\n      memo = func.apply(this, arguments);\n      func = null;\n      return memo;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return function() {\n      var args = [func];\n      push.apply(args, arguments);\n      return wrapper.apply(this, args);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var funcs = arguments;\n    return function() {\n      var args = arguments;\n      for (var i = funcs.length - 1; i >= 0; i--) {\n        args = [funcs[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  };\n\n  // Returns a function that will only be executed after being called N times.\n  _.after = function(times, func) {\n    if (times <= 0) return func();\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Object Functions\n  // ----------------\n\n  // Retrieve the names of an object's properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = nativeKeys || function(obj) {\n    if (obj !== Object(obj)) throw new TypeError('Invalid object');\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys[keys.length] = key;\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var values = [];\n    for (var key in obj) if (_.has(obj, key)) values.push(obj[key]);\n    return values;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var pairs = [];\n    for (var key in obj) if (_.has(obj, key)) pairs.push([key, obj[key]]);\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    for (var key in obj) if (_.has(obj, key)) result[obj[key]] = key;\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    each(keys, function(key) {\n      if (key in obj) copy[key] = obj[key];\n    });\n    return copy;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    for (var key in obj) {\n      if (!_.contains(keys, key)) copy[key] = obj[key];\n    }\n    return copy;\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          if (obj[prop] == null) obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the Harmony `egal` proposal: http://wiki.ecmascript.org/doku.php?id=harmony:egal.\n    if (a === b) return a !== 0 || 1 / a == 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className != toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, dates, and booleans are compared by value.\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return a == String(b);\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for\n        // other numeric values.\n        return a != +a ? b != +b : (a == 0 ? 1 / a == 1 / b : a == +b);\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a == +b;\n      // RegExps are compared by their source patterns and flags.\n      case '[object RegExp]':\n        return a.source == b.source &&\n               a.global == b.global &&\n               a.multiline == b.multiline &&\n               a.ignoreCase == b.ignoreCase;\n    }\n    if (typeof a != 'object' || typeof b != 'object') return false;\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] == a) return bStack[length] == b;\n    }\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n    var size = 0, result = true;\n    // Recursively compare objects and arrays.\n    if (className == '[object Array]') {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      size = a.length;\n      result = size == b.length;\n      if (result) {\n        // Deep compare the contents, ignoring non-numeric properties.\n        while (size--) {\n          if (!(result = eq(a[size], b[size], aStack, bStack))) break;\n        }\n      }\n    } else {\n      // Objects with different constructors are not equivalent, but `Object`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && (aCtor instanceof aCtor) &&\n                               _.isFunction(bCtor) && (bCtor instanceof bCtor))) {\n        return false;\n      }\n      // Deep compare objects.\n      for (var key in a) {\n        if (_.has(a, key)) {\n          // Count the expected number of properties.\n          size++;\n          // Deep compare each member.\n          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;\n        }\n      }\n      // Ensure that both objects contain the same number of properties.\n      if (result) {\n        for (key in b) {\n          if (_.has(b, key) && !(size--)) break;\n        }\n        result = !size;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return result;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b, [], []);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (_.isArray(obj) || _.isString(obj)) return obj.length === 0;\n    for (var key in obj) if (_.has(obj, key)) return false;\n    return true;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) == '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    return obj === Object(obj);\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.\n  each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) == '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return !!(obj && _.has(obj, 'callee'));\n    };\n  }\n\n  // Optimize `isFunction` if appropriate.\n  if (typeof (/./) !== 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj === 'function';\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj != +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) == '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iterators.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iterator, context) {\n    var accum = Array(n);\n    for (var i = 0; i < n; i++) accum[i] = iterator.call(context, i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + (0 | Math.random() * (max - min + 1));\n  };\n\n  // List of HTML entities for escaping.\n  var entityMap = {\n    escape: {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#x27;',\n      '/': '&#x2F;'\n    }\n  };\n  entityMap.unescape = _.invert(entityMap.escape);\n\n  // Regexes containing the keys and values listed immediately above.\n  var entityRegexes = {\n    escape:   new RegExp('[' + _.keys(entityMap.escape).join('') + ']', 'g'),\n    unescape: new RegExp('(' + _.keys(entityMap.unescape).join('|') + ')', 'g')\n  };\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  _.each(['escape', 'unescape'], function(method) {\n    _[method] = function(string) {\n      if (string == null) return '';\n      return ('' + string).replace(entityRegexes[method], function(match) {\n        return entityMap[method][match];\n      });\n    };\n  });\n\n  // If the value of the named property is a function then invoke it;\n  // otherwise, return it.\n  _.result = function(object, property) {\n    if (object == null) return null;\n    var value = object[property];\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    each(_.functions(obj), function(name){\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result.call(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = '' + ++idCounter;\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\t':     't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  _.template = function(text, data, settings) {\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = new RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset)\n        .replace(escaper, function(match) { return '\\\\' + escapes[match]; });\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      }\n      if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      }\n      if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n      index = offset + match.length;\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + \"return __p;\\n\";\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    if (data) return render(data, _);\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled function source as a convenience for precompilation.\n    template.source = 'function(' + (settings.variable || 'obj') + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function, which will delegate to the wrapper.\n  _.chain = function(obj) {\n    return _(obj).chain();\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(obj) {\n    return this._chain ? _(obj).chain() : obj;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name == 'shift' || name == 'splice') && obj.length === 0) delete obj[0];\n      return result.call(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result.call(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  _.extend(_.prototype, {\n\n    // Start chaining a wrapped Underscore object.\n    chain: function() {\n      this._chain = true;\n      return this;\n    },\n\n    // Extracts the result from a wrapped and chained object.\n    value: function() {\n      return this._wrapped;\n    }\n\n  });\n\n}).call(this);\n","//     Backbone.js 1.1.0\n\n//     (c) 2010-2011 Jeremy Ashkenas, DocumentCloud Inc.\n//     (c) 2011-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(){\n\n  // Initial Setup\n  // -------------\n\n  // Save a reference to the global object (`window` in the browser, `exports`\n  // on the server).\n  var root = this;\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create local references to array methods we'll want to use later.\n  var array = [];\n  var push = array.push;\n  var slice = array.slice;\n  var splice = array.splice;\n\n  // The top-level namespace. All public Backbone classes and modules will\n  // be attached to this. Exported for both the browser and the server.\n  var Backbone;\n  if (typeof exports !== 'undefined') {\n    Backbone = exports;\n  } else {\n    Backbone = root.Backbone = {};\n  }\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = '1.1.0';\n\n  // Require Underscore, if we're on the server, and it's not already present.\n  var _ = root._;\n  if (!_ && (typeof require !== 'undefined')) _ = require('underscore');\n\n  // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n  Backbone.$ = root.jQuery || root.Zepto || root.ender || root.$;\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n    root.Backbone = previousBackbone;\n    return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // custom events. You may bind with `on` or remove with `off` callback\n  // functions to an event; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  var Events = Backbone.Events = {\n\n    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n    // the callback to all events fired.\n    on: function(name, callback, context) {\n      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n      this._events || (this._events = {});\n      var events = this._events[name] || (this._events[name] = []);\n      events.push({callback: callback, context: context, ctx: context || this});\n      return this;\n    },\n\n    // Bind an event to only be triggered a single time. After the first time\n    // the callback is invoked, it will be removed.\n    once: function(name, callback, context) {\n      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n      var self = this;\n      var once = _.once(function() {\n        self.off(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n      return this.on(name, once, context);\n    },\n\n    // Remove one or many callbacks. If `context` is null, removes all\n    // callbacks with that function. If `callback` is null, removes all\n    // callbacks for the event. If `name` is null, removes all bound\n    // callbacks for all events.\n    off: function(name, callback, context) {\n      var retain, ev, events, names, i, l, j, k;\n      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n      if (!name && !callback && !context) {\n        this._events = {};\n        return this;\n      }\n      names = name ? [name] : _.keys(this._events);\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        if (events = this._events[name]) {\n          this._events[name] = retain = [];\n          if (callback || context) {\n            for (j = 0, k = events.length; j < k; j++) {\n              ev = events[j];\n              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n                  (context && context !== ev.context)) {\n                retain.push(ev);\n              }\n            }\n          }\n          if (!retain.length) delete this._events[name];\n        }\n      }\n\n      return this;\n    },\n\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\n    // passed the same arguments as `trigger` is, apart from the event name\n    // (unless you're listening on `\"all\"`, which will cause your callback to\n    // receive the true name of the event as the first argument).\n    trigger: function(name) {\n      if (!this._events) return this;\n      var args = slice.call(arguments, 1);\n      if (!eventsApi(this, 'trigger', name, args)) return this;\n      var events = this._events[name];\n      var allEvents = this._events.all;\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, arguments);\n      return this;\n    },\n\n    // Tell this object to stop listening to either specific events ... or\n    // to every object it's currently listening to.\n    stopListening: function(obj, name, callback) {\n      var listeningTo = this._listeningTo;\n      if (!listeningTo) return this;\n      var remove = !name && !callback;\n      if (!callback && typeof name === 'object') callback = this;\n      if (obj) (listeningTo = {})[obj._listenId] = obj;\n      for (var id in listeningTo) {\n        obj = listeningTo[id];\n        obj.off(name, callback, this);\n        if (remove || _.isEmpty(obj._events)) delete this._listeningTo[id];\n      }\n      return this;\n    }\n\n  };\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Implement fancy features of the Events API such as multiple event\n  // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n  // in terms of the existing API.\n  var eventsApi = function(obj, action, name, rest) {\n    if (!name) return true;\n\n    // Handle event maps.\n    if (typeof name === 'object') {\n      for (var key in name) {\n        obj[action].apply(obj, [key, name[key]].concat(rest));\n      }\n      return false;\n    }\n\n    // Handle space separated event names.\n    if (eventSplitter.test(name)) {\n      var names = name.split(eventSplitter);\n      for (var i = 0, l = names.length; i < l; i++) {\n        obj[action].apply(obj, [names[i]].concat(rest));\n      }\n      return false;\n    }\n\n    return true;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n    }\n  };\n\n  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\n  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n  // listen to an event in another object ... keeping track of what it's\n  // listening to.\n  _.each(listenMethods, function(implementation, method) {\n    Events[method] = function(obj, name, callback) {\n      var listeningTo = this._listeningTo || (this._listeningTo = {});\n      var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n      listeningTo[id] = obj;\n      if (!callback && typeof name === 'object') callback = this;\n      obj[implementation](name, callback, this);\n      return this;\n    };\n  });\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global \"pubsub\" in a convenient place.\n  _.extend(Backbone, Events);\n\n  // Backbone.Model\n  // --------------\n\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.cid = _.uniqueId('c');\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n    attrs = _.defaults({}, attrs, _.result(this, 'defaults'));\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  };\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n\n    // The value returned during the last failed validation.\n    validationError: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Return a copy of the model's `attributes` object.\n    toJSON: function(options) {\n      return _.clone(this.attributes);\n    },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Get the value of an attribute.\n    get: function(attr) {\n      return this.attributes[attr];\n    },\n\n    // Get the HTML-escaped value of an attribute.\n    escape: function(attr) {\n      return _.escape(this.get(attr));\n    },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function(attr) {\n      return this.get(attr) != null;\n    },\n\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function(key, val, options) {\n      var attr, attrs, unset, changes, silent, changing, prev, current;\n      if (key == null) return this;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      if (typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {});\n\n      // Run validation.\n      if (!this._validate(attrs, options)) return false;\n\n      // Extract attributes and options.\n      unset           = options.unset;\n      silent          = options.silent;\n      changes         = [];\n      changing        = this._changing;\n      this._changing  = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n      current = this.attributes, prev = this._previousAttributes;\n\n      // Check for changes of `id`.\n      if (this.idAttribute in attrs) this.id = attrs[this.idAttribute];\n\n      // For each `set` attribute, update or delete the current value.\n      for (attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n        if (!_.isEqual(prev[attr], val)) {\n          this.changed[attr] = val;\n        } else {\n          delete this.changed[attr];\n        }\n        unset ? delete current[attr] : current[attr] = val;\n      }\n\n      // Trigger all relevant attribute changes.\n      if (!silent) {\n        if (changes.length) this._pending = true;\n        for (var i = 0, l = changes.length; i < l; i++) {\n          this.trigger('change:' + changes[i], this, current[changes[i]], options);\n        }\n      }\n\n      // You might be wondering why there's a `while` loop here. Changes can\n      // be recursively nested within `\"change\"` events.\n      if (changing) return this;\n      if (!silent) {\n        while (this._pending) {\n          this._pending = false;\n          this.trigger('change', this, options);\n        }\n      }\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n    unset: function(attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n    },\n\n    // Clear all attributes on the model, firing `\"change\"`.\n    clear: function(options) {\n      var attrs = {};\n      for (var key in this.attributes) attrs[key] = void 0;\n      return this.set(attrs, _.extend({}, options, {unset: true}));\n    },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function(attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function(diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var val, changed = false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      for (var attr in diff) {\n        if (_.isEqual(old[attr], (val = diff[attr]))) continue;\n        (changed || (changed = {}))[attr] = val;\n      }\n      return changed;\n    },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function(attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function() {\n      return _.clone(this._previousAttributes);\n    },\n\n    // Fetch the model from the server. If the server's representation of the\n    // model differs from its current attributes, they will be overridden,\n    // triggering a `\"change\"` event.\n    fetch: function(options) {\n      options = options ? _.clone(options) : {};\n      if (options.parse === void 0) options.parse = true;\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        if (!model.set(model.parse(resp, options), options)) return false;\n        if (success) success(model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function(key, val, options) {\n      var attrs, method, xhr, attributes = this.attributes;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({validate: true}, options);\n\n      // If we're not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n      if (attrs && !options.wait) {\n        if (!this.set(attrs, options)) return false;\n      } else {\n        if (!this._validate(attrs, options)) return false;\n      }\n\n      // Set temporary attributes if `{wait: true}`.\n      if (attrs && options.wait) {\n        this.attributes = _.extend({}, attributes, attrs);\n      }\n\n      // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n      if (options.parse === void 0) options.parse = true;\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = model.parse(resp, options);\n        if (options.wait) serverAttrs = _.extend(attrs || {}, serverAttrs);\n        if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {\n          return false;\n        }\n        if (success) success(model, resp, options);\n        model.trigger('sync', model, resp, options);\n      };\n      wrapError(this, options);\n\n      method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');\n      if (method === 'patch') options.attrs = attrs;\n      xhr = this.sync(method, this, options);\n\n      // Restore attributes.\n      if (attrs && options.wait) this.attributes = attributes;\n\n      return xhr;\n    },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n\n      var destroy = function() {\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      options.success = function(resp) {\n        if (options.wait || model.isNew()) destroy();\n        if (success) success(model, resp, options);\n        if (!model.isNew()) model.trigger('sync', model, resp, options);\n      };\n\n      if (this.isNew()) {\n        options.success();\n        return false;\n      }\n      wrapError(this, options);\n\n      var xhr = this.sync('delete', this, options);\n      if (!options.wait) destroy();\n      return xhr;\n    },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function() {\n      var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();\n      if (this.isNew()) return base;\n      return base + (base.charAt(base.length - 1) === '/' ? '' : '/') + encodeURIComponent(this.id);\n    },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new model with identical attributes to this one.\n    clone: function() {\n      return new this.constructor(this.attributes);\n    },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function() {\n      return this.id == null;\n    },\n\n    // Check if the model is currently in a valid state.\n    isValid: function(options) {\n      return this._validate({}, _.extend(options || {}, { validate: true }));\n    },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n    _validate: function(attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n      return false;\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Model.\n  var modelMethods = ['keys', 'values', 'pairs', 'invert', 'pick', 'omit'];\n\n  // Mix in each Underscore method as a proxy to `Model#attributes`.\n  _.each(modelMethods, function(method) {\n    Model.prototype[method] = function() {\n      var args = slice.call(arguments);\n      args.unshift(this.attributes);\n      return _[method].apply(_, args);\n    };\n  });\n\n  // Backbone.Collection\n  // -------------------\n\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analagous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n    options || (options = {});\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n    this._reset();\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({silent: true}, options));\n  };\n\n  // Default options for `Collection#set`.\n  var setOptions = {add: true, remove: true, merge: true};\n  var addOptions = {add: true, remove: false};\n\n  // Define the Collection's inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function(options) {\n      return this.map(function(model){ return model.toJSON(options); });\n    },\n\n    // Proxy `Backbone.sync` by default.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Add a model, or list of models to the set.\n    add: function(models, options) {\n      return this.set(models, _.extend({merge: false}, options, addOptions));\n    },\n\n    // Remove a model, or a list of models from the set.\n    remove: function(models, options) {\n      var singular = !_.isArray(models);\n      models = singular ? [models] : _.clone(models);\n      options || (options = {});\n      var i, l, index, model;\n      for (i = 0, l = models.length; i < l; i++) {\n        model = models[i] = this.get(models[i]);\n        if (!model) continue;\n        delete this._byId[model.id];\n        delete this._byId[model.cid];\n        index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--;\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n        this._removeReference(model);\n      }\n      return singular ? models[0] : models;\n    },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function(models, options) {\n      options = _.defaults({}, options, setOptions);\n      if (options.parse) models = this.parse(models, options);\n      var singular = !_.isArray(models);\n      models = singular ? (models ? [models] : []) : _.clone(models);\n      var i, l, id, model, attrs, existing, sort;\n      var at = options.at;\n      var targetModel = this.model;\n      var sortable = this.comparator && (at == null) && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n      var toAdd = [], toRemove = [], modelMap = {};\n      var add = options.add, merge = options.merge, remove = options.remove;\n      var order = !sortable && add && remove ? [] : false;\n\n      // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n      for (i = 0, l = models.length; i < l; i++) {\n        attrs = models[i];\n        if (attrs instanceof Model) {\n          id = model = attrs;\n        } else {\n          id = attrs[targetModel.prototype.idAttribute];\n        }\n\n        // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n        if (existing = this.get(id)) {\n          if (remove) modelMap[existing.cid] = true;\n          if (merge) {\n            attrs = attrs === model ? model.attributes : attrs;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            if (sortable && !sort && existing.hasChanged(sortAttr)) sort = true;\n          }\n          models[i] = existing;\n\n        // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(attrs, options);\n          if (!model) continue;\n          toAdd.push(model);\n\n          // Listen to added models' events, and index models for lookup by\n          // `id` and by `cid`.\n          model.on('all', this._onModelEvent, this);\n          this._byId[model.cid] = model;\n          if (model.id != null) this._byId[model.id] = model;\n        }\n        if (order) order.push(existing || model);\n      }\n\n      // Remove nonexistent models if appropriate.\n      if (remove) {\n        for (i = 0, l = this.length; i < l; ++i) {\n          if (!modelMap[(model = this.models[i]).cid]) toRemove.push(model);\n        }\n        if (toRemove.length) this.remove(toRemove, options);\n      }\n\n      // See if sorting is needed, update `length` and splice in new models.\n      if (toAdd.length || (order && order.length)) {\n        if (sortable) sort = true;\n        this.length += toAdd.length;\n        if (at != null) {\n          for (i = 0, l = toAdd.length; i < l; i++) {\n            this.models.splice(at + i, 0, toAdd[i]);\n          }\n        } else {\n          if (order) this.models.length = 0;\n          var orderedModels = order || toAdd;\n          for (i = 0, l = orderedModels.length; i < l; i++) {\n            this.models.push(orderedModels[i]);\n          }\n        }\n      }\n\n      // Silently sort the collection if appropriate.\n      if (sort) this.sort({silent: true});\n\n      // Unless silenced, it's time to fire all appropriate add/sort events.\n      if (!options.silent) {\n        for (i = 0, l = toAdd.length; i < l; i++) {\n          (model = toAdd[i]).trigger('add', model, this, options);\n        }\n        if (sort || (order && order.length)) this.trigger('sort', this, options);\n      }\n      \n      // Return the added (or merged) model (or models).\n      return singular ? models[0] : models;\n    },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function(models, options) {\n      options || (options = {});\n      for (var i = 0, l = this.models.length; i < l; i++) {\n        this._removeReference(this.models[i]);\n      }\n      options.previousModels = this.models;\n      this._reset();\n      models = this.add(models, _.extend({silent: true}, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return models;\n    },\n\n    // Add a model to the end of the collection.\n    push: function(model, options) {\n      return this.add(model, _.extend({at: this.length}, options));\n    },\n\n    // Remove a model from the end of the collection.\n    pop: function(options) {\n      var model = this.at(this.length - 1);\n      this.remove(model, options);\n      return model;\n    },\n\n    // Add a model to the beginning of the collection.\n    unshift: function(model, options) {\n      return this.add(model, _.extend({at: 0}, options));\n    },\n\n    // Remove a model from the beginning of the collection.\n    shift: function(options) {\n      var model = this.at(0);\n      this.remove(model, options);\n      return model;\n    },\n\n    // Slice out a sub-array of models from the collection.\n    slice: function() {\n      return slice.apply(this.models, arguments);\n    },\n\n    // Get a model from the set by id.\n    get: function(obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj.id] || this._byId[obj.cid] || this._byId[obj];\n    },\n\n    // Get the model at the given index.\n    at: function(index) {\n      return this.models[index];\n    },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function(attrs, first) {\n      if (_.isEmpty(attrs)) return first ? void 0 : [];\n      return this[first ? 'find' : 'filter'](function(model) {\n        for (var key in attrs) {\n          if (attrs[key] !== model.get(key)) return false;\n        }\n        return true;\n      });\n    },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function(attrs) {\n      return this.where(attrs, true);\n    },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function(options) {\n      if (!this.comparator) throw new Error('Cannot sort a set without a comparator');\n      options || (options = {});\n\n      // Run sort based on type of `comparator`.\n      if (_.isString(this.comparator) || this.comparator.length === 1) {\n        this.models = this.sortBy(this.comparator, this);\n      } else {\n        this.models.sort(_.bind(this.comparator, this));\n      }\n\n      if (!options.silent) this.trigger('sort', this, options);\n      return this;\n    },\n\n    // Pluck an attribute from each model in the collection.\n    pluck: function(attr) {\n      return _.invoke(this.models, 'get', attr);\n    },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function(options) {\n      options = options ? _.clone(options) : {};\n      if (options.parse === void 0) options.parse = true;\n      var success = options.success;\n      var collection = this;\n      options.success = function(resp) {\n        var method = options.reset ? 'reset' : 'set';\n        collection[method](resp, options);\n        if (success) success(collection, resp, options);\n        collection.trigger('sync', collection, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync('read', this, options);\n    },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function(model, options) {\n      options = options ? _.clone(options) : {};\n      if (!(model = this._prepareModel(model, options))) return false;\n      if (!options.wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n      options.success = function(model, resp, options) {\n        if (options.wait) collection.add(model, options);\n        if (success) success(model, resp, options);\n      };\n      model.save(null, options);\n      return model;\n    },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new collection with an identical list of models as this one.\n    clone: function() {\n      return new this.constructor(this.models);\n    },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function() {\n      this.length = 0;\n      this.models = [];\n      this._byId  = {};\n    },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function(attrs, options) {\n      if (attrs instanceof Model) {\n        if (!attrs.collection) attrs.collection = this;\n        return attrs;\n      }\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n      var model = new this.model(attrs, options);\n      if (!model.validationError) return model;\n      this.trigger('invalid', this, model.validationError, options);\n      return false;\n    },\n\n    // Internal method to sever a model's ties to a collection.\n    _removeReference: function(model) {\n      if (this === model.collection) delete model.collection;\n      model.off('all', this._onModelEvent, this);\n    },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function(event, model, collection, options) {\n      if ((event === 'add' || event === 'remove') && collection !== this) return;\n      if (event === 'destroy') this.remove(model, options);\n      if (model && event === 'change:' + model.idAttribute) {\n        delete this._byId[model.previous(model.idAttribute)];\n        if (model.id != null) this._byId[model.id] = model;\n      }\n      this.trigger.apply(this, arguments);\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n  var methods = ['forEach', 'each', 'map', 'collect', 'reduce', 'foldl',\n    'inject', 'reduceRight', 'foldr', 'find', 'detect', 'filter', 'select',\n    'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke',\n    'max', 'min', 'toArray', 'size', 'first', 'head', 'take', 'initial', 'rest',\n    'tail', 'drop', 'last', 'without', 'difference', 'indexOf', 'shuffle',\n    'lastIndexOf', 'isEmpty', 'chain'];\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n  _.each(methods, function(method) {\n    Collection.prototype[method] = function() {\n      var args = slice.call(arguments);\n      args.unshift(this.models);\n      return _[method].apply(_, args);\n    };\n  });\n\n  // Underscore methods that take a property name as an argument.\n  var attributeMethods = ['groupBy', 'countBy', 'sortBy'];\n\n  // Use attributes instead of properties.\n  _.each(attributeMethods, function(method) {\n    Collection.prototype[method] = function(value, context) {\n      var iterator = _.isFunction(value) ? value : function(model) {\n        return model.get(value);\n      };\n      return _[method](this.models, iterator, context);\n    };\n  });\n\n  // Backbone.View\n  // -------------\n\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n    this.cid = _.uniqueId('view');\n    options || (options = {});\n    _.extend(this, _.pick(options, viewOptions));\n    this._ensureElement();\n    this.initialize.apply(this, arguments);\n    this.delegateEvents();\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be merged as properties.\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function(selector) {\n      return this.$el.find(selector);\n    },\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function() {\n      return this;\n    },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function() {\n      this.$el.remove();\n      this.stopListening();\n      return this;\n    },\n\n    // Change the view's element (`this.el` property), including event\n    // re-delegation.\n    setElement: function(element, delegate) {\n      if (this.$el) this.undelegateEvents();\n      this.$el = element instanceof Backbone.$ ? element : Backbone.$(element);\n      this.el = this.$el[0];\n      if (delegate !== false) this.delegateEvents();\n      return this;\n    },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    // This only works for delegate-able events: not `focus`, `blur`, and\n    // not `change`, `submit`, and `reset` in Internet Explorer.\n    delegateEvents: function(events) {\n      if (!(events || (events = _.result(this, 'events')))) return this;\n      this.undelegateEvents();\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[events[key]];\n        if (!method) continue;\n\n        var match = key.match(delegateEventSplitter);\n        var eventName = match[1], selector = match[2];\n        method = _.bind(method, this);\n        eventName += '.delegateEvents' + this.cid;\n        if (selector === '') {\n          this.$el.on(eventName, method);\n        } else {\n          this.$el.on(eventName, selector, method);\n        }\n      }\n      return this;\n    },\n\n    // Clears all callbacks previously bound to the view with `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function() {\n      this.$el.off('.delegateEvents' + this.cid);\n      return this;\n    },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function() {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, 'attributes'));\n        if (this.id) attrs.id = _.result(this, 'id');\n        if (this.className) attrs['class'] = _.result(this, 'className');\n        var $el = Backbone.$('<' + _.result(this, 'tagName') + '>').attr(attrs);\n        this.setElement($el, false);\n      } else {\n        this.setElement(_.result(this, 'el'), false);\n      }\n    }\n\n  });\n\n  // Backbone.sync\n  // -------------\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n    var type = methodMap[method];\n\n    // Default options, unless specified.\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    });\n\n    // Default JSON-request options.\n    var params = {type: type, dataType: 'json'};\n\n    // Ensure that we have a URL.\n    if (!options.url) {\n      params.url = _.result(model, 'url') || urlError();\n    }\n\n    // Ensure that we have the appropriate request data.\n    if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    }\n\n    // For older servers, emulate JSON by encoding the request into an HTML-form.\n    if (options.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {model: params.data} : {};\n    }\n\n    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n    if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n      params.type = 'POST';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n      options.beforeSend = function(xhr) {\n        xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    }\n\n    // Don't process data on a non-GET request.\n    if (params.type !== 'GET' && !options.emulateJSON) {\n      params.processData = false;\n    }\n\n    // If we're sending a `PATCH` request, and we're in an old Internet Explorer\n    // that still has ActiveX enabled by default, override jQuery to use that\n    // for XHR instead. Remove this line when jQuery supports `PATCH` on IE8.\n    if (params.type === 'PATCH' && noXhrPatch) {\n      params.xhr = function() {\n        return new ActiveXObject(\"Microsoft.XMLHTTP\");\n      };\n    }\n\n    // Make the request, allowing the user to override any Ajax options.\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger('request', model, xhr, options);\n    return xhr;\n  };\n\n  var noXhrPatch = typeof window !== 'undefined' && !!window.ActiveXObject && !(window.XMLHttpRequest && (new XMLHttpRequest).dispatchEvent);\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n    'create': 'POST',\n    'update': 'PUT',\n    'patch':  'PATCH',\n    'delete': 'DELETE',\n    'read':   'GET'\n  };\n\n  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you'd like to use a different library.\n  Backbone.ajax = function() {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  };\n\n  // Backbone.Router\n  // ---------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n    options || (options = {});\n    if (options.routes) this.routes = options.routes;\n    this._bindRoutes();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam    = /(\\(\\?)?:\\w+/g;\n  var splatParam    = /\\*\\w+/g;\n  var escapeRegExp  = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function(route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n      if (_.isFunction(name)) {\n        callback = name;\n        name = '';\n      }\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function(fragment) {\n        var args = router._extractParameters(route, fragment);\n        callback && callback.apply(router, args);\n        router.trigger.apply(router, ['route:' + name].concat(args));\n        router.trigger('route', name, args);\n        Backbone.history.trigger('route', router, name, args);\n      });\n      return this;\n    },\n\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function(fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function() {\n      if (!this.routes) return;\n      this.routes = _.result(this, 'routes');\n      var route, routes = _.keys(this.routes);\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function(route) {\n      route = route.replace(escapeRegExp, '\\\\$&')\n                   .replace(optionalParam, '(?:$1)?')\n                   .replace(namedParam, function(match, optional) {\n                     return optional ? match : '([^\\/]+)';\n                   })\n                   .replace(splatParam, '(.*?)');\n      return new RegExp('^' + route + '$');\n    },\n\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function(route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function(param) {\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n  var History = Backbone.History = function() {\n    this.handlers = [];\n    _.bindAll(this, 'checkUrl');\n\n    // Ensure that `History` can be used outside of the browser.\n    if (typeof window !== 'undefined') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  };\n\n  // Cached regex for stripping a leading hash/slash and trailing space.\n  var routeStripper = /^[#\\/]|\\s+$/g;\n\n  // Cached regex for stripping leading and trailing slashes.\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  // Cached regex for detecting MSIE.\n  var isExplorer = /msie [\\w.]+/;\n\n  // Cached regex for removing a trailing slash.\n  var trailingSlash = /\\/$/;\n\n  // Cached regex for stripping urls of hash and query.\n  var pathStripper = /[?#].*$/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function(window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n\n    // Get the cross-browser normalized URL fragment, either from the URL,\n    // the hash, or the override.\n    getFragment: function(fragment, forcePushState) {\n      if (fragment == null) {\n        if (this._hasPushState || !this._wantsHashChange || forcePushState) {\n          fragment = this.location.pathname;\n          var root = this.root.replace(trailingSlash, '');\n          if (!fragment.indexOf(root)) fragment = fragment.slice(root.length);\n        } else {\n          fragment = this.getHash();\n        }\n      }\n      return fragment.replace(routeStripper, '');\n    },\n\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function(options) {\n      if (History.started) throw new Error(\"Backbone.history has already been started\");\n      History.started = true;\n\n      // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n      this.options          = _.extend({root: '/'}, this.options, options);\n      this.root             = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._wantsPushState  = !!this.options.pushState;\n      this._hasPushState    = !!(this.options.pushState && this.history && this.history.pushState);\n      var fragment          = this.getFragment();\n      var docMode           = document.documentMode;\n      var oldIE             = (isExplorer.exec(navigator.userAgent.toLowerCase()) && (!docMode || docMode <= 7));\n\n      // Normalize root to always include a leading and trailing slash.\n      this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n      if (oldIE && this._wantsHashChange) {\n        this.iframe = Backbone.$('<iframe src=\"javascript:0\" tabindex=\"-1\" />').hide().appendTo('body')[0].contentWindow;\n        this.navigate(fragment);\n      }\n\n      // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n      if (this._hasPushState) {\n        Backbone.$(window).on('popstate', this.checkUrl);\n      } else if (this._wantsHashChange && ('onhashchange' in window) && !oldIE) {\n        Backbone.$(window).on('hashchange', this.checkUrl);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      // Determine if we need to change the base url, for a pushState link\n      // opened by a non-pushState browser.\n      this.fragment = fragment;\n      var loc = this.location;\n      var atRoot = loc.pathname.replace(/[^\\/]$/, '$&/') === this.root;\n\n      // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n      if (this._wantsHashChange && this._wantsPushState) {\n\n        // If we've started off with a route from a `pushState`-enabled\n        // browser, but we're currently in a browser that doesn't support it...\n        if (!this._hasPushState && !atRoot) {\n          this.fragment = this.getFragment(null, true);\n          this.location.replace(this.root + this.location.search + '#' + this.fragment);\n          // Return immediately as browser will do redirect to new url\n          return true;\n\n        // Or if we've started out with a hash-based route, but we're currently\n        // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && atRoot && loc.hash) {\n          this.fragment = this.getHash().replace(routeStripper, '');\n          this.history.replaceState({}, document.title, this.root + this.fragment + loc.search);\n        }\n\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function() {\n      Backbone.$(window).off('popstate', this.checkUrl).off('hashchange', this.checkUrl);\n      clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function(route, callback) {\n      this.handlers.unshift({route: route, callback: callback});\n    },\n\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function(e) {\n      var current = this.getFragment();\n      if (current === this.fragment && this.iframe) {\n        current = this.getFragment(this.getHash(this.iframe));\n      }\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function(fragment) {\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.any(this.handlers, function(handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n    },\n\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function(fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {trigger: !!options};\n\n      var url = this.root + (fragment = this.getFragment(fragment || ''));\n\n      // Strip the fragment of the query and hash for matching.\n      fragment = fragment.replace(pathStripper, '');\n\n      if (this.fragment === fragment) return;\n      this.fragment = fragment;\n\n      // Don't include a trailing slash on the root.\n      if (fragment === '' && url !== '/') url = url.slice(0, -1);\n\n      // If pushState is available, we use it to set the fragment as a real URL.\n      if (this._hasPushState) {\n        this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n      // If hash changes haven't been explicitly disabled, update the hash\n      // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n        if (this.iframe && (fragment !== this.getFragment(this.getHash(this.iframe)))) {\n          // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don't\n          // want this.\n          if(!options.replace) this.iframe.document.open().close();\n          this._updateHash(this.iframe.location, fragment, options.replace);\n        }\n\n      // If you've told us that you explicitly don't want fallback hashchange-\n      // based history, then `navigate` becomes a page refresh.\n      } else {\n        return this.location.assign(url);\n      }\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function(location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, '');\n        location.replace(href + '#' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = '#' + fragment;\n      }\n    }\n\n  });\n\n  // Create the default Backbone.history.\n  Backbone.history = new History;\n\n  // Helpers\n  // -------\n\n  // Helper function to correctly set up the prototype chain, for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent's constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function.\n    var Surrogate = function(){ this.constructor = child; };\n    Surrogate.prototype = parent.prototype;\n    child.prototype = new Surrogate;\n\n    // Add prototype properties (instance properties) to the subclass,\n    // if supplied.\n    if (protoProps) _.extend(child.prototype, protoProps);\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Set up inheritance for the model, collection, router, view and history.\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error('A \"url\" property or function must be specified');\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  var wrapError = function(model, options) {\n    var error = options.error;\n    options.error = function(resp) {\n      if (error) error(model, resp, options);\n      model.trigger('error', model, resp, options);\n    };\n  };\n\n}).call(this);\n","/*!\n * Chaplin 0.11.3\n *\n * Chaplin may be freely distributed under the MIT license.\n * For all details and documentation:\n * http://chaplinjs.org\n */\n\n(function(){\n\nvar loader = (function() {\n  var modules = {};\n  var cache = {};\n\n  var dummy = function() {return function() {};};\n  var initModule = function(name, definition) {\n    var module = {id: name, exports: {}};\n    definition(module.exports, dummy(), module);\n    var exports = cache[name] = module.exports;\n    return exports;\n  };\n\n  var loader = function(path) {\n    if (cache.hasOwnProperty(path)) return cache[path];\n    if (modules.hasOwnProperty(path)) return initModule(path, modules[path]);\n    throw new Error('Cannot find module \"' + path + '\"');\n  };\n\n  loader.register = function(bundle, fn) {\n    modules[bundle] = fn;\n  };\n  return loader;\n})();\n\nloader.register('chaplin/application', function(e, r, module) {\n'use strict';\n\nvar Application, Backbone, Composer, Dispatcher, EventBroker, Layout, Router, mediator, _;\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nmediator = loader('chaplin/mediator');\n\nDispatcher = loader('chaplin/dispatcher');\n\nLayout = loader('chaplin/views/layout');\n\nComposer = loader('chaplin/composer');\n\nRouter = loader('chaplin/lib/router');\n\nEventBroker = loader('chaplin/lib/event_broker');\n\nmodule.exports = Application = (function() {\n\n  Application.extend = Backbone.Model.extend;\n\n  _.extend(Application.prototype, EventBroker);\n\n  Application.prototype.title = '';\n\n  Application.prototype.dispatcher = null;\n\n  Application.prototype.layout = null;\n\n  Application.prototype.router = null;\n\n  Application.prototype.composer = null;\n\n  Application.prototype.started = false;\n\n  function Application(options) {\n    if (options == null) {\n      options = {};\n    }\n    this.initialize(options);\n  }\n\n  Application.prototype.initialize = function(options) {\n    if (options == null) {\n      options = {};\n    }\n    if (this.started) {\n      throw new Error('Application#initialize: App was already started');\n    }\n    this.initRouter(options.routes, options);\n    this.initDispatcher(options);\n    this.initLayout(options);\n    this.initComposer(options);\n    this.initMediator();\n    return this.start();\n  };\n\n  Application.prototype.initDispatcher = function(options) {\n    return this.dispatcher = new Dispatcher(options);\n  };\n\n  Application.prototype.initLayout = function(options) {\n    var _ref;\n    if (options == null) {\n      options = {};\n    }\n    if ((_ref = options.title) == null) {\n      options.title = this.title;\n    }\n    return this.layout = new Layout(options);\n  };\n\n  Application.prototype.initComposer = function(options) {\n    if (options == null) {\n      options = {};\n    }\n    return this.composer = new Composer(options);\n  };\n\n  Application.prototype.initMediator = function() {\n    return mediator.seal();\n  };\n\n  Application.prototype.initRouter = function(routes, options) {\n    this.router = new Router(options);\n    return typeof routes === \"function\" ? routes(this.router.match) : void 0;\n  };\n\n  Application.prototype.start = function() {\n    this.router.startHistory();\n    this.started = true;\n    return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n  };\n\n  Application.prototype.disposed = false;\n\n  Application.prototype.dispose = function() {\n    var frozen, prop, properties, _i, _len;\n    if (this.disposed) {\n      return;\n    }\n    frozen = typeof Object.isFrozen === \"function\" ? Object.isFrozen(this) : void 0;\n    properties = ['dispatcher', 'layout', 'router', 'composer'];\n    for (_i = 0, _len = properties.length; _i < _len; _i++) {\n      prop = properties[_i];\n      if (!(this[prop] != null)) {\n        continue;\n      }\n      this[prop].dispose();\n      if (!frozen) {\n        delete this[prop];\n      }\n    }\n    this.disposed = true;\n    return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n  };\n\n  return Application;\n\n})();\n\n});;loader.register('chaplin/mediator', function(e, r, module) {\n'use strict';\n\nvar Backbone, handlers, mediator, support, utils, _,\n  __slice = [].slice;\n\nBackbone = loader('backbone');\n\n_ = loader('underscore');\n\nsupport = loader('chaplin/lib/support');\n\nutils = loader('chaplin/lib/utils');\n\nmediator = {};\n\nmediator.subscribe = Backbone.Events.on;\n\nmediator.unsubscribe = Backbone.Events.off;\n\nmediator.publish = Backbone.Events.trigger;\n\nmediator._callbacks = null;\n\nhandlers = mediator._handlers = {};\n\nmediator.setHandler = function(name, method, instance) {\n  return handlers[name] = {\n    instance: instance,\n    method: method\n  };\n};\n\nmediator.execute = function() {\n  var args, handler, name, nameOrObj, silent;\n  nameOrObj = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n  silent = false;\n  if (typeof nameOrObj === 'object') {\n    silent = nameOrObj.silent;\n    name = nameOrObj.name;\n  } else {\n    name = nameOrObj;\n  }\n  handler = handlers[name];\n  if (handler) {\n    return handler.method.apply(handler.instance, args);\n  } else if (!silent) {\n    throw new Error(\"mediator.execute: \" + name + \" handler is not defined\");\n  }\n};\n\nmediator.removeHandlers = function(instanceOrNames) {\n  var handler, name, _i, _len;\n  if (!instanceOrNames) {\n    mediator._handlers = {};\n  }\n  if (utils.isArray(instanceOrNames)) {\n    for (_i = 0, _len = instanceOrNames.length; _i < _len; _i++) {\n      name = instanceOrNames[_i];\n      delete handlers[name];\n    }\n  } else {\n    for (name in handlers) {\n      handler = handlers[name];\n      if (handler.instance === instanceOrNames) {\n        delete handlers[name];\n      }\n    }\n  }\n};\n\nutils.readonly(mediator, 'subscribe', 'unsubscribe', 'publish', 'setHandler', 'execute', 'removeHandlers');\n\nmediator.seal = function() {\n  if (support.propertyDescriptors && Object.seal) {\n    return Object.seal(mediator);\n  }\n};\n\nutils.readonly(mediator, 'seal');\n\nmodule.exports = mediator;\n\n});;loader.register('chaplin/dispatcher', function(e, r, module) {\n'use strict';\n\nvar Backbone, Dispatcher, EventBroker, mediator, utils, _;\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nmediator = loader('chaplin/mediator');\n\nutils = loader('chaplin/lib/utils');\n\nEventBroker = loader('chaplin/lib/event_broker');\n\nmodule.exports = Dispatcher = (function() {\n\n  Dispatcher.extend = Backbone.Model.extend;\n\n  _.extend(Dispatcher.prototype, EventBroker);\n\n  Dispatcher.prototype.previousRoute = null;\n\n  Dispatcher.prototype.currentController = null;\n\n  Dispatcher.prototype.currentRoute = null;\n\n  Dispatcher.prototype.currentParams = null;\n\n  Dispatcher.prototype.currentQuery = null;\n\n  function Dispatcher() {\n    this.initialize.apply(this, arguments);\n  }\n\n  Dispatcher.prototype.initialize = function(options) {\n    if (options == null) {\n      options = {};\n    }\n    this.settings = _.defaults(options, {\n      controllerPath: 'controllers/',\n      controllerSuffix: '_controller'\n    });\n    return this.subscribeEvent('router:match', this.dispatch);\n  };\n\n  Dispatcher.prototype.dispatch = function(route, params, options) {\n    var _ref, _ref1,\n      _this = this;\n    params = params ? _.extend({}, params) : {};\n    options = options ? _.extend({}, options) : {};\n    if (!(options.query != null)) {\n      options.query = {};\n    }\n    if (options.changeURL !== false) {\n      options.changeURL = true;\n    }\n    if (options.forceStartup !== true) {\n      options.forceStartup = false;\n    }\n    if (!options.forceStartup && ((_ref = this.currentRoute) != null ? _ref.controller : void 0) === route.controller && ((_ref1 = this.currentRoute) != null ? _ref1.action : void 0) === route.action && _.isEqual(this.currentParams, params) && _.isEqual(this.currentQuery, options.query)) {\n      return;\n    }\n    return this.loadController(route.controller, function(Controller) {\n      return _this.controllerLoaded(route, params, options, Controller);\n    });\n  };\n\n  Dispatcher.prototype.loadController = function(name, handler) {\n    var fileName, moduleName;\n    fileName = name + this.settings.controllerSuffix;\n    moduleName = this.settings.controllerPath + fileName;\n    if (typeof define !== \"undefined\" && define !== null ? define.amd : void 0) {\n      return require([moduleName], handler);\n    } else {\n      return handler(require(moduleName));\n    }\n  };\n\n  Dispatcher.prototype.controllerLoaded = function(route, params, options, Controller) {\n    var controller;\n    this.previousRoute = this.currentRoute;\n    this.currentRoute = _.extend({}, route, {\n      previous: utils.beget(this.previousRoute)\n    });\n    controller = new Controller(params, this.currentRoute, options);\n    return this.executeBeforeAction(controller, this.currentRoute, params, options);\n  };\n\n  Dispatcher.prototype.executeAction = function(controller, route, params, options) {\n    if (this.currentController) {\n      this.publishEvent('beforeControllerDispose', this.currentController);\n      this.currentController.dispose(params, route, options);\n    }\n    this.currentController = controller;\n    this.currentParams = params;\n    this.currentQuery = options.query;\n    controller[route.action](params, route, options);\n    if (controller.redirected) {\n      return;\n    }\n    this.adjustURL(route, params, options);\n    return this.publishEvent('dispatcher:dispatch', this.currentController, params, route, options);\n  };\n\n  Dispatcher.prototype.executeBeforeAction = function(controller, route, params, options) {\n    var before, executeAction, promise,\n      _this = this;\n    before = controller.beforeAction;\n    executeAction = function() {\n      if (controller.redirected || _this.currentRoute && route !== _this.currentRoute) {\n        controller.dispose();\n        return;\n      }\n      return _this.executeAction(controller, route, params, options);\n    };\n    if (!before) {\n      executeAction();\n      return;\n    }\n    if (typeof before !== 'function') {\n      throw new TypeError('Controller#beforeAction: function expected. ' + 'Old object-like form is not supported.');\n    }\n    promise = controller.beforeAction(params, route, options);\n    if (promise && promise.then) {\n      return promise.then(executeAction);\n    } else {\n      return executeAction();\n    }\n  };\n\n  Dispatcher.prototype.adjustURL = function(route, params, options) {\n    var url;\n    if (route.path == null) {\n      return;\n    }\n    url = route.path + (route.query ? \"?\" + route.query : \"\");\n    if (options.changeURL) {\n      return mediator.execute('router:changeURL', url, options);\n    }\n  };\n\n  Dispatcher.prototype.disposed = false;\n\n  Dispatcher.prototype.dispose = function() {\n    if (this.disposed) {\n      return;\n    }\n    this.unsubscribeAllEvents();\n    this.disposed = true;\n    return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n  };\n\n  return Dispatcher;\n\n})();\n\n});;loader.register('chaplin/composer', function(e, r, module) {\n'use strict';\n\nvar Backbone, Composer, Composition, EventBroker, mediator, utils, _;\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nmediator = loader('chaplin/mediator');\n\nutils = loader('chaplin/lib/utils');\n\nComposition = loader('chaplin/lib/composition');\n\nEventBroker = loader('chaplin/lib/event_broker');\n\nmodule.exports = Composer = (function() {\n\n  Composer.extend = Backbone.Model.extend;\n\n  _.extend(Composer.prototype, EventBroker);\n\n  Composer.prototype.compositions = null;\n\n  function Composer() {\n    this.initialize.apply(this, arguments);\n  }\n\n  Composer.prototype.initialize = function(options) {\n    if (options == null) {\n      options = {};\n    }\n    this.compositions = {};\n    mediator.setHandler('composer:compose', this.compose, this);\n    mediator.setHandler('composer:retrieve', this.retrieve, this);\n    return this.subscribeEvent('dispatcher:dispatch', this.cleanup);\n  };\n\n  Composer.prototype.compose = function(name, second, third) {\n    if (typeof second === 'function') {\n      if (third || second.prototype.dispose) {\n        if (second.prototype instanceof Composition) {\n          return this._compose(name, {\n            composition: second,\n            options: third\n          });\n        } else {\n          return this._compose(name, {\n            options: third,\n            compose: function() {\n              var autoRender, disabledAutoRender;\n              this.item = new second(this.options);\n              autoRender = this.item.autoRender;\n              disabledAutoRender = autoRender === void 0 || !autoRender;\n              if (disabledAutoRender && typeof this.item.render === 'function') {\n                return this.item.render();\n              }\n            }\n          });\n        }\n      }\n      return this._compose(name, {\n        compose: second\n      });\n    }\n    if (typeof third === 'function') {\n      return this._compose(name, {\n        compose: third,\n        options: second\n      });\n    }\n    return this._compose(name, second);\n  };\n\n  Composer.prototype._compose = function(name, options) {\n    var composition, current, isPromise, returned;\n    if (typeof options.compose !== 'function' && !(options.composition != null)) {\n      throw new Error('Composer#compose was used incorrectly');\n    }\n    if (options.composition != null) {\n      composition = new options.composition(options.options);\n    } else {\n      composition = new Composition(options.options);\n      composition.compose = options.compose;\n      if (options.check) {\n        composition.check = options.check;\n      }\n    }\n    current = this.compositions[name];\n    isPromise = false;\n    if (current && current.check(composition.options)) {\n      current.stale(false);\n    } else {\n      if (current) {\n        current.dispose();\n      }\n      returned = composition.compose(composition.options);\n      isPromise = typeof (returned != null ? returned.then : void 0) === 'function';\n      composition.stale(false);\n      this.compositions[name] = composition;\n    }\n    if (isPromise) {\n      return returned;\n    } else {\n      return this.compositions[name].item;\n    }\n  };\n\n  Composer.prototype.retrieve = function(name) {\n    var active;\n    active = this.compositions[name];\n    if (active && !active.stale()) {\n      return active.item;\n    } else {\n      return void 0;\n    }\n  };\n\n  Composer.prototype.cleanup = function() {\n    var composition, name, _ref;\n    _ref = this.compositions;\n    for (name in _ref) {\n      composition = _ref[name];\n      if (composition.stale()) {\n        composition.dispose();\n        delete this.compositions[name];\n      } else {\n        composition.stale(true);\n      }\n    }\n  };\n\n  Composer.prototype.dispose = function() {\n    var composition, name, _ref;\n    if (this.disposed) {\n      return;\n    }\n    this.unsubscribeAllEvents();\n    mediator.removeHandlers(this);\n    _ref = this.compositions;\n    for (name in _ref) {\n      composition = _ref[name];\n      composition.dispose();\n    }\n    delete this.compositions;\n    this.disposed = true;\n    return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n  };\n\n  return Composer;\n\n})();\n\n});;loader.register('chaplin/controllers/controller', function(e, r, module) {\n'use strict';\n\nvar Backbone, Controller, EventBroker, helpers, mediator, _,\n  __slice = [].slice,\n  __hasProp = {}.hasOwnProperty;\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nEventBroker = loader('chaplin/lib/event_broker');\n\nhelpers = loader('chaplin/lib/helpers');\n\nmediator = loader('chaplin/mediator');\n\nmodule.exports = Controller = (function() {\n\n  Controller.extend = Backbone.Model.extend;\n\n  _.extend(Controller.prototype, Backbone.Events);\n\n  _.extend(Controller.prototype, EventBroker);\n\n  Controller.prototype.view = null;\n\n  Controller.prototype.redirected = false;\n\n  function Controller() {\n    this.initialize.apply(this, arguments);\n  }\n\n  Controller.prototype.initialize = function() {};\n\n  Controller.prototype.beforeAction = function() {};\n\n  Controller.prototype.adjustTitle = function(subtitle) {\n    return mediator.execute('adjustTitle', subtitle);\n  };\n\n  Controller.prototype.compose = function(name) {\n    var method;\n    method = arguments.length === 1 ? 'retrieve' : 'compose';\n    return mediator.execute.apply(mediator, [\"composer:\" + method].concat(__slice.call(arguments)));\n  };\n\n  Controller.prototype.redirectTo = function(pathDesc, params, options) {\n    this.redirected = true;\n    return helpers.redirectTo(pathDesc, params, options);\n  };\n\n  Controller.prototype.disposed = false;\n\n  Controller.prototype.dispose = function() {\n    var obj, prop;\n    if (this.disposed) {\n      return;\n    }\n    for (prop in this) {\n      if (!__hasProp.call(this, prop)) continue;\n      obj = this[prop];\n      if (!(obj && typeof obj.dispose === 'function')) {\n        continue;\n      }\n      obj.dispose();\n      delete this[prop];\n    }\n    this.unsubscribeAllEvents();\n    this.stopListening();\n    this.disposed = true;\n    return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n  };\n\n  return Controller;\n\n})();\n\n});;loader.register('chaplin/models/collection', function(e, r, module) {\n'use strict';\n\nvar Backbone, Collection, EventBroker, Model, utils, _,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nEventBroker = loader('chaplin/lib/event_broker');\n\nModel = loader('chaplin/models/model');\n\nutils = loader('chaplin/lib/utils');\n\nmodule.exports = Collection = (function(_super) {\n\n  __extends(Collection, _super);\n\n  function Collection() {\n    return Collection.__super__.constructor.apply(this, arguments);\n  }\n\n  _.extend(Collection.prototype, EventBroker);\n\n  Collection.prototype.model = Model;\n\n  Collection.prototype.serialize = function() {\n    return this.map(utils.serialize);\n  };\n\n  Collection.prototype.disposed = false;\n\n  Collection.prototype.dispose = function() {\n    var prop, properties, _i, _len;\n    if (this.disposed) {\n      return;\n    }\n    this.trigger('dispose', this);\n    this.reset([], {\n      silent: true\n    });\n    this.unsubscribeAllEvents();\n    this.stopListening();\n    this.off();\n    properties = ['model', 'models', '_byId', '_byCid', '_callbacks'];\n    for (_i = 0, _len = properties.length; _i < _len; _i++) {\n      prop = properties[_i];\n      delete this[prop];\n    }\n    this.disposed = true;\n    return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n  };\n\n  return Collection;\n\n})(Backbone.Collection);\n\n});;loader.register('chaplin/models/model', function(e, r, module) {\n'use strict';\n\nvar Backbone, EventBroker, Model, serializeAttributes, serializeModelAttributes, utils, _,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nutils = loader('chaplin/lib/utils');\n\nEventBroker = loader('chaplin/lib/event_broker');\n\nserializeAttributes = function(model, attributes, modelStack) {\n  var delegator, key, otherModel, serializedModels, value, _i, _len, _ref;\n  delegator = utils.beget(attributes);\n  if (modelStack == null) {\n    modelStack = {};\n  }\n  modelStack[model.cid] = true;\n  for (key in attributes) {\n    value = attributes[key];\n    if (value instanceof Backbone.Model) {\n      delegator[key] = serializeModelAttributes(value, model, modelStack);\n    } else if (value instanceof Backbone.Collection) {\n      serializedModels = [];\n      _ref = value.models;\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        otherModel = _ref[_i];\n        serializedModels.push(serializeModelAttributes(otherModel, model, modelStack));\n      }\n      delegator[key] = serializedModels;\n    }\n  }\n  delete modelStack[model.cid];\n  return delegator;\n};\n\nserializeModelAttributes = function(model, currentModel, modelStack) {\n  var attributes;\n  if (model === currentModel || model.cid in modelStack) {\n    return null;\n  }\n  attributes = typeof model.getAttributes === 'function' ? model.getAttributes() : model.attributes;\n  return serializeAttributes(model, attributes, modelStack);\n};\n\nmodule.exports = Model = (function(_super) {\n\n  __extends(Model, _super);\n\n  function Model() {\n    return Model.__super__.constructor.apply(this, arguments);\n  }\n\n  _.extend(Model.prototype, EventBroker);\n\n  Model.prototype.getAttributes = function() {\n    return this.attributes;\n  };\n\n  Model.prototype.serialize = function() {\n    return serializeAttributes(this, this.getAttributes());\n  };\n\n  Model.prototype.disposed = false;\n\n  Model.prototype.dispose = function() {\n    var prop, properties, _i, _len;\n    if (this.disposed) {\n      return;\n    }\n    this.trigger('dispose', this);\n    this.unsubscribeAllEvents();\n    this.stopListening();\n    this.off();\n    properties = ['collection', 'attributes', 'changed', '_escapedAttributes', '_previousAttributes', '_silent', '_pending', '_callbacks'];\n    for (_i = 0, _len = properties.length; _i < _len; _i++) {\n      prop = properties[_i];\n      delete this[prop];\n    }\n    this.disposed = true;\n    return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n  };\n\n  return Model;\n\n})(Backbone.Model);\n\n});;loader.register('chaplin/views/layout', function(e, r, module) {\n'use strict';\n\nvar $, Backbone, EventBroker, Layout, View, helpers, mediator, utils, _,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nmediator = loader('chaplin/mediator');\n\nhelpers = loader('chaplin/lib/helpers');\n\nutils = loader('chaplin/lib/utils');\n\nEventBroker = loader('chaplin/lib/event_broker');\n\nView = loader('chaplin/views/view');\n\n$ = Backbone.$;\n\nmodule.exports = Layout = (function(_super) {\n\n  __extends(Layout, _super);\n\n  Layout.prototype.el = 'body';\n\n  Layout.prototype.keepElement = true;\n\n  Layout.prototype.title = '';\n\n  Layout.prototype.globalRegions = null;\n\n  Layout.prototype.listen = {\n    'beforeControllerDispose mediator': 'scroll'\n  };\n\n  function Layout(options) {\n    if (options == null) {\n      options = {};\n    }\n    this.openLink = __bind(this.openLink, this);\n\n    this.globalRegions = [];\n    this.title = options.title;\n    if (options.regions) {\n      this.regions = options.regions;\n    }\n    this.settings = _.defaults(options, {\n      titleTemplate: function(data) {\n        var st;\n        st = data.subtitle ? \"\" + data.subtitle + \" \\u2013 \" : '';\n        return st + data.title;\n      },\n      openExternalToBlank: false,\n      routeLinks: 'a, .go-to',\n      skipRouting: '.noscript',\n      scrollTo: [0, 0]\n    });\n    mediator.setHandler('region:show', this.showRegion, this);\n    mediator.setHandler('region:register', this.registerRegionHandler, this);\n    mediator.setHandler('region:unregister', this.unregisterRegionHandler, this);\n    mediator.setHandler('region:find', this.regionByName, this);\n    mediator.setHandler('adjustTitle', this.adjustTitle, this);\n    Layout.__super__.constructor.apply(this, arguments);\n    if (this.settings.routeLinks) {\n      this.startLinkRouting();\n    }\n  }\n\n  Layout.prototype.scroll = function(controller) {\n    var position;\n    position = this.settings.scrollTo;\n    if (position) {\n      return window.scrollTo(position[0], position[1]);\n    }\n  };\n\n  Layout.prototype.adjustTitle = function(subtitle) {\n    var title,\n      _this = this;\n    if (subtitle == null) {\n      subtitle = '';\n    }\n    title = this.settings.titleTemplate({\n      title: this.title,\n      subtitle: subtitle\n    });\n    setTimeout(function() {\n      document.title = title;\n      return _this.publishEvent('adjustTitle', subtitle, title);\n    }, 50);\n    return title;\n  };\n\n  Layout.prototype.startLinkRouting = function() {\n    var route;\n    route = this.settings.routeLinks;\n    if (!route) {\n      return;\n    }\n    if ($) {\n      return this.$el.on('click', route, this.openLink);\n    } else {\n      return this.delegate('click', route, this.openLink);\n    }\n  };\n\n  Layout.prototype.stopLinkRouting = function() {\n    var route;\n    route = this.settings.routeLinks;\n    if ($) {\n      if (route) {\n        return this.$el.off('click', route);\n      }\n    } else {\n      return this.undelegate('click', route, this.openLink);\n    }\n  };\n\n  Layout.prototype.isExternalLink = function(link) {\n    var _ref, _ref1;\n    return link.target === '_blank' || link.rel === 'external' || ((_ref = link.protocol) !== 'http:' && _ref !== 'https:' && _ref !== 'file:') || ((_ref1 = link.hostname) !== location.hostname && _ref1 !== '');\n  };\n\n  Layout.prototype.openLink = function(event) {\n    var el, external, href, isAnchor, skipRouting, type;\n    if (utils.modifierKeyPressed(event)) {\n      return;\n    }\n    el = $ ? event.currentTarget : event.delegateTarget;\n    isAnchor = el.nodeName === 'A';\n    href = el.getAttribute('href') || el.getAttribute('data-href') || null;\n    if (!(href != null) || href === '' || href.charAt(0) === '#') {\n      return;\n    }\n    skipRouting = this.settings.skipRouting;\n    type = typeof skipRouting;\n    if (type === 'function' && !skipRouting(href, el) || type === 'string' && ($ ? $(el).is(skipRouting) : Backbone.utils.matchesSelector(el, skipRouting))) {\n      return;\n    }\n    external = isAnchor && this.isExternalLink(el);\n    if (external) {\n      if (this.settings.openExternalToBlank) {\n        event.preventDefault();\n        window.open(href);\n      }\n      return;\n    }\n    helpers.redirectTo({\n      url: href\n    });\n    event.preventDefault();\n  };\n\n  Layout.prototype.registerRegionHandler = function(instance, name, selector) {\n    if (name != null) {\n      return this.registerGlobalRegion(instance, name, selector);\n    } else {\n      return this.registerGlobalRegions(instance);\n    }\n  };\n\n  Layout.prototype.registerGlobalRegion = function(instance, name, selector) {\n    this.unregisterGlobalRegion(instance, name);\n    return this.globalRegions.unshift({\n      instance: instance,\n      name: name,\n      selector: selector\n    });\n  };\n\n  Layout.prototype.registerGlobalRegions = function(instance) {\n    var name, selector, version, _i, _len, _ref;\n    _ref = utils.getAllPropertyVersions(instance, 'regions');\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      version = _ref[_i];\n      for (name in version) {\n        selector = version[name];\n        this.registerGlobalRegion(instance, name, selector);\n      }\n    }\n  };\n\n  Layout.prototype.unregisterRegionHandler = function(instance, name) {\n    if (name != null) {\n      return this.unregisterGlobalRegion(instance, name);\n    } else {\n      return this.unregisterGlobalRegions(instance);\n    }\n  };\n\n  Layout.prototype.unregisterGlobalRegion = function(instance, name) {\n    var cid, region;\n    cid = instance.cid;\n    return this.globalRegions = (function() {\n      var _i, _len, _ref, _results;\n      _ref = this.globalRegions;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        region = _ref[_i];\n        if (region.instance.cid !== cid || region.name !== name) {\n          _results.push(region);\n        }\n      }\n      return _results;\n    }).call(this);\n  };\n\n  Layout.prototype.unregisterGlobalRegions = function(instance) {\n    var region;\n    return this.globalRegions = (function() {\n      var _i, _len, _ref, _results;\n      _ref = this.globalRegions;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        region = _ref[_i];\n        if (region.instance.cid !== instance.cid) {\n          _results.push(region);\n        }\n      }\n      return _results;\n    }).call(this);\n  };\n\n  Layout.prototype.regionByName = function(name) {\n    var reg, _i, _len, _ref;\n    _ref = this.globalRegions;\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      reg = _ref[_i];\n      if (reg.name === name && !reg.instance.stale) {\n        return reg;\n      }\n    }\n  };\n\n  Layout.prototype.showRegion = function(name, instance) {\n    var region;\n    region = this.regionByName(name);\n    if (!region) {\n      throw new Error(\"No region registered under \" + name);\n    }\n    return instance.container = region.selector === '' ? $ ? region.instance.$el : region.instance.el : region.instance.noWrap ? $ ? $(region.instance.container).find(region.selector) : region.instance.container.querySelector(region.selector) : region.instance[$ ? '$' : 'find'](region.selector);\n  };\n\n  Layout.prototype.dispose = function() {\n    var prop, _i, _len, _ref;\n    if (this.disposed) {\n      return;\n    }\n    this.stopLinkRouting();\n    _ref = ['globalRegions', 'title', 'route'];\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      prop = _ref[_i];\n      delete this[prop];\n    }\n    mediator.removeHandlers(this);\n    return Layout.__super__.dispose.apply(this, arguments);\n  };\n\n  return Layout;\n\n})(View);\n\n});;loader.register('chaplin/views/view', function(e, r, module) {\n'use strict';\n\nvar $, Backbone, EventBroker, View, attach, bind, mediator, setHTML, utils, _,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nmediator = loader('chaplin/mediator');\n\nEventBroker = loader('chaplin/lib/event_broker');\n\nutils = loader('chaplin/lib/utils');\n\n$ = Backbone.$;\n\nbind = (function() {\n  if (Function.prototype.bind) {\n    return function(item, ctx) {\n      return item.bind(ctx);\n    };\n  } else if (_.bind) {\n    return _.bind;\n  }\n})();\n\nsetHTML = (function() {\n  if ($) {\n    return function(elem, html) {\n      return elem.html(html);\n    };\n  } else {\n    return function(elem, html) {\n      return elem.innerHTML = html;\n    };\n  }\n})();\n\nattach = (function() {\n  if ($) {\n    return function(view) {\n      var actual;\n      actual = $(view.container);\n      if (typeof view.containerMethod === 'function') {\n        return view.containerMethod(actual, view.el);\n      } else {\n        return actual[view.containerMethod](view.el);\n      }\n    };\n  } else {\n    return function(view) {\n      var actual;\n      actual = typeof view.container === 'string' ? document.querySelector(view.container) : view.container;\n      if (typeof view.containerMethod === 'function') {\n        return view.containerMethod(actual, view.el);\n      } else {\n        return actual[view.containerMethod](view.el);\n      }\n    };\n  }\n})();\n\nmodule.exports = View = (function(_super) {\n\n  __extends(View, _super);\n\n  _.extend(View.prototype, EventBroker);\n\n  View.prototype.autoRender = false;\n\n  View.prototype.autoAttach = true;\n\n  View.prototype.container = null;\n\n  View.prototype.containerMethod = $ ? 'append' : 'appendChild';\n\n  View.prototype.regions = null;\n\n  View.prototype.region = null;\n\n  View.prototype.stale = false;\n\n  View.prototype.noWrap = false;\n\n  View.prototype.keepElement = false;\n\n  View.prototype.subviews = null;\n\n  View.prototype.subviewsByName = null;\n\n  View.prototype.optionNames = ['autoAttach', 'autoRender', 'container', 'containerMethod', 'region', 'regions', 'noWrap'];\n\n  function View(options) {\n    var optName, optValue, region, render,\n      _this = this;\n    if (options) {\n      for (optName in options) {\n        optValue = options[optName];\n        if (__indexOf.call(this.optionNames, optName) >= 0) {\n          this[optName] = optValue;\n        }\n      }\n    }\n    render = this.render;\n    this.render = function() {\n      if (_this.disposed) {\n        return false;\n      }\n      render.apply(_this, arguments);\n      if (_this.autoAttach) {\n        _this.attach.apply(_this, arguments);\n      }\n      return _this;\n    };\n    this.subviews = [];\n    this.subviewsByName = {};\n    if (this.noWrap) {\n      if (this.region) {\n        region = mediator.execute('region:find', this.region);\n        if (region != null) {\n          this.el = region.instance.container != null ? region.instance.region != null ? $(region.instance.container).find(region.selector) : region.instance.container : region.instance.$(region.selector);\n        }\n      }\n      if (this.container) {\n        this.el = this.container;\n      }\n    }\n    View.__super__.constructor.apply(this, arguments);\n    this.delegateListeners();\n    if (this.model) {\n      this.listenTo(this.model, 'dispose', this.dispose);\n    }\n    if (this.collection) {\n      this.listenTo(this.collection, 'dispose', function(subject) {\n        if (!subject || subject === _this.collection) {\n          return _this.dispose();\n        }\n      });\n    }\n    if (this.regions != null) {\n      mediator.execute('region:register', this);\n    }\n    if (this.autoRender) {\n      this.render();\n    }\n  }\n\n  View.prototype.delegate = function(eventName, second, third) {\n    var bound, event, events, handler, list, selector;\n    if (Backbone.View.prototype.delegate) {\n      return View.__super__.delegate.apply(this, arguments);\n    }\n    if (typeof eventName !== 'string') {\n      throw new TypeError('View#delegate: first argument must be a string');\n    }\n    if (arguments.length === 2) {\n      handler = second;\n    } else if (arguments.length === 3) {\n      selector = second;\n      if (typeof selector !== 'string') {\n        throw new TypeError('View#delegate: ' + 'second argument must be a string');\n      }\n      handler = third;\n    } else {\n      throw new TypeError('View#delegate: ' + 'only two or three arguments are allowed');\n    }\n    if (typeof handler !== 'function') {\n      throw new TypeError('View#delegate: ' + 'handler argument must be function');\n    }\n    list = (function() {\n      var _i, _len, _ref, _results;\n      _ref = eventName.split(' ');\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        event = _ref[_i];\n        _results.push(\"\" + event + \".delegate\" + this.cid);\n      }\n      return _results;\n    }).call(this);\n    events = list.join(' ');\n    bound = bind(handler, this);\n    this.$el.on(events, selector || null, bound);\n    return bound;\n  };\n\n  View.prototype._delegateEvents = function(events) {\n    var bound, eventName, handler, key, match, selector, value;\n    if (Backbone.View.prototype.delegateEvents.length === 2) {\n      return Backbone.View.prototype.delegateEvents.call(this, events, true);\n    }\n    for (key in events) {\n      value = events[key];\n      handler = typeof value === 'function' ? value : this[value];\n      if (!handler) {\n        throw new Error(\"Method '\" + handler + \"' does not exist\");\n      }\n      match = key.match(/^(\\S+)\\s*(.*)$/);\n      eventName = \"\" + match[1] + \".delegateEvents\" + this.cid;\n      selector = match[2];\n      bound = bind(handler, this);\n      this.$el.on(eventName, selector || null, bound);\n    }\n  };\n\n  View.prototype.delegateEvents = function(events, keepOld) {\n    var classEvents, _i, _len, _ref;\n    if (!keepOld) {\n      this.undelegateEvents();\n    }\n    if (events) {\n      return this._delegateEvents(events);\n    }\n    _ref = utils.getAllPropertyVersions(this, 'events');\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      classEvents = _ref[_i];\n      if (typeof classEvents === 'function') {\n        throw new TypeError('View#delegateEvents: functions are not supported');\n      }\n      this._delegateEvents(classEvents);\n    }\n  };\n\n  View.prototype.undelegate = function(eventName, second, third) {\n    var event, events, handler, list, selector;\n    if (Backbone.View.prototype.undelegate) {\n      return View.__super__.undelegate.apply(this, arguments);\n    }\n    if (eventName) {\n      if (typeof eventName !== 'string') {\n        throw new TypeError('View#undelegate: first argument must be a string');\n      }\n      if (arguments.length === 2) {\n        if (typeof second === 'string') {\n          selector = second;\n        } else {\n          handler = second;\n        }\n      } else if (arguments.length === 3) {\n        selector = second;\n        if (typeof selector !== 'string') {\n          throw new TypeError('View#undelegate: ' + 'second argument must be a string');\n        }\n        handler = third;\n      }\n      list = (function() {\n        var _i, _len, _ref, _results;\n        _ref = eventName.split(' ');\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          event = _ref[_i];\n          _results.push(\"\" + event + \".delegate\" + this.cid);\n        }\n        return _results;\n      }).call(this);\n      events = list.join(' ');\n      return this.$el.off(events, selector || null);\n    } else {\n      return this.$el.off(\".delegate\" + this.cid);\n    }\n  };\n\n  View.prototype.delegateListeners = function() {\n    var eventName, key, method, target, version, _i, _len, _ref, _ref1;\n    if (!this.listen) {\n      return;\n    }\n    _ref = utils.getAllPropertyVersions(this, 'listen');\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      version = _ref[_i];\n      for (key in version) {\n        method = version[key];\n        if (typeof method !== 'function') {\n          method = this[method];\n        }\n        if (typeof method !== 'function') {\n          throw new Error('View#delegateListeners: ' + (\"\" + method + \" must be function\"));\n        }\n        _ref1 = key.split(' '), eventName = _ref1[0], target = _ref1[1];\n        this.delegateListener(eventName, target, method);\n      }\n    }\n  };\n\n  View.prototype.delegateListener = function(eventName, target, callback) {\n    var prop;\n    if (target === 'model' || target === 'collection') {\n      prop = this[target];\n      if (prop) {\n        this.listenTo(prop, eventName, callback);\n      }\n    } else if (target === 'mediator') {\n      this.subscribeEvent(eventName, callback);\n    } else if (!target) {\n      this.on(eventName, callback, this);\n    }\n  };\n\n  View.prototype.registerRegion = function(name, selector) {\n    return mediator.execute('region:register', this, name, selector);\n  };\n\n  View.prototype.unregisterRegion = function(name) {\n    return mediator.execute('region:unregister', this, name);\n  };\n\n  View.prototype.unregisterAllRegions = function() {\n    return mediator.execute({\n      name: 'region:unregister',\n      silent: true\n    }, this);\n  };\n\n  View.prototype.subview = function(name, view) {\n    var byName, subviews;\n    subviews = this.subviews;\n    byName = this.subviewsByName;\n    if (name && view) {\n      this.removeSubview(name);\n      subviews.push(view);\n      byName[name] = view;\n      return view;\n    } else if (name) {\n      return byName[name];\n    }\n  };\n\n  View.prototype.removeSubview = function(nameOrView) {\n    var byName, index, name, otherName, otherView, subviews, view;\n    if (!nameOrView) {\n      return;\n    }\n    subviews = this.subviews;\n    byName = this.subviewsByName;\n    if (typeof nameOrView === 'string') {\n      name = nameOrView;\n      view = byName[name];\n    } else {\n      view = nameOrView;\n      for (otherName in byName) {\n        otherView = byName[otherName];\n        if (!(otherView === view)) {\n          continue;\n        }\n        name = otherName;\n        break;\n      }\n    }\n    if (!(name && view && view.dispose)) {\n      return;\n    }\n    view.dispose();\n    index = utils.indexOf(subviews, view);\n    if (index !== -1) {\n      subviews.splice(index, 1);\n    }\n    return delete byName[name];\n  };\n\n  View.prototype.getTemplateData = function() {\n    var data, source;\n    data = this.model ? utils.serialize(this.model) : this.collection ? {\n      items: utils.serialize(this.collection),\n      length: this.collection.length\n    } : {};\n    source = this.model || this.collection;\n    if (source) {\n      if (typeof source.isSynced === 'function' && !('synced' in data)) {\n        data.synced = source.isSynced();\n      }\n    }\n    return data;\n  };\n\n  View.prototype.getTemplateFunction = function() {\n    throw new Error('View#getTemplateFunction must be overridden');\n  };\n\n  View.prototype.render = function() {\n    var el, html, templateFunc;\n    if (this.disposed) {\n      return false;\n    }\n    templateFunc = this.getTemplateFunction();\n    if (typeof templateFunc === 'function') {\n      html = templateFunc(this.getTemplateData());\n      if (this.noWrap) {\n        el = document.createElement('div');\n        el.innerHTML = html;\n        if (el.children.length > 1) {\n          throw new Error('There must be a single top-level element when ' + 'using `noWrap`.');\n        }\n        this.undelegateEvents();\n        this.setElement(el.firstChild, true);\n      } else {\n        setHTML(($ ? this.$el : this.el), html);\n      }\n    }\n    return this;\n  };\n\n  View.prototype.attach = function() {\n    if (this.region != null) {\n      mediator.execute('region:show', this.region, this);\n    }\n    if (this.container && !document.body.contains(this.el)) {\n      attach(this);\n      return this.trigger('addedToDOM');\n    }\n  };\n\n  View.prototype.disposed = false;\n\n  View.prototype.dispose = function() {\n    var prop, properties, subview, _i, _j, _len, _len1, _ref;\n    if (this.disposed) {\n      return;\n    }\n    this.unregisterAllRegions();\n    _ref = this.subviews;\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      subview = _ref[_i];\n      subview.dispose();\n    }\n    this.unsubscribeAllEvents();\n    this.off();\n    if (this.keepElement) {\n      this.undelegateEvents();\n      this.undelegate();\n      this.stopListening();\n    } else {\n      this.remove();\n    }\n    properties = ['el', '$el', 'options', 'model', 'collection', 'subviews', 'subviewsByName', '_callbacks'];\n    for (_j = 0, _len1 = properties.length; _j < _len1; _j++) {\n      prop = properties[_j];\n      delete this[prop];\n    }\n    this.disposed = true;\n    return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n  };\n\n  return View;\n\n})(Backbone.View);\n\n});;loader.register('chaplin/views/collection_view', function(e, r, module) {\n'use strict';\n\nvar $, Backbone, CollectionView, View, addClass, endAnimation, filterChildren, insertView, startAnimation, toggleElement, utils, _,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nView = loader('chaplin/views/view');\n\nutils = loader('chaplin/lib/utils');\n\n$ = Backbone.$;\n\nfilterChildren = function(nodeList, selector) {\n  var node, _i, _len, _results;\n  if (!selector) {\n    return nodeList;\n  }\n  _results = [];\n  for (_i = 0, _len = nodeList.length; _i < _len; _i++) {\n    node = nodeList[_i];\n    if (Backbone.utils.matchesSelector(node, selector)) {\n      _results.push(node);\n    }\n  }\n  return _results;\n};\n\ntoggleElement = (function() {\n  if ($) {\n    return function(elem, visible) {\n      return elem.toggle(visible);\n    };\n  } else {\n    return function(elem, visible) {\n      return elem.style.display = (visible ? '' : 'none');\n    };\n  }\n})();\n\naddClass = (function() {\n  if ($) {\n    return function(elem, cls) {\n      return elem.addClass(cls);\n    };\n  } else {\n    return function(elem, cls) {\n      return elem.classList.add(cls);\n    };\n  }\n})();\n\nstartAnimation = (function() {\n  if ($) {\n    return function(elem, useCssAnimation, cls) {\n      if (useCssAnimation) {\n        return addClass(elem, cls);\n      } else {\n        return elem.css('opacity', 0);\n      }\n    };\n  } else {\n    return function(elem, useCssAnimation, cls) {\n      if (useCssAnimation) {\n        return addClass(elem, cls);\n      } else {\n        return elem.style.opacity = 0;\n      }\n    };\n  }\n})();\n\nendAnimation = (function() {\n  if ($) {\n    return function(elem, duration) {\n      return elem.animate({\n        opacity: 1\n      }, duration);\n    };\n  } else {\n    return function(elem, duration) {\n      elem.style.transition = \"opacity \" + (duration / 1000) + \"s\";\n      return elem.opacity = 1;\n    };\n  }\n})();\n\ninsertView = (function() {\n  if ($) {\n    return function(list, viewEl, position, length, itemSelector) {\n      var children, childrenLength, insertInMiddle, isEnd, method;\n      insertInMiddle = (0 < position && position < length);\n      isEnd = function(length) {\n        return length === 0 || position === length;\n      };\n      if (insertInMiddle || itemSelector) {\n        children = list.children(itemSelector);\n        childrenLength = children.length;\n        if (children[position] !== viewEl) {\n          if (isEnd(childrenLength)) {\n            return list.append(viewEl);\n          } else {\n            if (position === 0) {\n              return children.eq(position).before(viewEl);\n            } else {\n              return children.eq(position - 1).after(viewEl);\n            }\n          }\n        }\n      } else {\n        method = isEnd(length) ? 'append' : 'prepend';\n        return list[method](viewEl);\n      }\n    };\n  } else {\n    return function(list, viewEl, position, length, itemSelector) {\n      var children, childrenLength, insertInMiddle, isEnd, last;\n      insertInMiddle = (0 < position && position < length);\n      isEnd = function(length) {\n        return length === 0 || position === length;\n      };\n      if (insertInMiddle || itemSelector) {\n        children = filterChildren(list.children, itemSelector);\n        childrenLength = children.length;\n        if (children[position] !== viewEl) {\n          if (isEnd(childrenLength)) {\n            return list.appendChild(viewEl);\n          } else if (position === 0) {\n            return list.insertBefore(viewEl, children[position]);\n          } else {\n            last = children[position - 1];\n            if (list.lastChild === last) {\n              return list.appendChild(viewEl);\n            } else {\n              return list.insertBefore(viewEl, last.nextElementSibling);\n            }\n          }\n        }\n      } else if (isEnd(length)) {\n        return list.appendChild(viewEl);\n      } else {\n        return list.insertBefore(viewEl, list.firstChild);\n      }\n    };\n  }\n})();\n\nmodule.exports = CollectionView = (function(_super) {\n\n  __extends(CollectionView, _super);\n\n  CollectionView.prototype.itemView = null;\n\n  CollectionView.prototype.autoRender = true;\n\n  CollectionView.prototype.renderItems = true;\n\n  CollectionView.prototype.animationDuration = 500;\n\n  CollectionView.prototype.useCssAnimation = false;\n\n  CollectionView.prototype.animationStartClass = 'animated-item-view';\n\n  CollectionView.prototype.animationEndClass = 'animated-item-view-end';\n\n  CollectionView.prototype.listSelector = null;\n\n  CollectionView.prototype.$list = null;\n\n  CollectionView.prototype.fallbackSelector = null;\n\n  CollectionView.prototype.$fallback = null;\n\n  CollectionView.prototype.loadingSelector = null;\n\n  CollectionView.prototype.$loading = null;\n\n  CollectionView.prototype.itemSelector = void 0;\n\n  CollectionView.prototype.filterer = null;\n\n  CollectionView.prototype.filterCallback = function(view, included) {\n    if ($) {\n      view.$el.stop(true, true);\n    }\n    return toggleElement(($ ? view.$el : view.el), included);\n  };\n\n  CollectionView.prototype.visibleItems = null;\n\n  CollectionView.prototype.optionNames = View.prototype.optionNames.concat(['renderItems', 'itemView']);\n\n  function CollectionView(options) {\n    this.renderAllItems = __bind(this.renderAllItems, this);\n\n    this.toggleFallback = __bind(this.toggleFallback, this);\n\n    this.itemsReset = __bind(this.itemsReset, this);\n\n    this.itemRemoved = __bind(this.itemRemoved, this);\n\n    this.itemAdded = __bind(this.itemAdded, this);\n    this.visibleItems = [];\n    CollectionView.__super__.constructor.apply(this, arguments);\n  }\n\n  CollectionView.prototype.initialize = function(options) {\n    if (options == null) {\n      options = {};\n    }\n    this.addCollectionListeners();\n    if (options.filterer != null) {\n      return this.filter(options.filterer);\n    }\n  };\n\n  CollectionView.prototype.addCollectionListeners = function() {\n    this.listenTo(this.collection, 'add', this.itemAdded);\n    this.listenTo(this.collection, 'remove', this.itemRemoved);\n    return this.listenTo(this.collection, 'reset sort', this.itemsReset);\n  };\n\n  CollectionView.prototype.getTemplateData = function() {\n    var templateData;\n    templateData = {\n      length: this.collection.length\n    };\n    if (typeof this.collection.isSynced === 'function') {\n      templateData.synced = this.collection.isSynced();\n    }\n    return templateData;\n  };\n\n  CollectionView.prototype.getTemplateFunction = function() {};\n\n  CollectionView.prototype.render = function() {\n    CollectionView.__super__.render.apply(this, arguments);\n    if ($) {\n      this.$list = this.listSelector ? this.$(this.listSelector) : this.$el;\n    } else {\n      this.list = this.listSelector ? this.find(this.listSelector) : this.el;\n    }\n    this.initFallback();\n    this.initLoadingIndicator();\n    if (this.renderItems) {\n      return this.renderAllItems();\n    }\n  };\n\n  CollectionView.prototype.itemAdded = function(item, collection, options) {\n    return this.insertView(item, this.renderItem(item), options.at);\n  };\n\n  CollectionView.prototype.itemRemoved = function(item) {\n    return this.removeViewForItem(item);\n  };\n\n  CollectionView.prototype.itemsReset = function() {\n    return this.renderAllItems();\n  };\n\n  CollectionView.prototype.initFallback = function() {\n    if (!this.fallbackSelector) {\n      return;\n    }\n    if ($) {\n      this.$fallback = this.$(this.fallbackSelector);\n    } else {\n      this.fallback = this.find(this.fallbackSelector);\n    }\n    this.on('visibilityChange', this.toggleFallback);\n    this.listenTo(this.collection, 'syncStateChange', this.toggleFallback);\n    return this.toggleFallback();\n  };\n\n  CollectionView.prototype.toggleFallback = function() {\n    var visible;\n    visible = this.visibleItems.length === 0 && (typeof this.collection.isSynced === 'function' ? this.collection.isSynced() : true);\n    return toggleElement(($ ? this.$fallback : this.fallback), visible);\n  };\n\n  CollectionView.prototype.initLoadingIndicator = function() {\n    if (!(this.loadingSelector && typeof this.collection.isSyncing === 'function')) {\n      return;\n    }\n    if ($) {\n      this.$loading = this.$(this.loadingSelector);\n    } else {\n      this.loading = this.find(this.loadingSelector);\n    }\n    this.listenTo(this.collection, 'syncStateChange', this.toggleLoadingIndicator);\n    return this.toggleLoadingIndicator();\n  };\n\n  CollectionView.prototype.toggleLoadingIndicator = function() {\n    var visible;\n    visible = this.collection.length === 0 && this.collection.isSyncing();\n    return toggleElement(($ ? this.$loading : this.loading), visible);\n  };\n\n  CollectionView.prototype.getItemViews = function() {\n    var itemViews, name, view, _ref;\n    itemViews = {};\n    if (this.subviews.length > 0) {\n      _ref = this.subviewsByName;\n      for (name in _ref) {\n        view = _ref[name];\n        if (name.slice(0, 9) === 'itemView:') {\n          itemViews[name.slice(9)] = view;\n        }\n      }\n    }\n    return itemViews;\n  };\n\n  CollectionView.prototype.filter = function(filterer, filterCallback) {\n    var hasItemViews, included, index, item, view, _i, _len, _ref,\n      _this = this;\n    this.filterer = filterer;\n    if (filterCallback) {\n      this.filterCallback = filterCallback;\n    }\n    if (filterCallback == null) {\n      filterCallback = this.filterCallback;\n    }\n    hasItemViews = (function() {\n      var name;\n      if (_this.subviews.length > 0) {\n        for (name in _this.subviewsByName) {\n          if (name.slice(0, 9) === 'itemView:') {\n            return true;\n          }\n        }\n      }\n      return false;\n    })();\n    if (hasItemViews) {\n      _ref = this.collection.models;\n      for (index = _i = 0, _len = _ref.length; _i < _len; index = ++_i) {\n        item = _ref[index];\n        included = typeof filterer === 'function' ? filterer(item, index) : true;\n        view = this.subview(\"itemView:\" + item.cid);\n        if (!view) {\n          throw new Error('CollectionView#filter: ' + (\"no view found for \" + item.cid));\n        }\n        this.filterCallback(view, included);\n        this.updateVisibleItems(view.model, included, false);\n      }\n    }\n    return this.trigger('visibilityChange', this.visibleItems);\n  };\n\n  CollectionView.prototype.renderAllItems = function() {\n    var cid, index, item, items, remainingViewsByCid, view, _i, _j, _len, _len1, _ref;\n    items = this.collection.models;\n    this.visibleItems = [];\n    remainingViewsByCid = {};\n    for (_i = 0, _len = items.length; _i < _len; _i++) {\n      item = items[_i];\n      view = this.subview(\"itemView:\" + item.cid);\n      if (view) {\n        remainingViewsByCid[item.cid] = view;\n      }\n    }\n    _ref = this.getItemViews();\n    for (cid in _ref) {\n      if (!__hasProp.call(_ref, cid)) continue;\n      view = _ref[cid];\n      if (!(cid in remainingViewsByCid)) {\n        this.removeSubview(\"itemView:\" + cid);\n      }\n    }\n    for (index = _j = 0, _len1 = items.length; _j < _len1; index = ++_j) {\n      item = items[index];\n      view = this.subview(\"itemView:\" + item.cid);\n      if (view) {\n        this.insertView(item, view, index, false);\n      } else {\n        this.insertView(item, this.renderItem(item), index);\n      }\n    }\n    if (items.length === 0) {\n      return this.trigger('visibilityChange', this.visibleItems);\n    }\n  };\n\n  CollectionView.prototype.renderItem = function(item) {\n    var view;\n    view = this.subview(\"itemView:\" + item.cid);\n    if (!view) {\n      view = this.initItemView(item);\n      this.subview(\"itemView:\" + item.cid, view);\n    }\n    view.render();\n    return view;\n  };\n\n  CollectionView.prototype.initItemView = function(model) {\n    if (this.itemView) {\n      return new this.itemView({\n        autoRender: false,\n        model: model\n      });\n    } else {\n      throw new Error('The CollectionView#itemView property ' + 'must be defined or the initItemView() must be overridden.');\n    }\n  };\n\n  CollectionView.prototype.insertView = function(item, view, position, enableAnimation) {\n    var elem, included, length, list,\n      _this = this;\n    if (enableAnimation == null) {\n      enableAnimation = true;\n    }\n    if (this.animationDuration === 0) {\n      enableAnimation = false;\n    }\n    if (typeof position !== 'number') {\n      position = this.collection.indexOf(item);\n    }\n    included = typeof this.filterer === 'function' ? this.filterer(item, position) : true;\n    elem = $ ? view.$el : view.el;\n    if (included && enableAnimation) {\n      startAnimation(elem, this.useCssAnimation, this.animationStartClass);\n    }\n    if (this.filterer) {\n      this.filterCallback(view, included);\n    }\n    length = this.collection.length;\n    list = $ ? this.$list : this.list;\n    insertView(list, elem, position, length, this.itemSelector);\n    view.trigger('addedToParent');\n    this.updateVisibleItems(item, included);\n    if (included && enableAnimation) {\n      if (this.useCssAnimation) {\n        setTimeout((function() {\n          return addClass(elem, _this.animationEndClass);\n        }), 0);\n      } else {\n        endAnimation(elem, this.animationDuration);\n      }\n    }\n    return view;\n  };\n\n  CollectionView.prototype.removeViewForItem = function(item) {\n    this.updateVisibleItems(item, false);\n    return this.removeSubview(\"itemView:\" + item.cid);\n  };\n\n  CollectionView.prototype.updateVisibleItems = function(item, includedInFilter, triggerEvent) {\n    var includedInVisibleItems, visibilityChanged, visibleItemsIndex;\n    if (triggerEvent == null) {\n      triggerEvent = true;\n    }\n    visibilityChanged = false;\n    visibleItemsIndex = utils.indexOf(this.visibleItems, item);\n    includedInVisibleItems = visibleItemsIndex !== -1;\n    if (includedInFilter && !includedInVisibleItems) {\n      this.visibleItems.push(item);\n      visibilityChanged = true;\n    } else if (!includedInFilter && includedInVisibleItems) {\n      this.visibleItems.splice(visibleItemsIndex, 1);\n      visibilityChanged = true;\n    }\n    if (visibilityChanged && triggerEvent) {\n      this.trigger('visibilityChange', this.visibleItems);\n    }\n    return visibilityChanged;\n  };\n\n  CollectionView.prototype.dispose = function() {\n    var prop, properties, _i, _len;\n    if (this.disposed) {\n      return;\n    }\n    properties = ['$list', '$fallback', '$loading', 'visibleItems'];\n    for (_i = 0, _len = properties.length; _i < _len; _i++) {\n      prop = properties[_i];\n      delete this[prop];\n    }\n    return CollectionView.__super__.dispose.apply(this, arguments);\n  };\n\n  return CollectionView;\n\n})(View);\n\n});;loader.register('chaplin/lib/route', function(e, r, module) {\n'use strict';\n\nvar Backbone, Controller, EventBroker, Route, utils, _,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty;\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nEventBroker = loader('chaplin/lib/event_broker');\n\nController = loader('chaplin/controllers/controller');\n\nutils = loader('chaplin/lib/utils');\n\nmodule.exports = Route = (function() {\n  var escapeRegExp;\n\n  Route.extend = Backbone.Model.extend;\n\n  _.extend(Route.prototype, EventBroker);\n\n  escapeRegExp = /[-[\\]{}()+?.,\\\\^$|#\\s]/g;\n\n  function Route(pattern, controller, action, options) {\n    var _ref;\n    this.pattern = pattern;\n    this.controller = controller;\n    this.action = action;\n    this.handler = __bind(this.handler, this);\n\n    this.addParamName = __bind(this.addParamName, this);\n\n    if (typeof this.pattern !== 'string') {\n      throw new Error('Route: RegExps are not supported.\\\n        Use strings with :names and `constraints` option of route');\n    }\n    this.options = options ? _.extend({}, options) : {};\n    if (this.options.name != null) {\n      this.name = this.options.name;\n    }\n    if (this.name && this.name.indexOf('#') !== -1) {\n      throw new Error('Route: \"#\" cannot be used in name');\n    }\n    if ((_ref = this.name) == null) {\n      this.name = this.controller + '#' + this.action;\n    }\n    this.paramNames = [];\n    if (this.action in Controller.prototype) {\n      throw new Error('Route: You should not use existing controller ' + 'properties as action names');\n    }\n    this.createRegExp();\n    if (typeof Object.freeze === \"function\") {\n      Object.freeze(this);\n    }\n  }\n\n  Route.prototype.matches = function(criteria) {\n    var invalidParamsCount, name, propertiesCount, property, _i, _len, _ref;\n    if (typeof criteria === 'string') {\n      return criteria === this.name;\n    } else {\n      propertiesCount = 0;\n      _ref = ['name', 'action', 'controller'];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        name = _ref[_i];\n        propertiesCount++;\n        property = criteria[name];\n        if (property && property !== this[name]) {\n          return false;\n        }\n      }\n      invalidParamsCount = propertiesCount === 1 && (name === 'action' || name === 'controller');\n      return !invalidParamsCount;\n    }\n  };\n\n  Route.prototype.reverse = function(params, query) {\n    var name, queryString, url, value, _i, _len, _ref;\n    params = this.normalizeParams(params);\n    if (params === false) {\n      return false;\n    }\n    url = this.pattern;\n    _ref = this.paramNames;\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      name = _ref[_i];\n      value = params[name];\n      url = url.replace(RegExp(\"[:*]\" + name, \"g\"), value);\n    }\n    if (!query) {\n      return url;\n    }\n    if (typeof query === 'object') {\n      queryString = utils.queryParams.stringify(query);\n      return url += queryString ? '?' + queryString : '';\n    } else {\n      return url += (query[0] === '?' ? '' : '?') + query;\n    }\n  };\n\n  Route.prototype.normalizeParams = function(params) {\n    var paramIndex, paramName, paramsHash, _i, _len, _ref;\n    if (utils.isArray(params)) {\n      if (params.length < this.paramNames.length) {\n        return false;\n      }\n      paramsHash = {};\n      _ref = this.paramNames;\n      for (paramIndex = _i = 0, _len = _ref.length; _i < _len; paramIndex = ++_i) {\n        paramName = _ref[paramIndex];\n        paramsHash[paramName] = params[paramIndex];\n      }\n      if (!this.testConstraints(paramsHash)) {\n        return false;\n      }\n      params = paramsHash;\n    } else {\n      if (params == null) {\n        params = {};\n      }\n      if (!this.testParams(params)) {\n        return false;\n      }\n    }\n    return params;\n  };\n\n  Route.prototype.testConstraints = function(params) {\n    var constraint, constraints, name;\n    constraints = this.options.constraints;\n    if (constraints) {\n      for (name in constraints) {\n        if (!__hasProp.call(constraints, name)) continue;\n        constraint = constraints[name];\n        if (!constraint.test(params[name])) {\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n\n  Route.prototype.testParams = function(params) {\n    var paramName, _i, _len, _ref;\n    _ref = this.paramNames;\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      paramName = _ref[_i];\n      if (params[paramName] === void 0) {\n        return false;\n      }\n    }\n    return this.testConstraints(params);\n  };\n\n  Route.prototype.createRegExp = function() {\n    var pattern;\n    pattern = this.pattern.replace(escapeRegExp, '\\\\$&').replace(/(?::|\\*)(\\w+)/g, this.addParamName);\n    return this.regExp = RegExp(\"^\" + pattern + \"(?=\\\\?|$)\");\n  };\n\n  Route.prototype.addParamName = function(match, paramName) {\n    this.paramNames.push(paramName);\n    if (match.charAt(0) === ':') {\n      return '([^\\/\\?]+)';\n    } else {\n      return '(.*?)';\n    }\n  };\n\n  Route.prototype.test = function(path) {\n    var constraints, matched;\n    matched = this.regExp.test(path);\n    if (!matched) {\n      return false;\n    }\n    constraints = this.options.constraints;\n    if (constraints) {\n      return this.testConstraints(this.extractParams(path));\n    }\n    return true;\n  };\n\n  Route.prototype.handler = function(pathParams, options) {\n    var actionParams, params, path, query, route, _ref;\n    options = options ? _.extend({}, options) : {};\n    if (typeof pathParams === 'object') {\n      query = utils.queryParams.stringify(options.query);\n      params = pathParams;\n      path = this.reverse(params);\n    } else {\n      _ref = pathParams.split('?'), path = _ref[0], query = _ref[1];\n      if (!(query != null)) {\n        query = '';\n      } else {\n        options.query = utils.queryParams.parse(query);\n      }\n      params = this.extractParams(path);\n    }\n    actionParams = _.extend({}, params, this.options.params);\n    route = {\n      path: path,\n      action: this.action,\n      controller: this.controller,\n      name: this.name,\n      query: query\n    };\n    return this.publishEvent('router:match', route, actionParams, options);\n  };\n\n  Route.prototype.extractParams = function(path) {\n    var index, match, matches, paramName, params, _i, _len, _ref;\n    params = {};\n    matches = this.regExp.exec(path);\n    _ref = matches.slice(1);\n    for (index = _i = 0, _len = _ref.length; _i < _len; index = ++_i) {\n      match = _ref[index];\n      paramName = this.paramNames.length ? this.paramNames[index] : index;\n      params[paramName] = match;\n    }\n    return params;\n  };\n\n  return Route;\n\n})();\n\n});;loader.register('chaplin/lib/router', function(e, r, module) {\n'use strict';\n\nvar Backbone, EventBroker, History, Route, Router, mediator, utils, _,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nmediator = loader('chaplin/mediator');\n\nEventBroker = loader('chaplin/lib/event_broker');\n\nHistory = loader('chaplin/lib/history');\n\nRoute = loader('chaplin/lib/route');\n\nutils = loader('chaplin/lib/utils');\n\nmodule.exports = Router = (function() {\n\n  Router.extend = Backbone.Model.extend;\n\n  _.extend(Router.prototype, EventBroker);\n\n  function Router(options) {\n    var isWebFile;\n    this.options = options != null ? options : {};\n    this.match = __bind(this.match, this);\n\n    isWebFile = window.location.protocol !== 'file:';\n    _.defaults(this.options, {\n      pushState: isWebFile,\n      root: '/'\n    });\n    this.removeRoot = new RegExp('^' + utils.escapeRegExp(this.options.root) + '(#)?');\n    this.subscribeEvent('!router:route', this.oldEventError);\n    this.subscribeEvent('!router:routeByName', this.oldEventError);\n    this.subscribeEvent('!router:changeURL', this.oldURLEventError);\n    mediator.setHandler('router:route', this.route, this);\n    mediator.setHandler('router:reverse', this.reverse, this);\n    mediator.setHandler('router:changeURL', this.changeURL, this);\n    this.createHistory();\n  }\n\n  Router.prototype.oldEventError = function() {\n    throw new Error('!router:route and !router:routeByName events were removed.\\\n  Use `Chaplin.helpers.redirectTo`');\n  };\n\n  Router.prototype.oldURLEventError = function() {\n    throw new Error('!router:changeURL event was removed.\\\n  Use mediator.execute(\"router:changeURL\")');\n  };\n\n  Router.prototype.createHistory = function() {\n    return Backbone.history = new History();\n  };\n\n  Router.prototype.startHistory = function() {\n    return Backbone.history.start(this.options);\n  };\n\n  Router.prototype.stopHistory = function() {\n    if (Backbone.History.started) {\n      return Backbone.history.stop();\n    }\n  };\n\n  Router.prototype.findHandler = function(predicate) {\n    var handler, _i, _len, _ref;\n    _ref = Backbone.history.handlers;\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      handler = _ref[_i];\n      if (predicate(handler)) {\n        return handler;\n      }\n    }\n  };\n\n  Router.prototype.match = function(pattern, target, options) {\n    var action, controller, route, _ref;\n    if (options == null) {\n      options = {};\n    }\n    if (arguments.length === 2 && typeof target === 'object') {\n      options = target;\n      controller = options.controller, action = options.action;\n      if (!(controller && action)) {\n        throw new Error('Router#match must receive either target or ' + 'options.controller & options.action');\n      }\n    } else {\n      controller = options.controller, action = options.action;\n      if (controller || action) {\n        throw new Error('Router#match cannot use both target and ' + 'options.controller / options.action');\n      }\n      _ref = target.split('#'), controller = _ref[0], action = _ref[1];\n    }\n    route = new Route(pattern, controller, action, options);\n    Backbone.history.handlers.push({\n      route: route,\n      callback: route.handler\n    });\n    return route;\n  };\n\n  Router.prototype.route = function(pathDesc, params, options) {\n    var handler, path;\n    params = params ? utils.isArray(params) ? params.slice() : _.extend({}, params) : {};\n    if (typeof pathDesc === 'object') {\n      path = pathDesc.url;\n    }\n    if (path != null) {\n      path = path.replace(this.removeRoot, '');\n      handler = this.findHandler(function(handler) {\n        return handler.route.test(path);\n      });\n      options = params;\n      params = null;\n    } else {\n      options = options ? _.extend({}, options) : {};\n      handler = this.findHandler(function(handler) {\n        if (handler.route.matches(pathDesc)) {\n          params = handler.route.normalizeParams(params);\n          if (params) {\n            return true;\n          }\n        }\n        return false;\n      });\n    }\n    if (handler) {\n      _.defaults(options, {\n        changeURL: true\n      });\n      handler.callback(path || params, options);\n      return true;\n    } else {\n      throw new Error('Router#route: request was not routed');\n    }\n  };\n\n  Router.prototype.reverse = function(criteria, params, query) {\n    var handler, handlers, reversed, root, url, _i, _len;\n    root = this.options.root;\n    if ((params != null) && typeof params !== 'object') {\n      throw new TypeError('Router#reverse: params must be an array or an ' + 'object');\n    }\n    handlers = Backbone.history.handlers;\n    for (_i = 0, _len = handlers.length; _i < _len; _i++) {\n      handler = handlers[_i];\n      if (!(handler.route.matches(criteria))) {\n        continue;\n      }\n      reversed = handler.route.reverse(params, query);\n      if (reversed !== false) {\n        url = root ? root + reversed : reversed;\n        return url;\n      }\n    }\n    throw new Error('Router#reverse: invalid route specified');\n  };\n\n  Router.prototype.changeURL = function(url, options) {\n    var navigateOptions;\n    if (options == null) {\n      options = {};\n    }\n    navigateOptions = {\n      trigger: options.trigger === true,\n      replace: options.replace === true\n    };\n    return Backbone.history.navigate(url, navigateOptions);\n  };\n\n  Router.prototype.disposed = false;\n\n  Router.prototype.dispose = function() {\n    if (this.disposed) {\n      return;\n    }\n    this.stopHistory();\n    delete Backbone.history;\n    this.unsubscribeAllEvents();\n    mediator.removeHandlers(this);\n    this.disposed = true;\n    return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n  };\n\n  return Router;\n\n})();\n\n});;loader.register('chaplin/lib/history', function(e, r, module) {\n'use strict';\n\nvar Backbone, History, isExplorer, rootStripper, routeStripper, trailingSlash, _,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nrouteStripper = /^[#\\/]|\\s+$/g;\n\nrootStripper = /^\\/+|\\/+$/g;\n\nisExplorer = /msie [\\w.]+/;\n\ntrailingSlash = /\\/$/;\n\nHistory = (function(_super) {\n\n  __extends(History, _super);\n\n  function History() {\n    return History.__super__.constructor.apply(this, arguments);\n  }\n\n  History.prototype.getFragment = function(fragment, forcePushState) {\n    var root;\n    if (!(fragment != null)) {\n      if (this._hasPushState || !this._wantsHashChange || forcePushState) {\n        fragment = this.location.pathname + this.location.search;\n        root = this.root.replace(trailingSlash, '');\n        if (!fragment.indexOf(root)) {\n          fragment = fragment.substr(root.length);\n        }\n      } else {\n        fragment = this.getHash();\n      }\n    }\n    return fragment.replace(routeStripper, '');\n  };\n\n  History.prototype.start = function(options) {\n    var atRoot, fragment, loc;\n    if (Backbone.History.started) {\n      throw new Error('Backbone.history has already been started');\n    }\n    Backbone.History.started = true;\n    this.options = _.extend({}, {\n      root: '/'\n    }, this.options, options);\n    this.root = this.options.root;\n    this._wantsHashChange = this.options.hashChange !== false;\n    this._wantsPushState = Boolean(this.options.pushState);\n    this._hasPushState = Boolean(this.options.pushState && this.history && this.history.pushState);\n    fragment = this.getFragment();\n    this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n    if (this._hasPushState) {\n      Backbone.$(window).on('popstate', this.checkUrl);\n    } else if (this._wantsHashChange && 'onhashchange' in window) {\n      Backbone.$(window).on('hashchange', this.checkUrl);\n    } else if (this._wantsHashChange) {\n      this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n    }\n    this.fragment = fragment;\n    loc = this.location;\n    atRoot = loc.pathname.replace(/[^\\/]$/, '$&/') === this.root;\n    if (this._wantsHashChange && this._wantsPushState && !this._hasPushState && !atRoot) {\n      this.fragment = this.getFragment(null, true);\n      this.location.replace(this.root + '#' + this.fragment);\n      return true;\n    } else if (this._wantsPushState && this._hasPushState && atRoot && loc.hash) {\n      this.fragment = this.getHash().replace(routeStripper, '');\n      this.history.replaceState({}, document.title, this.root + this.fragment);\n    }\n    if (!this.options.silent) {\n      return this.loadUrl();\n    }\n  };\n\n  return History;\n\n})(Backbone.History);\n\nmodule.exports = Backbone.$ ? History : Backbone.History;\n\n});;loader.register('chaplin/lib/delayer', function(e, r, module) {\n'use strict';\n\nvar Delayer;\n\nDelayer = {\n  setTimeout: function(name, time, handler) {\n    var handle, wrappedHandler, _ref,\n      _this = this;\n    if ((_ref = this.timeouts) == null) {\n      this.timeouts = {};\n    }\n    this.clearTimeout(name);\n    wrappedHandler = function() {\n      delete _this.timeouts[name];\n      return handler();\n    };\n    handle = setTimeout(wrappedHandler, time);\n    this.timeouts[name] = handle;\n    return handle;\n  },\n  clearTimeout: function(name) {\n    if (!(this.timeouts && (this.timeouts[name] != null))) {\n      return;\n    }\n    clearTimeout(this.timeouts[name]);\n    delete this.timeouts[name];\n  },\n  clearAllTimeouts: function() {\n    var handle, name, _ref;\n    if (!this.timeouts) {\n      return;\n    }\n    _ref = this.timeouts;\n    for (name in _ref) {\n      handle = _ref[name];\n      this.clearTimeout(name);\n    }\n  },\n  setInterval: function(name, time, handler) {\n    var handle, _ref;\n    this.clearInterval(name);\n    if ((_ref = this.intervals) == null) {\n      this.intervals = {};\n    }\n    handle = setInterval(handler, time);\n    this.intervals[name] = handle;\n    return handle;\n  },\n  clearInterval: function(name) {\n    if (!(this.intervals && this.intervals[name])) {\n      return;\n    }\n    clearInterval(this.intervals[name]);\n    delete this.intervals[name];\n  },\n  clearAllIntervals: function() {\n    var handle, name, _ref;\n    if (!this.intervals) {\n      return;\n    }\n    _ref = this.intervals;\n    for (name in _ref) {\n      handle = _ref[name];\n      this.clearInterval(name);\n    }\n  },\n  clearDelayed: function() {\n    this.clearAllTimeouts();\n    this.clearAllIntervals();\n  }\n};\n\nif (typeof Object.freeze === \"function\") {\n  Object.freeze(Delayer);\n}\n\nmodule.exports = Delayer;\n\n});;loader.register('chaplin/lib/event_broker', function(e, r, module) {\n'use strict';\n\nvar EventBroker, mediator,\n  __slice = [].slice;\n\nmediator = loader('chaplin/mediator');\n\nEventBroker = {\n  subscribeEvent: function(type, handler) {\n    if (typeof type !== 'string') {\n      throw new TypeError('EventBroker#subscribeEvent: ' + 'type argument must be a string');\n    }\n    if (typeof handler !== 'function') {\n      throw new TypeError('EventBroker#subscribeEvent: ' + 'handler argument must be a function');\n    }\n    mediator.unsubscribe(type, handler, this);\n    return mediator.subscribe(type, handler, this);\n  },\n  unsubscribeEvent: function(type, handler) {\n    if (typeof type !== 'string') {\n      throw new TypeError('EventBroker#unsubscribeEvent: ' + 'type argument must be a string');\n    }\n    if (typeof handler !== 'function') {\n      throw new TypeError('EventBroker#unsubscribeEvent: ' + 'handler argument must be a function');\n    }\n    return mediator.unsubscribe(type, handler);\n  },\n  unsubscribeAllEvents: function() {\n    return mediator.unsubscribe(null, null, this);\n  },\n  publishEvent: function() {\n    var args, type;\n    type = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n    if (typeof type !== 'string') {\n      throw new TypeError('EventBroker#publishEvent: ' + 'type argument must be a string');\n    }\n    return mediator.publish.apply(mediator, [type].concat(__slice.call(args)));\n  }\n};\n\nif (typeof Object.freeze === \"function\") {\n  Object.freeze(EventBroker);\n}\n\nmodule.exports = EventBroker;\n\n});;loader.register('chaplin/lib/support', function(e, r, module) {\n'use strict';\n\nvar support;\n\nsupport = {\n  propertyDescriptors: (function() {\n    var o;\n    if (!(typeof Object.defineProperty === 'function' && typeof Object.defineProperties === 'function')) {\n      return false;\n    }\n    try {\n      o = {};\n      Object.defineProperty(o, 'foo', {\n        value: 'bar'\n      });\n      return o.foo === 'bar';\n    } catch (error) {\n      return false;\n    }\n  })()\n};\n\nmodule.exports = support;\n\n});;loader.register('chaplin/lib/composition', function(e, r, module) {\n'use strict';\n\nvar Backbone, Composition, EventBroker, has, _,\n  __hasProp = {}.hasOwnProperty;\n\n_ = loader('underscore');\n\nBackbone = loader('backbone');\n\nEventBroker = loader('chaplin/lib/event_broker');\n\nhas = Object.prototype.hasOwnProperty;\n\nmodule.exports = Composition = (function() {\n\n  Composition.extend = Backbone.Model.extend;\n\n  _.extend(Composition.prototype, Backbone.Events);\n\n  _.extend(Composition.prototype, EventBroker);\n\n  Composition.prototype.item = null;\n\n  Composition.prototype.options = null;\n\n  Composition.prototype._stale = false;\n\n  function Composition(options) {\n    if (options != null) {\n      this.options = _.extend({}, options);\n    }\n    this.item = this;\n    this.initialize(this.options);\n  }\n\n  Composition.prototype.initialize = function() {};\n\n  Composition.prototype.compose = function() {};\n\n  Composition.prototype.check = function(options) {\n    return _.isEqual(this.options, options);\n  };\n\n  Composition.prototype.stale = function(value) {\n    var item, name;\n    if (value == null) {\n      return this._stale;\n    }\n    this._stale = value;\n    for (name in this) {\n      item = this[name];\n      if (item && item !== this && typeof item === 'object' && has.call(item, 'stale')) {\n        item.stale = value;\n      }\n    }\n  };\n\n  Composition.prototype.disposed = false;\n\n  Composition.prototype.dispose = function() {\n    var obj, prop, properties, _i, _len;\n    if (this.disposed) {\n      return;\n    }\n    for (prop in this) {\n      if (!__hasProp.call(this, prop)) continue;\n      obj = this[prop];\n      if (obj && typeof obj.dispose === 'function') {\n        if (obj !== this) {\n          obj.dispose();\n          delete this[prop];\n        }\n      }\n    }\n    this.unsubscribeAllEvents();\n    this.stopListening();\n    properties = ['redirected'];\n    for (_i = 0, _len = properties.length; _i < _len; _i++) {\n      prop = properties[_i];\n      delete this[prop];\n    }\n    this.disposed = true;\n    return typeof Object.freeze === \"function\" ? Object.freeze(this) : void 0;\n  };\n\n  return Composition;\n\n})();\n\n});;loader.register('chaplin/lib/sync_machine', function(e, r, module) {\n'use strict';\n\nvar STATE_CHANGE, SYNCED, SYNCING, SyncMachine, UNSYNCED, event, _fn, _i, _len, _ref;\n\nUNSYNCED = 'unsynced';\n\nSYNCING = 'syncing';\n\nSYNCED = 'synced';\n\nSTATE_CHANGE = 'syncStateChange';\n\nSyncMachine = {\n  _syncState: UNSYNCED,\n  _previousSyncState: null,\n  syncState: function() {\n    return this._syncState;\n  },\n  isUnsynced: function() {\n    return this._syncState === UNSYNCED;\n  },\n  isSynced: function() {\n    return this._syncState === SYNCED;\n  },\n  isSyncing: function() {\n    return this._syncState === SYNCING;\n  },\n  unsync: function() {\n    var _ref;\n    if ((_ref = this._syncState) === SYNCING || _ref === SYNCED) {\n      this._previousSync = this._syncState;\n      this._syncState = UNSYNCED;\n      this.trigger(this._syncState, this, this._syncState);\n      this.trigger(STATE_CHANGE, this, this._syncState);\n    }\n  },\n  beginSync: function() {\n    var _ref;\n    if ((_ref = this._syncState) === UNSYNCED || _ref === SYNCED) {\n      this._previousSync = this._syncState;\n      this._syncState = SYNCING;\n      this.trigger(this._syncState, this, this._syncState);\n      this.trigger(STATE_CHANGE, this, this._syncState);\n    }\n  },\n  finishSync: function() {\n    if (this._syncState === SYNCING) {\n      this._previousSync = this._syncState;\n      this._syncState = SYNCED;\n      this.trigger(this._syncState, this, this._syncState);\n      this.trigger(STATE_CHANGE, this, this._syncState);\n    }\n  },\n  abortSync: function() {\n    if (this._syncState === SYNCING) {\n      this._syncState = this._previousSync;\n      this._previousSync = this._syncState;\n      this.trigger(this._syncState, this, this._syncState);\n      this.trigger(STATE_CHANGE, this, this._syncState);\n    }\n  }\n};\n\n_ref = [UNSYNCED, SYNCING, SYNCED, STATE_CHANGE];\n_fn = function(event) {\n  return SyncMachine[event] = function(callback, context) {\n    if (context == null) {\n      context = this;\n    }\n    this.on(event, callback, context);\n    if (this._syncState === event) {\n      return callback.call(context);\n    }\n  };\n};\nfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\n  event = _ref[_i];\n  _fn(event);\n}\n\nif (typeof Object.freeze === \"function\") {\n  Object.freeze(SyncMachine);\n}\n\nmodule.exports = SyncMachine;\n\n});;loader.register('chaplin/lib/utils', function(e, r, module) {\n'use strict';\n\nvar support, utils, _,\n  __slice = [].slice,\n  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },\n  __hasProp = {}.hasOwnProperty;\n\n_ = loader('underscore');\n\nsupport = loader('chaplin/lib/support');\n\nutils = {\n  beget: (function() {\n    var ctor;\n    if (typeof Object.create === 'function') {\n      return Object.create;\n    } else {\n      ctor = function() {};\n      return function(obj) {\n        ctor.prototype = obj;\n        return new ctor;\n      };\n    }\n  })(),\n  indexOf: (function() {\n    if (Array.prototype.indexOf) {\n      return function(list, index) {\n        return list.indexOf(index);\n      };\n    } else if (_.indexOf) {\n      return _.indexOf;\n    }\n  })(),\n  isArray: Array.isArray || _.isArray,\n  serialize: function(data) {\n    if (typeof data.serialize === 'function') {\n      return data.serialize();\n    } else if (typeof data.toJSON === 'function') {\n      return data.toJSON();\n    } else {\n      throw new TypeError('utils.serialize: Unknown data was passed');\n    }\n  },\n  readonly: (function() {\n    var readonlyDescriptor;\n    if (support.propertyDescriptors) {\n      readonlyDescriptor = {\n        writable: false,\n        enumerable: true,\n        configurable: false\n      };\n      return function() {\n        var obj, prop, properties, _i, _len;\n        obj = arguments[0], properties = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n        for (_i = 0, _len = properties.length; _i < _len; _i++) {\n          prop = properties[_i];\n          readonlyDescriptor.value = obj[prop];\n          Object.defineProperty(obj, prop, readonlyDescriptor);\n        }\n        return true;\n      };\n    } else {\n      return function() {\n        return false;\n      };\n    }\n  })(),\n  getPrototypeChain: function(object) {\n    var chain, _ref, _ref1, _ref2;\n    chain = [object.constructor.prototype];\n    while (object = (_ref = (_ref1 = object.constructor) != null ? _ref1.__super__ : void 0) != null ? _ref : (_ref2 = object.constructor) != null ? _ref2.superclass : void 0) {\n      chain.push(object);\n    }\n    return chain.reverse();\n  },\n  getAllPropertyVersions: function(object, property) {\n    var proto, result, value, _i, _len, _ref;\n    result = [];\n    _ref = utils.getPrototypeChain(object);\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      proto = _ref[_i];\n      value = proto[property];\n      if (value && __indexOf.call(result, value) < 0) {\n        result.push(value);\n      }\n    }\n    return result;\n  },\n  upcase: function(str) {\n    return str.charAt(0).toUpperCase() + str.substring(1);\n  },\n  escapeRegExp: function(str) {\n    return String(str || '').replace(/([.*+?^=!:${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  },\n  modifierKeyPressed: function(event) {\n    return event.shiftKey || event.altKey || event.ctrlKey || event.metaKey;\n  },\n  queryParams: {\n    stringify: function(queryParams) {\n      var arrParam, encodedKey, key, query, stringifyKeyValuePair, value, _i, _len;\n      query = '';\n      stringifyKeyValuePair = function(encodedKey, value) {\n        if (value != null) {\n          return '&' + encodedKey + '=' + encodeURIComponent(value);\n        } else {\n          return '';\n        }\n      };\n      for (key in queryParams) {\n        if (!__hasProp.call(queryParams, key)) continue;\n        value = queryParams[key];\n        encodedKey = encodeURIComponent(key);\n        if (utils.isArray(value)) {\n          for (_i = 0, _len = value.length; _i < _len; _i++) {\n            arrParam = value[_i];\n            query += stringifyKeyValuePair(encodedKey, arrParam);\n          }\n        } else {\n          query += stringifyKeyValuePair(encodedKey, value);\n        }\n      }\n      return query && query.substring(1);\n    },\n    parse: function(queryString) {\n      var current, field, pair, pairs, params, value, _i, _len, _ref;\n      params = {};\n      if (!queryString) {\n        return params;\n      }\n      pairs = queryString.split('&');\n      for (_i = 0, _len = pairs.length; _i < _len; _i++) {\n        pair = pairs[_i];\n        if (!pair.length) {\n          continue;\n        }\n        _ref = pair.split('='), field = _ref[0], value = _ref[1];\n        if (!field.length) {\n          continue;\n        }\n        field = decodeURIComponent(field);\n        value = decodeURIComponent(value);\n        current = params[field];\n        if (current) {\n          if (current.push) {\n            current.push(value);\n          } else {\n            params[field] = [current, value];\n          }\n        } else {\n          params[field] = value;\n        }\n      }\n      return params;\n    }\n  }\n};\n\nif (typeof Object.seal === \"function\") {\n  Object.seal(utils);\n}\n\nmodule.exports = utils;\n\n});;loader.register('chaplin/lib/helpers', function(e, r, module) {\n'use strict';\n\nvar helpers, mediator;\n\nmediator = loader('chaplin/mediator');\n\nhelpers = {\n  reverse: function(criteria, params, query) {\n    return mediator.execute('router:reverse', criteria, params, query);\n  },\n  redirectTo: function(pathDesc, params, options) {\n    return mediator.execute('router:route', pathDesc, params, options);\n  }\n};\n\nmodule.exports = helpers;\n\n});;loader.register('chaplin', function(e, r, module) {\n\nmodule.exports = {\n  Application: loader('chaplin/application'),\n  mediator: loader('chaplin/mediator'),\n  Dispatcher: loader('chaplin/dispatcher'),\n  Controller: loader('chaplin/controllers/controller'),\n  Composer: loader('chaplin/composer'),\n  Composition: loader('chaplin/lib/composition'),\n  Collection: loader('chaplin/models/collection'),\n  Model: loader('chaplin/models/model'),\n  Layout: loader('chaplin/views/layout'),\n  View: loader('chaplin/views/view'),\n  CollectionView: loader('chaplin/views/collection_view'),\n  Route: loader('chaplin/lib/route'),\n  Router: loader('chaplin/lib/router'),\n  Delayer: loader('chaplin/lib/delayer'),\n  EventBroker: loader('chaplin/lib/event_broker'),\n  helpers: loader('chaplin/lib/helpers'),\n  support: loader('chaplin/lib/support'),\n  SyncMachine: loader('chaplin/lib/sync_machine'),\n  utils: loader('chaplin/lib/utils')\n};\n\n});\nvar regDeps = function(Backbone, _) {\n  loader.register('backbone', function(exports, require, module) {\n    module.exports = Backbone;\n  });\n  loader.register('underscore', function(exports, require, module) {\n    module.exports = _;\n  });\n};\n\nif (typeof define === 'function' && define.amd) {\n  define(['backbone', 'underscore'], function(Backbone, _) {\n    regDeps(Backbone, _);\n    return loader('chaplin');\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  regDeps(require('backbone'), require('underscore'));\n  module.exports = loader('chaplin');\n} else if (typeof require === 'function') {\n  regDeps(window.Backbone, window._ || window.Backbone.utils);\n  window.Chaplin = loader('chaplin');\n} else {\n  throw new Error('Chaplin requires Common.js or AMD modules');\n}\n\n})();","/**\n * Backbone Forms v0.13.0\n *\n * Copyright (c) 2013 Charles Davison, Pow Media Ltd\n *\n * License and more information at:\n * http://github.com/powmedia/backbone-forms\n */\n;(function(root) {\n\n  //DEPENDENCIES\n  //CommonJS\n  if (typeof exports !== 'undefined' && typeof require !== 'undefined') {\n    var $ = root.jQuery || root.Zepto || root.ender || require('jquery'),\n        _ = root._ || require('underscore'),\n        Backbone = root.Backbone || require('backbone');\n  }\n\n  //Browser\n  else {\n    var $ = root.jQuery,\n        _ = root._,\n        Backbone = root.Backbone;\n  }\n\n\n  //SOURCE\n  //==================================================================================================\n//FORM\n//==================================================================================================\n\nvar Form = Backbone.View.extend({\n\n  /**\n   * Constructor\n   *\n   * @param {Object} [options.schema]\n   * @param {Backbone.Model} [options.model]\n   * @param {Object} [options.data]\n   * @param {String[]|Object[]} [options.fieldsets]\n   * @param {String[]} [options.fields]\n   * @param {String} [options.idPrefix]\n   * @param {Form.Field} [options.Field]\n   * @param {Form.Fieldset} [options.Fieldset]\n   * @param {Function} [options.template]\n   */\n  initialize: function(options) {\n    var self = this;\n\n    options = options || {};\n\n    //Find the schema to use\n    var schema = this.schema = (function() {\n      //Prefer schema from options\n      if (options.schema) return _.result(options, 'schema');\n\n      //Then schema on model\n      var model = options.model;\n      if (model && model.schema) {\n        return (_.isFunction(model.schema)) ? model.schema() : model.schema;\n      }\n\n      //Then built-in schema\n      if (self.schema) {\n        return (_.isFunction(self.schema)) ? self.schema() : self.schema;\n      }\n\n      //Fallback to empty schema\n      return {};\n    })();\n\n    //Store important data\n    _.extend(this, _.pick(options, 'model', 'data', 'idPrefix', 'templateData'));\n\n    //Override defaults\n    var constructor = this.constructor;\n    this.template = options.template || this.template || constructor.template;\n    this.Fieldset = options.Fieldset || this.Fieldset || constructor.Fieldset;\n    this.Field = options.Field || this.Field || constructor.Field;\n    this.NestedField = options.NestedField || this.NestedField || constructor.NestedField;\n\n    //Check which fields will be included (defaults to all)\n    var selectedFields = this.selectedFields = options.fields || _.keys(schema);\n\n    //Create fields\n    var fields = this.fields = {};\n\n    _.each(selectedFields, function(key) {\n      var fieldSchema = schema[key];\n      fields[key] = this.createField(key, fieldSchema);\n    }, this);\n\n    //Create fieldsets\n    var fieldsetSchema = options.fieldsets || [selectedFields],\n        fieldsets = this.fieldsets = [];\n\n    _.each(fieldsetSchema, function(itemSchema) {\n      this.fieldsets.push(this.createFieldset(itemSchema));\n    }, this);\n  },\n\n  /**\n   * Creates a Fieldset instance\n   *\n   * @param {String[]|Object[]} schema       Fieldset schema\n   *\n   * @return {Form.Fieldset}\n   */\n  createFieldset: function(schema) {\n    var options = {\n      schema: schema,\n      fields: this.fields\n    };\n\n    return new this.Fieldset(options);\n  },\n\n  /**\n   * Creates a Field instance\n   *\n   * @param {String} key\n   * @param {Object} schema       Field schema\n   *\n   * @return {Form.Field}\n   */\n  createField: function(key, schema) {\n    var options = {\n      form: this,\n      key: key,\n      schema: schema,\n      idPrefix: this.idPrefix\n    };\n\n    if (this.model) {\n      options.model = this.model;\n    } else if (this.data) {\n      options.value = this.data[key];\n    } else {\n      options.value = null;\n    }\n\n    var field = new this.Field(options);\n\n    this.listenTo(field.editor, 'all', this.handleEditorEvent);\n\n    return field;\n  },\n\n  /**\n   * Callback for when an editor event is fired.\n   * Re-triggers events on the form as key:event and triggers additional form-level events\n   *\n   * @param {String} event\n   * @param {Editor} editor\n   */\n  handleEditorEvent: function(event, editor) {\n    //Re-trigger editor events on the form\n    var formEvent = editor.key+':'+event;\n\n    this.trigger.call(this, formEvent, this, editor, Array.prototype.slice.call(arguments, 2));\n\n    //Trigger additional events\n    switch (event) {\n      case 'change':\n        this.trigger('change', this);\n        break;\n\n      case 'focus':\n        if (!this.hasFocus) this.trigger('focus', this);\n        break;\n\n      case 'blur':\n        if (this.hasFocus) {\n          //TODO: Is the timeout etc needed?\n          var self = this;\n          setTimeout(function() {\n            var focusedField = _.find(self.fields, function(field) {\n              return field.editor.hasFocus;\n            });\n\n            if (!focusedField) self.trigger('blur', self);\n          }, 0);\n        }\n        break;\n    }\n  },\n\n  render: function() {\n    var self = this,\n        fields = this.fields;\n\n    //Render form\n    var $form = $($.trim(this.template(_.result(this, 'templateData'))));\n\n    //Render standalone editors\n    $form.find('[data-editors]').add($form).each(function(i, el) {\n      var $container = $(el),\n          selection = $container.attr('data-editors');\n\n      if (_.isUndefined(selection)) return;\n\n      //Work out which fields to include\n      var keys = (selection == '*')\n        ? self.selectedFields || _.keys(fields)\n        : selection.split(',');\n\n      //Add them\n      _.each(keys, function(key) {\n        var field = fields[key];\n\n        $container.append(field.editor.render().el);\n      });\n    });\n\n    //Render standalone fields\n    $form.find('[data-fields]').add($form).each(function(i, el) {\n      var $container = $(el),\n          selection = $container.attr('data-fields');\n\n      if (_.isUndefined(selection)) return;\n\n      //Work out which fields to include\n      var keys = (selection == '*')\n        ? self.selectedFields || _.keys(fields)\n        : selection.split(',');\n\n      //Add them\n      _.each(keys, function(key) {\n        var field = fields[key];\n\n        $container.append(field.render().el);\n      });\n    });\n\n    //Render fieldsets\n    $form.find('[data-fieldsets]').add($form).each(function(i, el) {\n      var $container = $(el),\n          selection = $container.attr('data-fieldsets');\n\n      if (_.isUndefined(selection)) return;\n\n      _.each(self.fieldsets, function(fieldset) {\n        $container.append(fieldset.render().el);\n      });\n    });\n\n    //Set the main element\n    this.setElement($form);\n\n    //Set class\n    $form.addClass(this.className);\n\n    return this;\n  },\n\n  /**\n   * Validate the data\n   *\n   * @return {Object}       Validation errors\n   */\n  validate: function(options) {\n    var self = this,\n        fields = this.fields,\n        model = this.model,\n        errors = {};\n\n    options = options || {};\n\n    //Collect errors from schema validation\n    _.each(fields, function(field) {\n      var error = field.validate();\n      if (error) {\n        errors[field.key] = error;\n      }\n    });\n\n    //Get errors from default Backbone model validator\n    if (!options.skipModelValidate && model && model.validate) {\n      var modelErrors = model.validate(this.getValue());\n\n      if (modelErrors) {\n        var isDictionary = _.isObject(modelErrors) && !_.isArray(modelErrors);\n\n        //If errors are not in object form then just store on the error object\n        if (!isDictionary) {\n          errors._others = errors._others || [];\n          errors._others.push(modelErrors);\n        }\n\n        //Merge programmatic errors (requires model.validate() to return an object e.g. { fieldKey: 'error' })\n        if (isDictionary) {\n          _.each(modelErrors, function(val, key) {\n            //Set error on field if there isn't one already\n            if (fields[key] && !errors[key]) {\n              fields[key].setError(val);\n              errors[key] = val;\n            }\n\n            else {\n              //Otherwise add to '_others' key\n              errors._others = errors._others || [];\n              var tmpErr = {};\n              tmpErr[key] = val;\n              errors._others.push(tmpErr);\n            }\n          });\n        }\n      }\n    }\n\n    return _.isEmpty(errors) ? null : errors;\n  },\n\n  /**\n   * Update the model with all latest values.\n   *\n   * @param {Object} [options]  Options to pass to Model#set (e.g. { silent: true })\n   *\n   * @return {Object}  Validation errors\n   */\n  commit: function(options) {\n    //Validate\n    options = options || {};\n\n    var validateOptions = {\n        skipModelValidate: !options.validate\n    };\n\n    var errors = this.validate(validateOptions);\n    if (errors) return errors;\n\n    //Commit\n    var modelError;\n\n    var setOptions = _.extend({\n      error: function(model, e) {\n        modelError = e;\n      }\n    }, options);\n\n    this.model.set(this.getValue(), setOptions);\n\n    if (modelError) return modelError;\n  },\n\n  /**\n   * Get all the field values as an object.\n   * Use this method when passing data instead of objects\n   *\n   * @param {String} [key]    Specific field value to get\n   */\n  getValue: function(key) {\n    //Return only given key if specified\n    if (key) return this.fields[key].getValue();\n\n    //Otherwise return entire form\n    var values = {};\n    _.each(this.fields, function(field) {\n      values[field.key] = field.getValue();\n    });\n\n    return values;\n  },\n\n  /**\n   * Update field values, referenced by key\n   *\n   * @param {Object|String} key     New values to set, or property to set\n   * @param val                     Value to set\n   */\n  setValue: function(prop, val) {\n    var data = {};\n    if (typeof prop === 'string') {\n      data[prop] = val;\n    } else {\n      data = prop;\n    }\n\n    var key;\n    for (key in this.schema) {\n      if (data[key] !== undefined) {\n        this.fields[key].setValue(data[key]);\n      }\n    }\n  },\n\n  /**\n   * Returns the editor for a given field key\n   *\n   * @param {String} key\n   *\n   * @return {Editor}\n   */\n  getEditor: function(key) {\n    var field = this.fields[key];\n    if (!field) throw new Error('Field not found: '+key);\n\n    return field.editor;\n  },\n\n  /**\n   * Gives the first editor in the form focus\n   */\n  focus: function() {\n    if (this.hasFocus) return;\n\n    //Get the first field\n    var fieldset = this.fieldsets[0],\n        field = fieldset.getFieldAt(0);\n\n    if (!field) return;\n\n    //Set focus\n    field.editor.focus();\n  },\n\n  /**\n   * Removes focus from the currently focused editor\n   */\n  blur: function() {\n    if (!this.hasFocus) return;\n\n    var focusedField = _.find(this.fields, function(field) {\n      return field.editor.hasFocus;\n    });\n\n    if (focusedField) focusedField.editor.blur();\n  },\n\n  /**\n   * Manages the hasFocus property\n   *\n   * @param {String} event\n   */\n  trigger: function(event) {\n    if (event === 'focus') {\n      this.hasFocus = true;\n    }\n    else if (event === 'blur') {\n      this.hasFocus = false;\n    }\n\n    return Backbone.View.prototype.trigger.apply(this, arguments);\n  },\n\n  /**\n   * Override default remove function in order to remove embedded views\n   *\n   * TODO: If editors are included directly with data-editors=\"x\", they need to be removed\n   * May be best to use XView to manage adding/removing views\n   */\n  remove: function() {\n    _.each(this.fieldsets, function(fieldset) {\n      fieldset.remove();\n    });\n\n    _.each(this.fields, function(field) {\n      field.remove();\n    });\n\n    return Backbone.View.prototype.remove.apply(this, arguments);\n  }\n\n}, {\n\n  //STATICS\n  template: _.template('\\\n    <form data-fieldsets></form>\\\n  ', null, this.templateSettings),\n\n  templateSettings: {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  },\n\n  editors: {}\n\n});\n\n\n//==================================================================================================\n//VALIDATORS\n//==================================================================================================\n\nForm.validators = (function() {\n\n  var validators = {};\n\n  validators.errMessages = {\n    required: 'Required',\n    regexp: 'Invalid',\n    email: 'Invalid email address',\n    url: 'Invalid URL',\n    match: _.template('Must match field \"<%= field %>\"', null, Form.templateSettings)\n  };\n\n  validators.required = function(options) {\n    options = _.extend({\n      type: 'required',\n      message: this.errMessages.required\n    }, options);\n\n    return function required(value) {\n      options.value = value;\n\n      var err = {\n        type: options.type,\n        message: _.isFunction(options.message) ? options.message(options) : options.message\n      };\n\n      if (value === null || value === undefined || value === false || value === '') return err;\n    };\n  };\n\n  validators.regexp = function(options) {\n    if (!options.regexp) throw new Error('Missing required \"regexp\" option for \"regexp\" validator');\n\n    options = _.extend({\n      type: 'regexp',\n      message: this.errMessages.regexp\n    }, options);\n\n    return function regexp(value) {\n      options.value = value;\n\n      var err = {\n        type: options.type,\n        message: _.isFunction(options.message) ? options.message(options) : options.message\n      };\n\n      //Don't check empty values (add a 'required' validator for this)\n      if (value === null || value === undefined || value === '') return;\n\n      if (!options.regexp.test(value)) return err;\n    };\n  };\n\n  validators.email = function(options) {\n    options = _.extend({\n      type: 'email',\n      message: this.errMessages.email,\n      regexp: /^[\\w\\-]{1,}([\\w\\-\\+.]{1,1}[\\w\\-]{1,}){0,}[@][\\w\\-]{1,}([.]([\\w\\-]{1,})){1,3}$/\n    }, options);\n\n    return validators.regexp(options);\n  };\n\n  validators.url = function(options) {\n    options = _.extend({\n      type: 'url',\n      message: this.errMessages.url,\n      regexp: /^(http|https):\\/\\/(([A-Z0-9][A-Z0-9_\\-]*)(\\.[A-Z0-9][A-Z0-9_\\-]*)+)(:(\\d+))?\\/?/i\n    }, options);\n\n    return validators.regexp(options);\n  };\n\n  validators.match = function(options) {\n    if (!options.field) throw new Error('Missing required \"field\" options for \"match\" validator');\n\n    options = _.extend({\n      type: 'match',\n      message: this.errMessages.match\n    }, options);\n\n    return function match(value, attrs) {\n      options.value = value;\n\n      var err = {\n        type: options.type,\n        message: _.isFunction(options.message) ? options.message(options) : options.message\n      };\n\n      //Don't check empty values (add a 'required' validator for this)\n      if (value === null || value === undefined || value === '') return;\n\n      if (value !== attrs[options.field]) return err;\n    };\n  };\n\n\n  return validators;\n\n})();\n\n\n//==================================================================================================\n//FIELDSET\n//==================================================================================================\n\nForm.Fieldset = Backbone.View.extend({\n\n  /**\n   * Constructor\n   *\n   * Valid fieldset schemas:\n   *   ['field1', 'field2']\n   *   { legend: 'Some Fieldset', fields: ['field1', 'field2'] }\n   *\n   * @param {String[]|Object[]} options.schema      Fieldset schema\n   * @param {Object} options.fields           Form fields\n   */\n  initialize: function(options) {\n    options = options || {};\n\n    //Create the full fieldset schema, merging defaults etc.\n    var schema = this.schema = this.createSchema(options.schema);\n\n    //Store the fields for this fieldset\n    this.fields = _.pick(options.fields, schema.fields);\n\n    //Override defaults\n    this.template = options.template || this.constructor.template;\n  },\n\n  /**\n   * Creates the full fieldset schema, normalising, merging defaults etc.\n   *\n   * @param {String[]|Object[]} schema\n   *\n   * @return {Object}\n   */\n  createSchema: function(schema) {\n    //Normalise to object\n    if (_.isArray(schema)) {\n      schema = { fields: schema };\n    }\n\n    //Add null legend to prevent template error\n    schema.legend = schema.legend || null;\n\n    return schema;\n  },\n\n  /**\n   * Returns the field for a given index\n   *\n   * @param {Number} index\n   *\n   * @return {Field}\n   */\n  getFieldAt: function(index) {\n    var key = this.schema.fields[index];\n\n    return this.fields[key];\n  },\n\n  /**\n   * Returns data to pass to template\n   *\n   * @return {Object}\n   */\n  templateData: function() {\n    return this.schema;\n  },\n\n  /**\n   * Renders the fieldset and fields\n   *\n   * @return {Fieldset} this\n   */\n  render: function() {\n    var schema = this.schema,\n        fields = this.fields;\n\n    //Render fieldset\n    var $fieldset = $($.trim(this.template(_.result(this, 'templateData'))));\n\n    //Render fields\n    $fieldset.find('[data-fields]').add($fieldset).each(function(i, el) {\n      var $container = $(el),\n          selection = $container.attr('data-fields');\n\n      if (_.isUndefined(selection)) return;\n\n      _.each(fields, function(field) {\n        $container.append(field.render().el);\n      });\n    });\n\n    this.setElement($fieldset);\n\n    return this;\n  },\n\n  /**\n   * Remove embedded views then self\n   */\n  remove: function() {\n    _.each(this.fields, function(field) {\n      field.remove();\n    });\n\n    Backbone.View.prototype.remove.call(this);\n  }\n\n}, {\n  //STATICS\n\n  template: _.template('\\\n    <fieldset data-fields>\\\n      <% if (legend) { %>\\\n        <legend><%= legend %></legend>\\\n      <% } %>\\\n    </fieldset>\\\n  ', null, Form.templateSettings)\n\n});\n\n\n//==================================================================================================\n//FIELD\n//==================================================================================================\n\nForm.Field = Backbone.View.extend({\n\n  /**\n   * Constructor\n   *\n   * @param {Object} options.key\n   * @param {Object} options.form\n   * @param {Object} [options.schema]\n   * @param {Function} [options.schema.template]\n   * @param {Backbone.Model} [options.model]\n   * @param {Object} [options.value]\n   * @param {String} [options.idPrefix]\n   * @param {Function} [options.template]\n   * @param {Function} [options.errorClassName]\n   */\n  initialize: function(options) {\n    options = options || {};\n\n    //Store important data\n    _.extend(this, _.pick(options, 'form', 'key', 'model', 'value', 'idPrefix'));\n\n    //Create the full field schema, merging defaults etc.\n    var schema = this.schema = this.createSchema(options.schema);\n\n    //Override defaults\n    this.template = options.template || schema.template || this.constructor.template;\n    this.errorClassName = options.errorClassName || this.constructor.errorClassName;\n\n    //Create editor\n    this.editor = this.createEditor();\n  },\n\n  /**\n   * Creates the full field schema, merging defaults etc.\n   *\n   * @param {Object|String} schema\n   *\n   * @return {Object}\n   */\n  createSchema: function(schema) {\n    if (_.isString(schema)) schema = { type: schema };\n\n    //Set defaults\n    schema = _.extend({\n      type: 'Text',\n      title: this.createTitle()\n    }, schema);\n\n    //Get the real constructor function i.e. if type is a string such as 'Text'\n    schema.type = (_.isString(schema.type)) ? Form.editors[schema.type] : schema.type;\n\n    return schema;\n  },\n\n  /**\n   * Creates the editor specified in the schema; either an editor string name or\n   * a constructor function\n   *\n   * @return {View}\n   */\n  createEditor: function() {\n    var options = _.extend(\n      _.pick(this, 'schema', 'form', 'key', 'model', 'value'),\n      { id: this.createEditorId() }\n    );\n\n    var constructorFn = this.schema.type;\n\n    return new constructorFn(options);\n  },\n\n  /**\n   * Creates the ID that will be assigned to the editor\n   *\n   * @return {String}\n   */\n  createEditorId: function() {\n    var prefix = this.idPrefix,\n        id = this.key;\n\n    //Replace periods with underscores (e.g. for when using paths)\n    id = id.replace(/\\./g, '_');\n\n    //If a specific ID prefix is set, use it\n    if (_.isString(prefix) || _.isNumber(prefix)) return prefix + id;\n    if (_.isNull(prefix)) return id;\n\n    //Otherwise, if there is a model use it's CID to avoid conflicts when multiple forms are on the page\n    if (this.model) return this.model.cid + '_' + id;\n\n    return id;\n  },\n\n  /**\n   * Create the default field title (label text) from the key name.\n   * (Converts 'camelCase' to 'Camel Case')\n   *\n   * @return {String}\n   */\n  createTitle: function() {\n    var str = this.key;\n\n    //Add spaces\n    str = str.replace(/([A-Z])/g, ' $1');\n\n    //Uppercase first character\n    str = str.replace(/^./, function(str) { return str.toUpperCase(); });\n\n    return str;\n  },\n\n  /**\n   * Returns the data to be passed to the template\n   *\n   * @return {Object}\n   */\n  templateData: function() {\n    var schema = this.schema;\n\n    return {\n      help: schema.help || '',\n      title: schema.title,\n      fieldAttrs: schema.fieldAttrs,\n      editorAttrs: schema.editorAttrs,\n      key: this.key,\n      editorId: this.editor.id\n    };\n  },\n\n  /**\n   * Render the field and editor\n   *\n   * @return {Field} self\n   */\n  render: function() {\n    var schema = this.schema,\n        editor = this.editor;\n\n    //Only render the editor if Hidden\n    if (schema.type == Form.editors.Hidden) {\n      return this.setElement(editor.render().el);\n    }\n\n    //Render field\n    var $field = $($.trim(this.template(_.result(this, 'templateData'))));\n\n    if (schema.fieldClass) $field.addClass(schema.fieldClass);\n    if (schema.fieldAttrs) $field.attr(schema.fieldAttrs);\n\n    //Render editor\n    $field.find('[data-editor]').add($field).each(function(i, el) {\n      var $container = $(el),\n          selection = $container.attr('data-editor');\n\n      if (_.isUndefined(selection)) return;\n\n      $container.append(editor.render().el);\n    });\n\n    this.setElement($field);\n\n    return this;\n  },\n\n  /**\n   * Check the validity of the field\n   *\n   * @return {String}\n   */\n  validate: function() {\n    var error = this.editor.validate();\n\n    if (error) {\n      this.setError(error.message);\n    } else {\n      this.clearError();\n    }\n\n    return error;\n  },\n\n  /**\n   * Set the field into an error state, adding the error class and setting the error message\n   *\n   * @param {String} msg     Error message\n   */\n  setError: function(msg) {\n    //Nested form editors (e.g. Object) set their errors internally\n    if (this.editor.hasNestedForm) return;\n\n    //Add error CSS class\n    this.$el.addClass(this.errorClassName);\n\n    //Set error message\n    this.$('[data-error]').html(msg);\n  },\n\n  /**\n   * Clear the error state and reset the help message\n   */\n  clearError: function() {\n    //Remove error CSS class\n    this.$el.removeClass(this.errorClassName);\n\n    //Clear error message\n    this.$('[data-error]').empty();\n  },\n\n  /**\n   * Update the model with the new value from the editor\n   *\n   * @return {Mixed}\n   */\n  commit: function() {\n    return this.editor.commit();\n  },\n\n  /**\n   * Get the value from the editor\n   *\n   * @return {Mixed}\n   */\n  getValue: function() {\n    return this.editor.getValue();\n  },\n\n  /**\n   * Set/change the value of the editor\n   *\n   * @param {Mixed} value\n   */\n  setValue: function(value) {\n    this.editor.setValue(value);\n  },\n\n  /**\n   * Give the editor focus\n   */\n  focus: function() {\n    this.editor.focus();\n  },\n\n  /**\n   * Remove focus from the editor\n   */\n  blur: function() {\n    this.editor.blur();\n  },\n\n  /**\n   * Remove the field and editor views\n   */\n  remove: function() {\n    this.editor.remove();\n\n    Backbone.View.prototype.remove.call(this);\n  }\n\n}, {\n  //STATICS\n\n  template: _.template('\\\n    <div>\\\n      <label for=\"<%= editorId %>\"><%= title %></label>\\\n      <div>\\\n        <span data-editor></span>\\\n        <div data-error></div>\\\n        <div><%= help %></div>\\\n      </div>\\\n    </div>\\\n  ', null, Form.templateSettings),\n\n  /**\n   * CSS class name added to the field when there is a validation error\n   */\n  errorClassName: 'error'\n\n});\n\n\n//==================================================================================================\n//NESTEDFIELD\n//==================================================================================================\n\nForm.NestedField = Form.Field.extend({\n\n  template: _.template($.trim('\\\n    <div>\\\n      <span data-editor></span>\\\n      <% if (help) { %>\\\n        <div><%= help %></div>\\\n      <% } %>\\\n      <div data-error></div>\\\n    </div>\\\n  '), null, Form.templateSettings)\n\n});\n\n/**\n * Base editor (interface). To be extended, not used directly\n *\n * @param {Object} options\n * @param {String} [options.id]         Editor ID\n * @param {Model} [options.model]       Use instead of value, and use commit()\n * @param {String} [options.key]        The model attribute key. Required when using 'model'\n * @param {Mixed} [options.value]       When not using a model. If neither provided, defaultValue will be used\n * @param {Object} [options.schema]     Field schema; may be required by some editors\n * @param {Object} [options.validators] Validators; falls back to those stored on schema\n * @param {Object} [options.form]       The form\n */\nForm.Editor = Form.editors.Base = Backbone.View.extend({\n\n  defaultValue: null,\n\n  hasFocus: false,\n\n  initialize: function(options) {\n    var options = options || {};\n\n    //Set initial value\n    if (options.model) {\n      if (!options.key) throw new Error(\"Missing option: 'key'\");\n\n      this.model = options.model;\n\n      this.value = this.model.get(options.key);\n    }\n    else if (options.value !== undefined) {\n      this.value = options.value;\n    }\n\n    if (this.value === undefined) this.value = this.defaultValue;\n\n    //Store important data\n    _.extend(this, _.pick(options, 'key', 'form'));\n\n    var schema = this.schema = options.schema || {};\n\n    this.validators = options.validators || schema.validators;\n\n    //Main attributes\n    this.$el.attr('id', this.id);\n    this.$el.attr('name', this.getName());\n    if (schema.editorClass) this.$el.addClass(schema.editorClass);\n    if (schema.editorAttrs) this.$el.attr(schema.editorAttrs);\n  },\n\n  /**\n   * Get the value for the form input 'name' attribute\n   *\n   * @return {String}\n   *\n   * @api private\n   */\n  getName: function() {\n    var key = this.key || '';\n\n    //Replace periods with underscores (e.g. for when using paths)\n    return key.replace(/\\./g, '_');\n  },\n\n  /**\n   * Get editor value\n   * Extend and override this method to reflect changes in the DOM\n   *\n   * @return {Mixed}\n   */\n  getValue: function() {\n    return this.value;\n  },\n\n  /**\n   * Set editor value\n   * Extend and override this method to reflect changes in the DOM\n   *\n   * @param {Mixed} value\n   */\n  setValue: function(value) {\n    this.value = value;\n  },\n\n  /**\n   * Give the editor focus\n   * Extend and override this method\n   */\n  focus: function() {\n    throw new Error('Not implemented');\n  },\n\n  /**\n   * Remove focus from the editor\n   * Extend and override this method\n   */\n  blur: function() {\n    throw new Error('Not implemented');\n  },\n\n  /**\n   * Update the model with the current value\n   *\n   * @param {Object} [options]              Options to pass to model.set()\n   * @param {Boolean} [options.validate]    Set to true to trigger built-in model validation\n   *\n   * @return {Mixed} error\n   */\n  commit: function(options) {\n    var error = this.validate();\n    if (error) return error;\n\n    this.listenTo(this.model, 'invalid', function(model, e) {\n      error = e;\n    });\n    this.model.set(this.key, this.getValue(), options);\n\n    if (error) return error;\n  },\n\n  /**\n   * Check validity\n   *\n   * @return {Object|Undefined}\n   */\n  validate: function() {\n    var $el = this.$el,\n        error = null,\n        value = this.getValue(),\n        formValues = this.form ? this.form.getValue() : {},\n        validators = this.validators,\n        getValidator = this.getValidator;\n\n    if (validators) {\n      //Run through validators until an error is found\n      _.every(validators, function(validator) {\n        error = getValidator(validator)(value, formValues);\n\n        return error ? false : true;\n      });\n    }\n\n    return error;\n  },\n\n  /**\n   * Set this.hasFocus, or call parent trigger()\n   *\n   * @param {String} event\n   */\n  trigger: function(event) {\n    if (event === 'focus') {\n      this.hasFocus = true;\n    }\n    else if (event === 'blur') {\n      this.hasFocus = false;\n    }\n\n    return Backbone.View.prototype.trigger.apply(this, arguments);\n  },\n\n  /**\n   * Returns a validation function based on the type defined in the schema\n   *\n   * @param {RegExp|String|Function} validator\n   * @return {Function}\n   */\n  getValidator: function(validator) {\n    var validators = Form.validators;\n\n    //Convert regular expressions to validators\n    if (_.isRegExp(validator)) {\n      return validators.regexp({ regexp: validator });\n    }\n\n    //Use a built-in validator if given a string\n    if (_.isString(validator)) {\n      if (!validators[validator]) throw new Error('Validator \"'+validator+'\" not found');\n\n      return validators[validator]();\n    }\n\n    //Functions can be used directly\n    if (_.isFunction(validator)) return validator;\n\n    //Use a customised built-in validator if given an object\n    if (_.isObject(validator) && validator.type) {\n      var config = validator;\n\n      return validators[config.type](config);\n    }\n\n    //Unkown validator type\n    throw new Error('Invalid validator: ' + validator);\n  }\n});\n\n/**\n * Text\n *\n * Text input with focus, blur and change events\n */\nForm.editors.Text = Form.Editor.extend({\n\n  tagName: 'input',\n\n  defaultValue: '',\n\n  previousValue: '',\n\n  events: {\n    'keyup':    'determineChange',\n    'keypress': function(event) {\n      var self = this;\n      setTimeout(function() {\n        self.determineChange();\n      }, 0);\n    },\n    'select':   function(event) {\n      this.trigger('select', this);\n    },\n    'focus':    function(event) {\n      this.trigger('focus', this);\n    },\n    'blur':     function(event) {\n      this.trigger('blur', this);\n    }\n  },\n\n  initialize: function(options) {\n    Form.editors.Base.prototype.initialize.call(this, options);\n\n    var schema = this.schema;\n\n    //Allow customising text type (email, phone etc.) for HTML5 browsers\n    var type = 'text';\n\n    if (schema && schema.editorAttrs && schema.editorAttrs.type) type = schema.editorAttrs.type;\n    if (schema && schema.dataType) type = schema.dataType;\n\n    this.$el.attr('type', type);\n  },\n\n  /**\n   * Adds the editor to the DOM\n   */\n  render: function() {\n    this.setValue(this.value);\n\n    return this;\n  },\n\n  determineChange: function(event) {\n    var currentValue = this.$el.val();\n    var changed = (currentValue !== this.previousValue);\n\n    if (changed) {\n      this.previousValue = currentValue;\n\n      this.trigger('change', this);\n    }\n  },\n\n  /**\n   * Returns the current editor value\n   * @return {String}\n   */\n  getValue: function() {\n    return this.$el.val();\n  },\n\n  /**\n   * Sets the value of the form element\n   * @param {String}\n   */\n  setValue: function(value) {\n    this.$el.val(value);\n  },\n\n  focus: function() {\n    if (this.hasFocus) return;\n\n    this.$el.focus();\n  },\n\n  blur: function() {\n    if (!this.hasFocus) return;\n\n    this.$el.blur();\n  },\n\n  select: function() {\n    this.$el.select();\n  }\n\n});\n\n/**\n * TextArea editor\n */\nForm.editors.TextArea = Form.editors.Text.extend({\n\n  tagName: 'textarea',\n\n  /**\n   * Override Text constructor so type property isn't set (issue #261)\n   */\n  initialize: function(options) {\n    Form.editors.Base.prototype.initialize.call(this, options);\n  }\n\n});\n\n/**\n * Password editor\n */\nForm.editors.Password = Form.editors.Text.extend({\n\n  initialize: function(options) {\n    Form.editors.Text.prototype.initialize.call(this, options);\n\n    this.$el.attr('type', 'password');\n  }\n\n});\n\n/**\n * NUMBER\n *\n * Normal text input that only allows a number. Letters etc. are not entered.\n */\nForm.editors.Number = Form.editors.Text.extend({\n\n  defaultValue: 0,\n\n  events: _.extend({}, Form.editors.Text.prototype.events, {\n    'keypress': 'onKeyPress',\n    'change': 'onKeyPress'\n  }),\n\n  initialize: function(options) {\n    Form.editors.Text.prototype.initialize.call(this, options);\n\n    var schema = this.schema;\n\n    this.$el.attr('type', 'number');\n\n    if (!schema || !schema.editorAttrs || !schema.editorAttrs.step) {\n      // provide a default for `step` attr,\n      // but don't overwrite if already specified\n      this.$el.attr('step', 'any');\n    }\n  },\n\n  /**\n   * Check value is numeric\n   */\n  onKeyPress: function(event) {\n    var self = this,\n        delayedDetermineChange = function() {\n          setTimeout(function() {\n            self.determineChange();\n          }, 0);\n        };\n\n    //Allow backspace\n    if (event.charCode === 0) {\n      delayedDetermineChange();\n      return;\n    }\n\n    //Get the whole new value so that we can prevent things like double decimals points etc.\n    var newVal = this.$el.val()\n    if( event.charCode != undefined ) {\n      newVal = newVal + String.fromCharCode(event.charCode);\n    }\n\n    var numeric = /^[0-9]*\\.?[0-9]*?$/.test(newVal);\n\n    if (numeric) {\n      delayedDetermineChange();\n    }\n    else {\n      event.preventDefault();\n    }\n  },\n\n  getValue: function() {\n    var value = this.$el.val();\n\n    return value === \"\" ? null : parseFloat(value, 10);\n  },\n\n  setValue: function(value) {\n    value = (function() {\n      if (_.isNumber(value)) return value;\n\n      if (_.isString(value) && value !== '') return parseFloat(value, 10);\n\n      return null;\n    })();\n\n    if (_.isNaN(value)) value = null;\n\n    Form.editors.Text.prototype.setValue.call(this, value);\n  }\n\n});\n\n/**\n * Hidden editor\n */\nForm.editors.Hidden = Form.editors.Text.extend({\n\n  defaultValue: '',\n\n  initialize: function(options) {\n    Form.editors.Text.prototype.initialize.call(this, options);\n\n    this.$el.attr('type', 'hidden');\n  },\n\n  focus: function() {\n\n  },\n\n  blur: function() {\n\n  }\n\n});\n\n/**\n * Checkbox editor\n *\n * Creates a single checkbox, i.e. boolean value\n */\nForm.editors.Checkbox = Form.editors.Base.extend({\n\n  defaultValue: false,\n\n  tagName: 'input',\n\n  events: {\n    'click':  function(event) {\n      this.trigger('change', this);\n    },\n    'focus':  function(event) {\n      this.trigger('focus', this);\n    },\n    'blur':   function(event) {\n      this.trigger('blur', this);\n    }\n  },\n\n  initialize: function(options) {\n    Form.editors.Base.prototype.initialize.call(this, options);\n\n    this.$el.attr('type', 'checkbox');\n  },\n\n  /**\n   * Adds the editor to the DOM\n   */\n  render: function() {\n    this.setValue(this.value);\n\n    return this;\n  },\n\n  getValue: function() {\n    return this.$el.prop('checked');\n  },\n\n  setValue: function(value) {\n    if (value) {\n      this.$el.prop('checked', true);\n    }else{\n      this.$el.prop('checked', false);\n    }\n  },\n\n  focus: function() {\n    if (this.hasFocus) return;\n\n    this.$el.focus();\n  },\n\n  blur: function() {\n    if (!this.hasFocus) return;\n\n    this.$el.blur();\n  }\n\n});\n\n/**\n * Select editor\n *\n * Renders a <select> with given options\n *\n * Requires an 'options' value on the schema.\n *  Can be an array of options, a function that calls back with the array of options, a string of HTML\n *  or a Backbone collection. If a collection, the models must implement a toString() method\n */\nForm.editors.Select = Form.editors.Base.extend({\n\n  tagName: 'select',\n\n  events: {\n    'change': function(event) {\n      this.trigger('change', this);\n    },\n    'focus':  function(event) {\n      this.trigger('focus', this);\n    },\n    'blur':   function(event) {\n      this.trigger('blur', this);\n    }\n  },\n\n  initialize: function(options) {\n    Form.editors.Base.prototype.initialize.call(this, options);\n\n    if (!this.schema || !this.schema.options) throw new Error(\"Missing required 'schema.options'\");\n  },\n\n  render: function() {\n    this.setOptions(this.schema.options);\n\n    return this;\n  },\n\n  /**\n   * Sets the options that populate the <select>\n   *\n   * @param {Mixed} options\n   */\n  setOptions: function(options) {\n    var self = this;\n\n    //If a collection was passed, check if it needs fetching\n    if (options instanceof Backbone.Collection) {\n      var collection = options;\n\n      //Don't do the fetch if it's already populated\n      if (collection.length > 0) {\n        this.renderOptions(options);\n      } else {\n        collection.fetch({\n          success: function(collection) {\n            self.renderOptions(options);\n          }\n        });\n      }\n    }\n\n    //If a function was passed, run it to get the options\n    else if (_.isFunction(options)) {\n      options(function(result) {\n        self.renderOptions(result);\n      }, self);\n    }\n\n    //Otherwise, ready to go straight to renderOptions\n    else {\n      this.renderOptions(options);\n    }\n  },\n\n  /**\n   * Adds the <option> html to the DOM\n   * @param {Mixed}   Options as a simple array e.g. ['option1', 'option2']\n   *                      or as an array of objects e.g. [{val: 543, label: 'Title for object 543'}]\n   *                      or as a string of <option> HTML to insert into the <select>\n   *                      or any object\n   */\n  renderOptions: function(options) {\n    var $select = this.$el,\n        html;\n\n    html = this._getOptionsHtml(options);\n\n    //Insert options\n    $select.html(html);\n\n    //Select correct option\n    this.setValue(this.value);\n  },\n\n  _getOptionsHtml: function(options) {\n    var html;\n    //Accept string of HTML\n    if (_.isString(options)) {\n      html = options;\n    }\n\n    //Or array\n    else if (_.isArray(options)) {\n      html = this._arrayToHtml(options);\n    }\n\n    //Or Backbone collection\n    else if (options instanceof Backbone.Collection) {\n      html = this._collectionToHtml(options);\n    }\n\n    else if (_.isFunction(options)) {\n      var newOptions;\n\n      options(function(opts) {\n        newOptions = opts;\n      }, this);\n\n      html = this._getOptionsHtml(newOptions);\n    //Or any object\n    }else{\n      html=this._objectToHtml(options);\n    }\n\n    return html;\n  },\n\n\n  getValue: function() {\n    return this.$el.val();\n  },\n\n  setValue: function(value) {\n    this.$el.val(value);\n  },\n\n  focus: function() {\n    if (this.hasFocus) return;\n\n    this.$el.focus();\n  },\n\n  blur: function() {\n    if (!this.hasFocus) return;\n\n    this.$el.blur();\n  },\n\n  /**\n   * Transforms a collection into HTML ready to use in the renderOptions method\n   * @param {Backbone.Collection}\n   * @return {String}\n   */\n  _collectionToHtml: function(collection) {\n    //Convert collection to array first\n    var array = [];\n    collection.each(function(model) {\n      array.push({ val: model.id, label: model.toString() });\n    });\n\n    //Now convert to HTML\n    var html = this._arrayToHtml(array);\n\n    return html;\n  },\n  /**\n   * Transforms an object into HTML ready to use in the renderOptions method\n   * @param {Object}\n   * @return {String}\n   */\n  _objectToHtml: function(obj) {\n    //Convert object to array first\n    var array = [];\n    for(var key in obj){\n      if( obj.hasOwnProperty( key ) ) {\n        array.push({ val: key, label: obj[key] });\n      }\n    }\n\n    //Now convert to HTML\n    var html = this._arrayToHtml(array);\n\n    return html;\n  },\n\n\n\n  /**\n   * Create the <option> HTML\n   * @param {Array}   Options as a simple array e.g. ['option1', 'option2']\n   *                      or as an array of objects e.g. [{val: 543, label: 'Title for object 543'}]\n   * @return {String} HTML\n   */\n  _arrayToHtml: function(array) {\n    var html = [];\n\n    //Generate HTML\n    _.each(array, function(option) {\n      if (_.isObject(option)) {\n        if (option.group) {\n          html.push('<optgroup label=\"'+option.group+'\">');\n          html.push(this._getOptionsHtml(option.options))\n          html.push('</optgroup>');\n        } else {\n          var val = (option.val || option.val === 0) ? option.val : '';\n          html.push('<option value=\"'+val+'\">'+option.label+'</option>');\n        }\n      }\n      else {\n        html.push('<option>'+option+'</option>');\n      }\n    }, this);\n\n    return html.join('');\n  }\n\n});\n\n/**\n * Radio editor\n *\n * Renders a <ul> with given options represented as <li> objects containing radio buttons\n *\n * Requires an 'options' value on the schema.\n *  Can be an array of options, a function that calls back with the array of options, a string of HTML\n *  or a Backbone collection. If a collection, the models must implement a toString() method\n */\nForm.editors.Radio = Form.editors.Select.extend({\n\n  tagName: 'div',\n\n  events: {\n    'change input[type=radio]': function() {\n      this.trigger('change', this);\n    },\n    'focus input[type=radio]': function() {\n      if (this.hasFocus) return;\n      this.trigger('focus', this);\n    },\n    'blur input[type=radio]': function() {\n      if (!this.hasFocus) return;\n      var self = this;\n      setTimeout(function() {\n        if (self.$('input[type=radio]:focus')[0]) return;\n        self.trigger('blur', self);\n      }, 0);\n    }\n  },\n\n  getValue: function() {\n    return this.$('input[type=radio]:checked').val();\n  },\n\n  setValue: function(value) {\n    this.$('input[type=radio]').val([value]);\n  },\n\n  focus: function() {\n    if (this.hasFocus) return;\n\n    var checked = this.$('input[type=radio]:checked');\n    if (checked[0]) {\n      checked.focus();\n      return;\n    }\n\n    this.$('input[type=radio]').first().focus();\n  },\n\n  blur: function() {\n    if (!this.hasFocus) return;\n\n    this.$('input[type=radio]:focus').blur();\n  },\n\n  /**\n   * Create the radio list HTML\n   * @param {Array}   Options as a simple array e.g. ['option1', 'option2']\n   *                      or as an array of objects e.g. [{val: 543, label: 'Title for object 543'}]\n   * @return {String} HTML\n   */\n  _arrayToHtml: function (array) {\n    var html = [];\n    var self = this;\n\n    _.each(array, function(option, index) {\n      var itemHtml = '';\n      if (_.isObject(option)) {\n        var val = (option.val || option.val === 0) ? option.val : '';\n        itemHtml += ('<input type=\"radio\" name=\"'+self.getName()+'\" value=\"'+val+'\" id=\"'+self.id+'-'+index+'\" />');\n        itemHtml += ('<label for=\"'+self.id+'-'+index+'\">'+option.label+'</label>');\n      }\n      else {\n        itemHtml += ('<input type=\"radio\" name=\"'+self.getName()+'\" value=\"'+option+'\" id=\"'+self.id+'-'+index+'\" />');\n        itemHtml += ('<label for=\"'+self.id+'-'+index+'\">'+option+'</label>');\n      }\n      itemHtml += '';\n      html.push(itemHtml);\n    });\n\n    return html.join('');\n  }\n\n});\n\n/**\n * Checkboxes editor\n *\n * Renders a <ul> with given options represented as <li> objects containing checkboxes\n *\n * Requires an 'options' value on the schema.\n *  Can be an array of options, a function that calls back with the array of options, a string of HTML\n *  or a Backbone collection. If a collection, the models must implement a toString() method\n */\nForm.editors.Checkboxes = Form.editors.Select.extend({\n\n  tagName: 'ul',\n\n  groupNumber: 0,\n\n  events: {\n    'click input[type=checkbox]': function() {\n      this.trigger('change', this);\n    },\n    'focus input[type=checkbox]': function() {\n      if (this.hasFocus) return;\n      this.trigger('focus', this);\n    },\n    'blur input[type=checkbox]':  function() {\n      if (!this.hasFocus) return;\n      var self = this;\n      setTimeout(function() {\n        if (self.$('input[type=checkbox]:focus')[0]) return;\n        self.trigger('blur', self);\n      }, 0);\n    }\n  },\n\n  getValue: function() {\n    var values = [];\n    this.$('input[type=checkbox]:checked').each(function() {\n      values.push($(this).val());\n    });\n    return values;\n  },\n\n  setValue: function(values) {\n    if (!_.isArray(values)) values = [values];\n    this.$('input[type=checkbox]').val(values);\n  },\n\n  focus: function() {\n    if (this.hasFocus) return;\n\n    this.$('input[type=checkbox]').first().focus();\n  },\n\n  blur: function() {\n    if (!this.hasFocus) return;\n\n    this.$('input[type=checkbox]:focus').blur();\n  },\n\n  /**\n   * Create the checkbox list HTML\n   * @param {Array}   Options as a simple array e.g. ['option1', 'option2']\n   *                      or as an array of objects e.g. [{val: 543, label: 'Title for object 543'}]\n   * @return {String} HTML\n   */\n  _arrayToHtml: function (array) {\n    var html = [];\n    var self = this;\n\n    _.each(array, function(option, index) {\n      var itemHtml = '';\n\t\t\tvar close = true;\n      if (_.isObject(option)) {\n        if (option.group) {\n          var originalId = self.id;\n          self.id += \"-\" + self.groupNumber++;\n          itemHtml = ('<fieldset class=\"group\"> <legend>'+option.group+'</legend>');\n          itemHtml += (self._arrayToHtml(option.options));\n          itemHtml += ('</fieldset>');\n          self.id = originalId;\n\t\t\t\t\tclose = false;\n        }else{\n          var val = (option.val || option.val === 0) ? option.val : '';\n          itemHtml += ('<input type=\"checkbox\" name=\"'+self.getName()+'\" value=\"'+val+'\" id=\"'+self.id+'-'+index+'\" />');\n          itemHtml += ('<label for=\"'+self.id+'-'+index+'\">'+option.label+'</label>');\n        }\n      }\n      else {\n        itemHtml += ('<input type=\"checkbox\" name=\"'+self.getName()+'\" value=\"'+option+'\" id=\"'+self.id+'-'+index+'\" />');\n        itemHtml += ('<label for=\"'+self.id+'-'+index+'\">'+option+'</label>');\n      }\n\t\t\tif(close){\n\t\t\t\titemHtml += '';\n\t\t\t}\n      html.push(itemHtml);\n    });\n\n    return html.join('');\n  }\n\n});\n\n/**\n * Object editor\n *\n * Creates a child form. For editing Javascript objects\n *\n * @param {Object} options\n * @param {Form} options.form                 The form this editor belongs to; used to determine the constructor for the nested form\n * @param {Object} options.schema             The schema for the object\n * @param {Object} options.schema.subSchema   The schema for the nested form\n */\nForm.editors.Object = Form.editors.Base.extend({\n  //Prevent error classes being set on the main control; they are internally on the individual fields\n  hasNestedForm: true,\n\n  initialize: function(options) {\n    //Set default value for the instance so it's not a shared object\n    this.value = {};\n\n    //Init\n    Form.editors.Base.prototype.initialize.call(this, options);\n\n    //Check required options\n    if (!this.form) throw new Error('Missing required option \"form\"');\n    if (!this.schema.subSchema) throw new Error(\"Missing required 'schema.subSchema' option for Object editor\");\n  },\n\n  render: function() {\n    //Get the constructor for creating the nested form; i.e. the same constructor as used by the parent form\n    var NestedForm = this.form.constructor;\n\n    //Create the nested form\n    this.nestedForm = new NestedForm({\n      schema: this.schema.subSchema,\n      data: this.value,\n      idPrefix: this.id + '_',\n      Field: NestedForm.NestedField\n    });\n\n    this._observeFormEvents();\n\n    this.$el.html(this.nestedForm.render().el);\n\n    if (this.hasFocus) this.trigger('blur', this);\n\n    return this;\n  },\n\n  getValue: function() {\n    if (this.nestedForm) return this.nestedForm.getValue();\n\n    return this.value;\n  },\n\n  setValue: function(value) {\n    this.value = value;\n\n    this.render();\n  },\n\n  focus: function() {\n    if (this.hasFocus) return;\n\n    this.nestedForm.focus();\n  },\n\n  blur: function() {\n    if (!this.hasFocus) return;\n\n    this.nestedForm.blur();\n  },\n\n  remove: function() {\n    this.nestedForm.remove();\n\n    Backbone.View.prototype.remove.call(this);\n  },\n\n  validate: function() {\n    return this.nestedForm.validate();\n  },\n\n  _observeFormEvents: function() {\n    if (!this.nestedForm) return;\n\n    this.nestedForm.on('all', function() {\n      // args = [\"key:change\", form, fieldEditor]\n      var args = _.toArray(arguments);\n      args[1] = this;\n      // args = [\"key:change\", this=objectEditor, fieldEditor]\n\n      this.trigger.apply(this, args);\n    }, this);\n  }\n\n});\n\n/**\n * NestedModel editor\n *\n * Creates a child form. For editing nested Backbone models\n *\n * Special options:\n *   schema.model:   Embedded model constructor\n */\nForm.editors.NestedModel = Form.editors.Object.extend({\n  initialize: function(options) {\n    Form.editors.Base.prototype.initialize.call(this, options);\n\n    if (!this.form) throw new Error('Missing required option \"form\"');\n    if (!options.schema.model) throw new Error('Missing required \"schema.model\" option for NestedModel editor');\n  },\n\n  render: function() {\n    //Get the constructor for creating the nested form; i.e. the same constructor as used by the parent form\n    var NestedForm = this.form.constructor;\n\n    var data = this.value || {},\n        key = this.key,\n        nestedModel = this.schema.model;\n\n    //Wrap the data in a model if it isn't already a model instance\n    var modelInstance = (data.constructor === nestedModel) ? data : new nestedModel(data);\n\n    this.nestedForm = new NestedForm({\n      model: modelInstance,\n      idPrefix: this.id + '_',\n      fieldTemplate: 'nestedField'\n    });\n\n    this._observeFormEvents();\n\n    //Render form\n    this.$el.html(this.nestedForm.render().el);\n\n    if (this.hasFocus) this.trigger('blur', this);\n\n    return this;\n  },\n\n  /**\n   * Update the embedded model, checking for nested validation errors and pass them up\n   * Then update the main model if all OK\n   *\n   * @return {Error|null} Validation error or null\n   */\n  commit: function() {\n    var error = this.nestedForm.commit();\n    if (error) {\n      this.$el.addClass('error');\n      return error;\n    }\n\n    return Form.editors.Object.prototype.commit.call(this);\n  }\n\n});\n\n/**\n * Date editor\n *\n * Schema options\n * @param {Number|String} [options.schema.yearStart]  First year in list. Default: 100 years ago\n * @param {Number|String} [options.schema.yearEnd]    Last year in list. Default: current year\n *\n * Config options (if not set, defaults to options stored on the main Date class)\n * @param {Boolean} [options.showMonthNames]  Use month names instead of numbers. Default: true\n * @param {String[]} [options.monthNames]     Month names. Default: Full English names\n */\nForm.editors.Date = Form.editors.Base.extend({\n\n  events: {\n    'change select':  function() {\n      this.updateHidden();\n      this.trigger('change', this);\n    },\n    'focus select':   function() {\n      if (this.hasFocus) return;\n      this.trigger('focus', this);\n    },\n    'blur select':    function() {\n      if (!this.hasFocus) return;\n      var self = this;\n      setTimeout(function() {\n        if (self.$('select:focus')[0]) return;\n        self.trigger('blur', self);\n      }, 0);\n    }\n  },\n\n  initialize: function(options) {\n    options = options || {};\n\n    Form.editors.Base.prototype.initialize.call(this, options);\n\n    var Self = Form.editors.Date,\n        today = new Date();\n\n    //Option defaults\n    this.options = _.extend({\n      monthNames: Self.monthNames,\n      showMonthNames: Self.showMonthNames\n    }, options);\n\n    //Schema defaults\n    this.schema = _.extend({\n      yearStart: today.getFullYear() - 100,\n      yearEnd: today.getFullYear()\n    }, options.schema || {});\n\n    //Cast to Date\n    if (this.value && !_.isDate(this.value)) {\n      this.value = new Date(this.value);\n    }\n\n    //Set default date\n    if (!this.value) {\n      var date = new Date();\n      date.setSeconds(0);\n      date.setMilliseconds(0);\n\n      this.value = date;\n    }\n\n    //Template\n    this.template = options.template || this.constructor.template;\n  },\n\n  render: function() {\n    var options = this.options,\n        schema = this.schema;\n\n    var datesOptions = _.map(_.range(1, 32), function(date) {\n      return '<option value=\"'+date+'\">' + date + '</option>';\n    });\n\n    var monthsOptions = _.map(_.range(0, 12), function(month) {\n      var value = (options.showMonthNames)\n          ? options.monthNames[month]\n          : (month + 1);\n\n      return '<option value=\"'+month+'\">' + value + '</option>';\n    });\n\n    var yearRange = (schema.yearStart < schema.yearEnd)\n      ? _.range(schema.yearStart, schema.yearEnd + 1)\n      : _.range(schema.yearStart, schema.yearEnd - 1, -1);\n\n    var yearsOptions = _.map(yearRange, function(year) {\n      return '<option value=\"'+year+'\">' + year + '</option>';\n    });\n\n    //Render the selects\n    var $el = $($.trim(this.template({\n      dates: datesOptions.join(''),\n      months: monthsOptions.join(''),\n      years: yearsOptions.join('')\n    })));\n\n    //Store references to selects\n    this.$date = $el.find('[data-type=\"date\"]');\n    this.$month = $el.find('[data-type=\"month\"]');\n    this.$year = $el.find('[data-type=\"year\"]');\n\n    //Create the hidden field to store values in case POSTed to server\n    this.$hidden = $('<input type=\"hidden\" name=\"'+this.key+'\" />');\n    $el.append(this.$hidden);\n\n    //Set value on this and hidden field\n    this.setValue(this.value);\n\n    //Remove the wrapper tag\n    this.setElement($el);\n    this.$el.attr('id', this.id);\n    this.$el.attr('name', this.getName());\n\n    if (this.hasFocus) this.trigger('blur', this);\n\n    return this;\n  },\n\n  /**\n   * @return {Date}   Selected date\n   */\n  getValue: function() {\n    var year = this.$year.val(),\n        month = this.$month.val(),\n        date = this.$date.val();\n\n    if (!year || !month || !date) return null;\n\n    return new Date(year, month, date);\n  },\n\n  /**\n   * @param {Date} date\n   */\n  setValue: function(date) {\n    this.$date.val(date.getDate());\n    this.$month.val(date.getMonth());\n    this.$year.val(date.getFullYear());\n\n    this.updateHidden();\n  },\n\n  focus: function() {\n    if (this.hasFocus) return;\n\n    this.$('select').first().focus();\n  },\n\n  blur: function() {\n    if (!this.hasFocus) return;\n\n    this.$('select:focus').blur();\n  },\n\n  /**\n   * Update the hidden input which is maintained for when submitting a form\n   * via a normal browser POST\n   */\n  updateHidden: function() {\n    var val = this.getValue();\n\n    if (_.isDate(val)) val = val.toISOString();\n\n    this.$hidden.val(val);\n  }\n\n}, {\n  //STATICS\n  template: _.template('\\\n    <div>\\\n      <select data-type=\"date\"><%= dates %></select>\\\n      <select data-type=\"month\"><%= months %></select>\\\n      <select data-type=\"year\"><%= years %></select>\\\n    </div>\\\n  ', null, Form.templateSettings),\n\n  //Whether to show month names instead of numbers\n  showMonthNames: true,\n\n  //Month names to use if showMonthNames is true\n  //Replace for localisation, e.g. Form.editors.Date.monthNames = ['Janvier', 'Fevrier'...]\n  monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n});\n\n\n/**\n * DateTime editor\n *\n * @param {Editor} [options.DateEditor]           Date editor view to use (not definition)\n * @param {Number} [options.schema.minsInterval]  Interval between minutes. Default: 15\n */\nForm.editors.DateTime = Form.editors.Base.extend({\n\n  events: {\n    'change select':  function() {\n      this.updateHidden();\n      this.trigger('change', this);\n    },\n    'focus select':   function() {\n      if (this.hasFocus) return;\n      this.trigger('focus', this);\n    },\n    'blur select':    function() {\n      if (!this.hasFocus) return;\n      var self = this;\n      setTimeout(function() {\n        if (self.$('select:focus')[0]) return;\n        self.trigger('blur', self);\n      }, 0);\n    }\n  },\n\n  initialize: function(options) {\n    options = options || {};\n\n    Form.editors.Base.prototype.initialize.call(this, options);\n\n    //Option defaults\n    this.options = _.extend({\n      DateEditor: Form.editors.DateTime.DateEditor\n    }, options);\n\n    //Schema defaults\n    this.schema = _.extend({\n      minsInterval: 15\n    }, options.schema || {});\n\n    //Create embedded date editor\n    this.dateEditor = new this.options.DateEditor(options);\n\n    this.value = this.dateEditor.value;\n\n    //Template\n    this.template = options.template || this.constructor.template;\n  },\n\n  render: function() {\n    function pad(n) {\n      return n < 10 ? '0' + n : n;\n    }\n\n    var schema = this.schema;\n\n    //Create options\n    var hoursOptions = _.map(_.range(0, 24), function(hour) {\n      return '<option value=\"'+hour+'\">' + pad(hour) + '</option>';\n    });\n\n    var minsOptions = _.map(_.range(0, 60, schema.minsInterval), function(min) {\n      return '<option value=\"'+min+'\">' + pad(min) + '</option>';\n    });\n\n    //Render time selects\n    var $el = $($.trim(this.template({\n      hours: hoursOptions.join(),\n      mins: minsOptions.join()\n    })));\n\n    //Include the date editor\n    $el.find('[data-date]').append(this.dateEditor.render().el);\n\n    //Store references to selects\n    this.$hour = $el.find('select[data-type=\"hour\"]');\n    this.$min = $el.find('select[data-type=\"min\"]');\n\n    //Get the hidden date field to store values in case POSTed to server\n    this.$hidden = $el.find('input[type=\"hidden\"]');\n\n    //Set time\n    this.setValue(this.value);\n\n    this.setElement($el);\n    this.$el.attr('id', this.id);\n    this.$el.attr('name', this.getName());\n\n    if (this.hasFocus) this.trigger('blur', this);\n\n    return this;\n  },\n\n  /**\n   * @return {Date}   Selected datetime\n   */\n  getValue: function() {\n    var date = this.dateEditor.getValue();\n\n    var hour = this.$hour.val(),\n        min = this.$min.val();\n\n    if (!date || !hour || !min) return null;\n\n    date.setHours(hour);\n    date.setMinutes(min);\n\n    return date;\n  },\n\n  /**\n   * @param {Date}\n   */\n  setValue: function(date) {\n    if (!_.isDate(date)) date = new Date(date);\n\n    this.dateEditor.setValue(date);\n\n    this.$hour.val(date.getHours());\n    this.$min.val(date.getMinutes());\n\n    this.updateHidden();\n  },\n\n  focus: function() {\n    if (this.hasFocus) return;\n\n    this.$('select').first().focus();\n  },\n\n  blur: function() {\n    if (!this.hasFocus) return;\n\n    this.$('select:focus').blur();\n  },\n\n  /**\n   * Update the hidden input which is maintained for when submitting a form\n   * via a normal browser POST\n   */\n  updateHidden: function() {\n    var val = this.getValue();\n    if (_.isDate(val)) val = val.toISOString();\n\n    this.$hidden.val(val);\n  },\n\n  /**\n   * Remove the Date editor before removing self\n   */\n  remove: function() {\n    this.dateEditor.remove();\n\n    Form.editors.Base.prototype.remove.call(this);\n  }\n\n}, {\n  //STATICS\n  template: _.template('\\\n    <div class=\"bbf-datetime\">\\\n      <div class=\"bbf-date-container\" data-date></div>\\\n      <select data-type=\"hour\"><%= hours %></select>\\\n      :\\\n      <select data-type=\"min\"><%= mins %></select>\\\n    </div>\\\n  ', null, Form.templateSettings),\n\n  //The date editor to use (constructor function, not instance)\n  DateEditor: Form.editors.Date\n});\n\n\n\n  //Metadata\n  Form.VERSION = '0.13.0';\n\n\n  //Exports\n  Backbone.Form = Form;\n  if (typeof exports !== 'undefined') exports = Form;\n\n})(window || global || this);\n","// https://github.com/powmedia/backbone-forms/issues/144\n// Custom editors , all require full names   Backbone.Form.editors\n\n     // like 'Select' editor, but will always return a boolean (true or false)\n    Backbone.Form.editors.BooleanSelect = Backbone.Form.editors.Select.extend({\n        initialize: function(options) {\n            options.schema.options = [\n                { val: '', label: 'Nie' },\n                { val: '1', label: 'Tak' }\n            ];\n            Backbone.Form.editors.Select.prototype.initialize.call(this, options);\n        },\n        getValue: function() {\n            return !!Backbone.Form.editors.Select.prototype.getValue.call(this);\n        },\n        setValue: function(value) {\n            value = value ? '1' : '';\n            Backbone.Form.editors.Select.prototype.setValue.call(this, value);\n        }\n    });\n\n    // like the 'Select' editor, except will always return a number (int or float)\n//    Backbone.Form.editors.NumberSelect = Backbone.Form.editors.Select.extend({\n//        getValue: function() {\n//            return parseFloat(Backbone.Form.editors.Select.prototype.getValue.call(this));\n//        },\n//        setValue: function(value) {\n//            Backbone.Form.editors.Select.prototype.setValue.call(this, parseFloat(value));\n//        }\n//    });\n\n\n//_.extend(Backbone.Form.editors, MyProject.Form.editors);\n","/**\n * Include this template file after backbone-forms.amd.js to override the default templates\n *\n * 'data-*' attributes control where elements are placed\n * help: schema.help || '',\n *     title: schema.title,\n *     fieldAttrs: schema.fieldAttrs,\n *     editorAttrs: schema.editorAttrs,\n *     key: this.key,\n *     editorId: this.editor.id\n */\n;(function(Form) {\n\n\n  /**\n   * Bootstrap 3 templates\n   */\n  Form.template = _.template('\\\n    <form class=\"form-horizontal\" role=\"form\" action=\"#\" method=\"#\" data-fields>\\\n    <div class=\"ui-block-b\"><button type=\"submit\" data-theme=\"a\" id=\"save_offer\">Zapisz!</button></div>\\\n    </form>\\\n  ');\n\n\n    Form.Fieldset.template = _.template('\\\n    ');\n\n\n\n  Form.Field.template = _.template('\\\n        <div class=\"ui-field-contain\" data-mini=\"true\" data-editor >\\\n      <label for=\"<%= editorId %>\"><%= title %><% if (help) { %> <a class=\"form-help ui-btn ui-icon-info ui-btn-icon-notext ui-corner-all\"><%= help %></a> <% } %>\\\n      <br />\\\n        <span class=\"help-block\" data-error></span>\\\n      </label>\\\n        </div>\\\n  ');\n//  Form.BooleanSelect.template = _.template('\\\n//        <div class=\"ui-field-contain\" data-mini=\"true\" data-editor >\\\n//      <label for=\"<%= editorId %>\"><%= title %><% if (help) { %> <a href=\"#\" class=\"ui-btn ui-icon-info ui-btn-icon-notext ui-corner-all\"><%= help %></a> <% } %>\\\n//      <br />\\\n//        <span class=\"help-block\" data-error></span>\\\n//      </label>\\\n//        </div>\\\n//  ');\n\n  Form.editors.Date.template = _.template('\\\n        <fieldset data-role=\"controlgroup\" data-type=\"horizontal\" data-editor >\\\n      <select data-type=\"date\"><%= dates %></select>\\\n      <select data-type=\"month\"><%= months %></select>\\\n      <select data-type=\"year\"><%= years %></select>\\\n        </fieldset>\\\n        <p class=\"help-block\" data-error></p>\\\n  ');\n\n Form.editors.Date.monthNames = [ 'Styczeń', 'Luty', 'Marzec', 'Kwiecień', 'Maj', 'Czerwiec', 'Lipiec', 'Sierpień', 'Wrzesień', 'Październik', 'Listopad', 'Grudzień' ];\n\n\n\n\n\n  Form.NestedField.template = _.template('\\\n    <div class=\"field-<%= key %>\">\\\n      <div title=\"<%= title %>\" class=\"input-xlarge\">\\\n        <span data-editor></span>\\\n        <div class=\"help-inline\" data-error></div>\\\n      </div>\\\n      <div class=\"help-block\"><%= help %></div>\\\n    </div>\\\n  ');\n\n  Form.editors.Base.prototype.className = 'form-control';\n  Form.Field.errorClassName = 'has-error';\n\n\n  if (Form.editors.List) {\n\n    Form.editors.List.template = _.template('\\\n      <div class=\"bbf-list\">\\\n        <ul class=\"unstyled clearfix\" data-items></ul>\\\n        <button type=\"button\" class=\"btn bbf-add\" data-action=\"add\">Add</button>\\\n      </div>\\\n    ');\n\n\n    Form.editors.List.Item.template = _.template('\\\n      <li class=\"clearfix\">\\\n        <div class=\"pull-left\" data-editor></div>\\\n        <button type=\"button\" class=\"btn bbf-del\" data-action=\"remove\">&times;</button>\\\n      </li>\\\n    ');\n\n\n    Form.editors.List.Object.template = Form.editors.List.NestedModel.template = _.template('\\\n      <div class=\"bbf-list-modal\"><%= summary %></div>\\\n    ');\n\n  }\n\n\n})(Backbone.Form);\n","\n(function($){$.extend({tablesorter:new\nfunction(){var parsers=[],widgets=[];this.defaults={cssHeader:\"header\",cssAsc:\"headerSortUp\",cssDesc:\"headerSortDown\",cssChildRow:\"expand-child\",sortInitialOrder:\"asc\",sortMultiSortKey:\"shiftKey\",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:\"simple\",parsers:{},widgets:[],widgetZebra:{css:[\"even\",\"odd\"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:\"us\",decimal:'/\\.|\\,/g',onRenderHeader:null,selectorHeaders:'thead th',debug:false};function benchmark(s,d){log(s+\",\"+(new Date().getTime()-d.getTime())+\"ms\");}this.benchmark=benchmark;function log(s){if(typeof console!=\"undefined\"&&typeof console.debug!=\"undefined\"){console.log(s);}else{alert(s);}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug=\"\";}if(table.tBodies.length==0)return;var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter);}else if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter);}if(!p){p=detectParserForColumn(table,rows,-1,i);}if(table.config.debug){parsersDebug+=\"column:\"+i+\" parser:\"+p.id+\"\\n\";}list.push(p);}}if(table.config.debug){log(parsersDebug);}return list;};function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==''&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log('Checking if value was empty on row:'+rowIndex);}}else{keepLooking=false;}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i];}}return parsers[0];}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex];}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node));}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i];}}return false;}function buildCache(table){if(table.config.debug){var cacheTime=new Date();}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue;}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]));}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null;};if(table.config.debug){benchmark(\"Building cache for \"+totalRows+\" rows:\",cacheTime);}return cache;};function getElementText(config,node){var text=\"\";if(!node)return\"\";if(!config.supportsTextContent)config.supportsTextContent=node.textContent||false;if(config.textExtraction==\"simple\"){if(config.supportsTextContent){text=node.textContent;}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML;}else{text=node.innerHTML;}}}else{if(typeof(config.textExtraction)==\"function\"){text=config.textExtraction(node);}else{text=$(node).text();}}return text;}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j]);}}}if(table.config.appender){table.config.appender(table,rows);}rows=null;if(table.config.debug){benchmark(\"Rebuilt table:\",appendTime);}applyWidget(table);setTimeout(function(){$(table).trigger(\"sortEnd\");},0);};function buildHeaders(table){if(table.config.debug){var time=new Date();}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+\"-\"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(table,index))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index);if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader)table.config.onRenderHeader.apply($th);}table.config.headerList[index]=this;});if(table.config.debug){benchmark(\"Built headers:\",time);log($tableHeaders);}return $tableHeaders;};function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName('THEAD')[0];var trs=thead.getElementsByTagName('TR');for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+\"-\"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1\nvar firstAvailCol;if(typeof(matrix[rowIndex])==\"undefined\"){matrix[rowIndex]=[];}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])==\"undefined\"){firstAvailCol=k;break;}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])==\"undefined\"){matrix[k]=[];}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]=\"x\";}}}}return lookup;}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++));}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell);}}}return arr;};function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true;};return false;}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true;};return false;}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder))return table.config.headers[i].lockedOrder;return false;}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table);}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i];}}};function formatSortingOrder(v){if(typeof(v)!=\"Number\"){return(v.toLowerCase()==\"desc\")?1:0;}else{return(v==1)?1:0;}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true;}}return false;}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this);}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]]);}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$('<colgroup>');$(\"tr:first td\",table.tBodies[0]).each(function(){colgroup.append($('<col>').css('width',$(this).width()));});$(table).prepend(colgroup);};}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++;}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date();}var dynamicExp=\"var sortWrapper = function(a,b) {\",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type==\"text\")?((order==0)?makeSortFunction(\"text\",\"asc\",c):makeSortFunction(\"text\",\"desc\",c)):((order==0)?makeSortFunction(\"numeric\",\"asc\",c):makeSortFunction(\"numeric\",\"desc\",c));var e=\"e\"+i;dynamicExp+=\"var \"+e+\" = \"+s;dynamicExp+=\"if(\"+e+\") { return \"+e+\"; } \";dynamicExp+=\"else { \";}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+=\"return a[\"+orgOrderCol+\"]-b[\"+orgOrderCol+\"];\";for(var i=0;i<l;i++){dynamicExp+=\"}; \";}dynamicExp+=\"return 0; \";dynamicExp+=\"}; \";if(table.config.debug){benchmark(\"Evaling expression:\"+dynamicExp,new Date());}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark(\"Sorting on \"+sortList.toString()+\" and dir \"+order+\" time:\",sortTime);}return cache;};function makeSortFunction(type,direction,index){var a=\"a[\"+index+\"]\",b=\"b[\"+index+\"]\";if(type=='text'&&direction=='asc'){return\"(\"+a+\" == \"+b+\" ? 0 : (\"+a+\" === null ? Number.POSITIVE_INFINITY : (\"+b+\" === null ? Number.NEGATIVE_INFINITY : (\"+a+\" < \"+b+\") ? -1 : 1 )));\";}else if(type=='text'&&direction=='desc'){return\"(\"+a+\" == \"+b+\" ? 0 : (\"+a+\" === null ? Number.POSITIVE_INFINITY : (\"+b+\" === null ? Number.NEGATIVE_INFINITY : (\"+b+\" < \"+a+\") ? -1 : 1 )));\";}else if(type=='numeric'&&direction=='asc'){return\"(\"+a+\" === null && \"+b+\" === null) ? 0 :(\"+a+\" === null ? Number.POSITIVE_INFINITY : (\"+b+\" === null ? Number.NEGATIVE_INFINITY : \"+a+\" - \"+b+\"));\";}else if(type=='numeric'&&direction=='desc'){return\"(\"+a+\" === null && \"+b+\" === null) ? 0 :(\"+a+\" === null ? Number.POSITIVE_INFINITY : (\"+b+\" === null ? Number.NEGATIVE_INFINITY : \"+b+\" - \"+a+\"));\";}};function makeSortText(i){return\"((a[\"+i+\"] < b[\"+i+\"]) ? -1 : ((a[\"+i+\"] > b[\"+i+\"]) ? 1 : 0));\";};function makeSortTextDesc(i){return\"((b[\"+i+\"] < a[\"+i+\"]) ? -1 : ((b[\"+i+\"] > a[\"+i+\"]) ? 1 : 0));\";};function makeSortNumeric(i){return\"a[\"+i+\"]-b[\"+i+\"];\";};function makeSortNumericDesc(i){return\"b[\"+i+\"]-a[\"+i+\"];\";};function sortText(a,b){if(table.config.sortLocaleCompare)return a.localeCompare(b);return((a<b)?-1:((a>b)?1:0));};function sortTextDesc(a,b){if(table.config.sortLocaleCompare)return b.localeCompare(a);return((b<a)?-1:((b>a)?1:0));};function sortNumeric(a,b){return a-b;};function sortNumericDesc(a,b){return b-a;};function getCachedSortType(parsers,i){return parsers[i].type;};this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies)return;var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,\"tablesorter\",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger(\"sortStart\");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j]);}}}config.sortList.push([i,this.order]);}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2;}}}else{config.sortList.push([i,this.order]);}};setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache));},1);return false;}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false;}});$this.bind(\"update\",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me);},1);}).bind(\"updateCell\",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell);}).bind(\"sorton\",function(e,list){$(this).trigger(\"sortStart\");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache));}).bind(\"appendCache\",function(){appendToTable(this,cache);}).bind(\"applyWidgetId\",function(e,id){getWidgetById(id).format(this);}).bind(\"applyWidgets\",function(){applyWidget(this);});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist;}if(config.sortList.length>0){$this.trigger(\"sorton\",[config.sortList]);}applyWidget(this);});};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false;}}if(a){parsers.push(parser);};};this.addWidget=function(widget){widgets.push(widget);};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i;};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i;};this.isDigit=function(s,config){return/^[-+]?\\d*$/.test($.trim(s.replace(/[,.']/g,'')));};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild)this.removeChild(this.firstChild);}empty.apply(table.tBodies[0]);}else{table.tBodies[0].innerHTML=\"\";}};}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:\"text\",is:function(s){return true;},format:function(s){return $.trim(s.toLocaleLowerCase());},type:\"text\"});ts.addParser({id:\"digit\",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c);},format:function(s){return $.tablesorter.formatFloat(s);},type:\"numeric\"});ts.addParser({id:\"currency\",is:function(s){return/^[£$€?.]/.test(s);},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[£$€]/g),\"\"));},type:\"numeric\"});ts.addParser({id:\"ipAddress\",is:function(s){return/^\\d{2,3}[\\.]\\d{2,3}[\\.]\\d{2,3}[\\.]\\d{2,3}$/.test(s);},format:function(s){var a=s.split(\".\"),r=\"\",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+=\"0\"+item;}else{r+=item;}}return $.tablesorter.formatFloat(r);},type:\"numeric\"});ts.addParser({id:\"url\",is:function(s){return/^(https?|ftp|file):\\/\\/$/.test(s);},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\\/\\//),''));},type:\"text\"});ts.addParser({id:\"isoDate\",is:function(s){return/^\\d{4}[\\/-]\\d{1,2}[\\/-]\\d{1,2}$/.test(s);},format:function(s){return $.tablesorter.formatFloat((s!=\"\")?new Date(s.replace(new RegExp(/-/g),\"/\")).getTime():\"0\");},type:\"numeric\"});ts.addParser({id:\"percent\",is:function(s){return/\\%$/.test($.trim(s));},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),\"\"));},type:\"numeric\"});ts.addParser({id:\"usLongDate\",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\\s(AM|PM)))$/));},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime());},type:\"numeric\"});ts.addParser({id:\"shortDate\",is:function(s){return/\\d{1,2}[\\/\\-]\\d{1,2}[\\/\\-]\\d{2,4}/.test(s);},format:function(s,table){var c=table.config;s=s.replace(/\\-/g,\"/\");if(c.dateFormat==\"us\"){s=s.replace(/(\\d{1,2})[\\/\\-](\\d{1,2})[\\/\\-](\\d{4})/,\"$3/$1/$2\");}else if(c.dateFormat==\"uk\"){s=s.replace(/(\\d{1,2})[\\/\\-](\\d{1,2})[\\/\\-](\\d{4})/,\"$3/$2/$1\");}else if(c.dateFormat==\"dd/mm/yy\"||c.dateFormat==\"dd-mm-yy\"){s=s.replace(/(\\d{1,2})[\\/\\-](\\d{1,2})[\\/\\-](\\d{2})/,\"$1/$2/$3\");}return $.tablesorter.formatFloat(new Date(s).getTime());},type:\"numeric\"});ts.addParser({id:\"time\",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\\s(am|pm)))$/.test(s);},format:function(s){return $.tablesorter.formatFloat(new Date(\"2000/01/01 \"+s).getTime());},type:\"numeric\"});ts.addParser({id:\"metadata\",is:function(s){return false;},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?'sortValue':c.parserMetadataName;return $(cell).metadata()[p];},type:\"numeric\"});ts.addWidget({id:\"zebra\",format:function(table){if(table.config.debug){var time=new Date();}var $tr,row=-1,odd;$(\"tr:visible\",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow))row++;odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark(\"Applying Zebra widget\",time);}}});})(jQuery);","/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS=CryptoJS||function(h,s){var f={},g=f.lib={},q=function(){},m=g.Base={extend:function(a){q.prototype=this;var c=new q;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\nr=g.WordArray=m.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=s?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var c=this.words,d=a.words,b=this.sigBytes;a=a.sigBytes;this.clamp();if(b%4)for(var e=0;e<a;e++)c[b+e>>>2]|=(d[e>>>2]>>>24-8*(e%4)&255)<<24-8*((b+e)%4);else if(65535<d.length)for(e=0;e<a;e+=4)c[b+e>>>2]=d[e>>>2];else c.push.apply(c,d);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\n32-8*(c%4);a.length=h.ceil(c/4)},clone:function(){var a=m.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],d=0;d<a;d+=4)c.push(4294967296*h.random()|0);return new r.init(c,a)}}),l=f.enc={},k=l.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++){var e=c[b>>>2]>>>24-8*(b%4)&255;d.push((e>>>4).toString(16));d.push((e&15).toString(16))}return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b+=2)d[b>>>3]|=parseInt(a.substr(b,\n2),16)<<24-4*(b%8);return new r.init(d,c/2)}},n=l.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var d=[],b=0;b<a;b++)d.push(String.fromCharCode(c[b>>>2]>>>24-8*(b%4)&255));return d.join(\"\")},parse:function(a){for(var c=a.length,d=[],b=0;b<c;b++)d[b>>>2]|=(a.charCodeAt(b)&255)<<24-8*(b%4);return new r.init(d,c)}},j=l.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},\nu=g.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=j.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,d=c.words,b=c.sigBytes,e=this.blockSize,f=b/(4*e),f=a?h.ceil(f):h.max((f|0)-this._minBufferSize,0);a=f*e;b=h.min(4*a,b);if(a){for(var g=0;g<a;g+=e)this._doProcessBlock(d,g);g=d.splice(0,a);c.sigBytes-=b}return new r.init(g,b)},clone:function(){var a=m.clone.call(this);\na._data=this._data.clone();return a},_minBufferSize:0});g.Hasher=u.extend({cfg:m.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){u.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(c,d){return(new a.init(d)).finalize(c)}},_createHmacHelper:function(a){return function(c,d){return(new t.HMAC.init(a,\nd)).finalize(c)}}});var t=f.algo={};return f}(Math);\n(function(h){for(var s=CryptoJS,f=s.lib,g=f.WordArray,q=f.Hasher,f=s.algo,m=[],r=[],l=function(a){return 4294967296*(a-(a|0))|0},k=2,n=0;64>n;){var j;a:{j=k;for(var u=h.sqrt(j),t=2;t<=u;t++)if(!(j%t)){j=!1;break a}j=!0}j&&(8>n&&(m[n]=l(h.pow(k,0.5))),r[n]=l(h.pow(k,1/3)),n++);k++}var a=[],f=f.SHA256=q.extend({_doReset:function(){this._hash=new g.init(m.slice(0))},_doProcessBlock:function(c,d){for(var b=this._hash.words,e=b[0],f=b[1],g=b[2],j=b[3],h=b[4],m=b[5],n=b[6],q=b[7],p=0;64>p;p++){if(16>p)a[p]=\nc[d+p]|0;else{var k=a[p-15],l=a[p-2];a[p]=((k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3)+a[p-7]+((l<<15|l>>>17)^(l<<13|l>>>19)^l>>>10)+a[p-16]}k=q+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&m^~h&n)+r[p]+a[p];l=((e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22))+(e&f^e&g^f&g);q=n;n=m;m=h;h=j+k|0;j=g;g=f;f=e;e=k+l|0}b[0]=b[0]+e|0;b[1]=b[1]+f|0;b[2]=b[2]+g|0;b[3]=b[3]+j|0;b[4]=b[4]+h|0;b[5]=b[5]+m|0;b[6]=b[6]+n|0;b[7]=b[7]+q|0},_doFinalize:function(){var a=this._data,d=a.words,b=8*this._nDataBytes,e=8*a.sigBytes;\nd[e>>>5]|=128<<24-e%32;d[(e+64>>>9<<4)+14]=h.floor(b/4294967296);d[(e+64>>>9<<4)+15]=b;a.sigBytes=4*d.length;this._process();return this._hash},clone:function(){var a=q.clone.call(this);a._hash=this._hash.clone();return a}});s.SHA256=q._createHelper(f);s.HmacSHA256=q._createHmacHelper(f)})(Math);\n(function(){var h=CryptoJS,s=h.enc.Utf8;h.algo.HMAC=h.lib.Base.extend({init:function(f,g){f=this._hasher=new f.init;\"string\"==typeof g&&(g=s.parse(g));var h=f.blockSize,m=4*h;g.sigBytes>m&&(g=f.finalize(g));g.clamp();for(var r=this._oKey=g.clone(),l=this._iKey=g.clone(),k=r.words,n=l.words,j=0;j<h;j++)k[j]^=1549556828,n[j]^=909522486;r.sigBytes=l.sigBytes=m;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var g=\nthis._hasher;f=g.finalize(f);g.reset();return g.finalize(this._oKey.clone().concat(f))}})})();\n","/*\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\n(function(){var h=CryptoJS,j=h.lib.WordArray;h.enc.Base64={stringify:function(b){var e=b.words,f=b.sigBytes,c=this._map;b.clamp();b=[];for(var a=0;a<f;a+=3)for(var d=(e[a>>>2]>>>24-8*(a%4)&255)<<16|(e[a+1>>>2]>>>24-8*((a+1)%4)&255)<<8|e[a+2>>>2]>>>24-8*((a+2)%4)&255,g=0;4>g&&a+0.75*g<f;g++)b.push(c.charAt(d>>>6*(3-g)&63));if(e=c.charAt(64))for(;b.length%4;)b.push(e);return b.join(\"\")},parse:function(b){var e=b.length,f=this._map,c=f.charAt(64);c&&(c=b.indexOf(c),-1!=c&&(e=c));for(var c=[],a=0,d=0;d<\ne;d++)if(d%4){var g=f.indexOf(b.charAt(d-1))<<2*(d%4),h=f.indexOf(b.charAt(d))>>>6-2*(d%4);c[a>>>2]|=(g|h)<<24-8*(a%4);a++}return j.create(c,a)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n"]}